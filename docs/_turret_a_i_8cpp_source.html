<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Richard Boegli&#39;s CnC_Generals_Zero_Hour Fork: Code/GameEngine/Source/GameLogic/AI/TurretAI.cpp Source File</title>
<link rel="icon" href="sam_smile.png" type="image/x-icon" />
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="sam_smile.png"/></td>
  <td id="projectalign">
   <div id="projectname">Richard Boegli&#39;s CnC_Generals_Zero_Hour Fork<span id="projectnumber">&#160;WIP</span>
   </div>
   <div id="projectbrief">This is documentation of Richard Boegil&#39;s Zero Hour Fork</div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('_turret_a_i_8cpp_source.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">TurretAI.cpp</div></div>
</div><!--header-->
<div class="contents">
<a href="_turret_a_i_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span><span class="comment">/*</span></div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span><span class="comment">**  Command &amp; Conquer Generals Zero Hour(tm)</span></div>
<div class="line"><a id="l00003" name="l00003"></a><span class="lineno">    3</span><span class="comment">**  Copyright 2025 Electronic Arts Inc.</span></div>
<div class="line"><a id="l00004" name="l00004"></a><span class="lineno">    4</span><span class="comment">**</span></div>
<div class="line"><a id="l00005" name="l00005"></a><span class="lineno">    5</span><span class="comment">**  This program is free software: you can redistribute it and/or modify</span></div>
<div class="line"><a id="l00006" name="l00006"></a><span class="lineno">    6</span><span class="comment">**  it under the terms of the GNU General Public License as published by</span></div>
<div class="line"><a id="l00007" name="l00007"></a><span class="lineno">    7</span><span class="comment">**  the Free Software Foundation, either version 3 of the License, or</span></div>
<div class="line"><a id="l00008" name="l00008"></a><span class="lineno">    8</span><span class="comment">**  (at your option) any later version.</span></div>
<div class="line"><a id="l00009" name="l00009"></a><span class="lineno">    9</span><span class="comment">**</span></div>
<div class="line"><a id="l00010" name="l00010"></a><span class="lineno">   10</span><span class="comment">**  This program is distributed in the hope that it will be useful,</span></div>
<div class="line"><a id="l00011" name="l00011"></a><span class="lineno">   11</span><span class="comment">**  but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div>
<div class="line"><a id="l00012" name="l00012"></a><span class="lineno">   12</span><span class="comment">**  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span></div>
<div class="line"><a id="l00013" name="l00013"></a><span class="lineno">   13</span><span class="comment">**  GNU General Public License for more details.</span></div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno">   14</span><span class="comment">**</span></div>
<div class="line"><a id="l00015" name="l00015"></a><span class="lineno">   15</span><span class="comment">**  You should have received a copy of the GNU General Public License</span></div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno">   16</span><span class="comment">**  along with this program.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span></div>
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno">   17</span><span class="comment">*/</span></div>
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno">   18</span></div>
<div class="line"><a id="l00020" name="l00020"></a><span class="lineno">   20</span><span class="comment">//                                                                                                                                                      //</span></div>
<div class="line"><a id="l00021" name="l00021"></a><span class="lineno">   21</span><span class="comment">//  (c) 2001-2003 Electronic Arts Inc.                                                                              //</span></div>
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno">   22</span><span class="comment">//                                                                                                                                                      //</span></div>
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno">   24</span> </div>
<div class="line"><a id="l00025" name="l00025"></a><span class="lineno">   25</span><span class="comment">// TurretAI.cpp </span></div>
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno">   26</span><span class="comment">// Turret behavior implementation</span></div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno">   27</span><span class="comment">// Author: Steven Johnson, April 2002</span></div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno">   28</span> </div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno">   29</span><span class="preprocessor">#include &quot;<a class="code" href="_pre_r_t_s_8h.html">PreRTS.h</a>&quot;</span> <span class="comment">// This must go first in EVERY cpp file int the GameEngine</span></div>
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno">   30</span> </div>
<div class="line"><a id="l00031" name="l00031"></a><span class="lineno"><a class="line" href="_turret_a_i_8cpp.html#a90ee26a397ae72303aff720766add46c">   31</a></span><span class="preprocessor">#define DEFINE_WEAPONSLOTTYPE_NAMES</span></div>
<div class="line"><a id="l00032" name="l00032"></a><span class="lineno">   32</span> </div>
<div class="line"><a id="l00033" name="l00033"></a><span class="lineno">   33</span><span class="preprocessor">#include &quot;<a class="code" href="_game_audio_8h.html">Common/GameAudio.h</a>&quot;</span></div>
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno">   34</span><span class="preprocessor">#include &quot;<a class="code" href="_perf_timer_8h.html">Common/PerfTimer.h</a>&quot;</span></div>
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno">   35</span><span class="preprocessor">#include &quot;<a class="code" href="_random_value_8h.html">Common/RandomValue.h</a>&quot;</span></div>
<div class="line"><a id="l00036" name="l00036"></a><span class="lineno">   36</span><span class="preprocessor">#include &quot;<a class="code" href="_thing_template_8h.html">Common/ThingTemplate.h</a>&quot;</span></div>
<div class="line"><a id="l00037" name="l00037"></a><span class="lineno">   37</span><span class="preprocessor">#include &quot;<a class="code" href="_xfer_8h.html">Common/Xfer.h</a>&quot;</span></div>
<div class="line"><a id="l00038" name="l00038"></a><span class="lineno">   38</span> </div>
<div class="line"><a id="l00039" name="l00039"></a><span class="lineno">   39</span><span class="preprocessor">#include &quot;<a class="code" href="_game_logic_8h.html">GameLogic/GameLogic.h</a>&quot;</span></div>
<div class="line"><a id="l00040" name="l00040"></a><span class="lineno">   40</span><span class="preprocessor">#include &quot;<a class="code" href="_a_i_update_8h.html">GameLogic/Module/AIUpdate.h</a>&quot;</span></div>
<div class="line"><a id="l00041" name="l00041"></a><span class="lineno">   41</span><span class="preprocessor">#include &quot;<a class="code" href="_object_8h.html">GameLogic/Object.h</a>&quot;</span></div>
<div class="line"><a id="l00042" name="l00042"></a><span class="lineno">   42</span><span class="preprocessor">#include &quot;<a class="code" href="_partition_manager_8h.html">GameLogic/PartitionManager.h</a>&quot;</span></div>
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno">   43</span><span class="preprocessor">#include &quot;<a class="code" href="_terrain_logic_8h.html">GameLogic/TerrainLogic.h</a>&quot;</span></div>
<div class="line"><a id="l00044" name="l00044"></a><span class="lineno">   44</span><span class="preprocessor">#include &quot;<a class="code" href="_turret_a_i_8h.html">GameLogic/TurretAI.h</a>&quot;</span></div>
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno">   45</span><span class="preprocessor">#include &quot;<a class="code" href="_weapon_8h.html">GameLogic/Weapon.h</a>&quot;</span></div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno">   46</span><span class="preprocessor">#include &quot;<a class="code" href="_weapon_set_8h.html">GameLogic/WeaponSet.h</a>&quot;</span></div>
<div class="line"><a id="l00047" name="l00047"></a><span class="lineno">   47</span> </div>
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno"><a class="line" href="_turret_a_i_8cpp.html#a1dca90a55fc8696d5c02b886be43916f">   48</a></span><span class="keyword">const</span> <a class="code hl_typedef" href="_base_type_8h.html#accf2bdf590f4e906ebad9216ebb7c698">UnsignedInt</a> <a class="code hl_variable" href="_turret_a_i_8cpp.html#a1dca90a55fc8696d5c02b886be43916f">WAIT_INDEFINITELY</a> = 0xffffffff;</div>
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno">   49</span> </div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno">   50</span><span class="preprocessor">#ifdef _INTERNAL</span></div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno">   51</span><span class="comment">// for occasional debugging...</span></div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno">   52</span><span class="comment">//#pragma optimize(&quot;&quot;, off)</span></div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno">   53</span><span class="comment">//#pragma MESSAGE(&quot;************************************** WARNING, optimization disabled for debugging purposes&quot;)</span></div>
<div class="line"><a id="l00054" name="l00054"></a><span class="lineno">   54</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00055" name="l00055"></a><span class="lineno">   55</span> </div>
<div class="line"><a id="l00056" name="l00056"></a><span class="lineno">   56</span><span class="comment">// ------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno">   57</span><span class="comment">// ------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno">   58</span><span class="keyword">static</span> <a class="code hl_enumeration" href="_state_machine_8h.html#a85691a8a74800ef33464a702eb251d88">StateReturnType</a> frameToSleepTime(</div>
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno">   59</span>    <a class="code hl_typedef" href="_base_type_8h.html#accf2bdf590f4e906ebad9216ebb7c698">UnsignedInt</a> frame1, </div>
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno">   60</span>    <a class="code hl_typedef" href="_base_type_8h.html#accf2bdf590f4e906ebad9216ebb7c698">UnsignedInt</a> frame2 = <a class="code hl_enumvalue" href="_game_common_8h.html#ae64879c915ec257e60e00046545e49e3a207c32b6a70af113abeaaf13f20f3623">FOREVER</a>, </div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno">   61</span>    <a class="code hl_typedef" href="_base_type_8h.html#accf2bdf590f4e906ebad9216ebb7c698">UnsignedInt</a> frame3 = <a class="code hl_enumvalue" href="_game_common_8h.html#ae64879c915ec257e60e00046545e49e3a207c32b6a70af113abeaaf13f20f3623">FOREVER</a>, </div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno">   62</span>    <a class="code hl_typedef" href="_base_type_8h.html#accf2bdf590f4e906ebad9216ebb7c698">UnsignedInt</a> frame4 = <a class="code hl_enumvalue" href="_game_common_8h.html#ae64879c915ec257e60e00046545e49e3a207c32b6a70af113abeaaf13f20f3623">FOREVER</a></div>
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno">   63</span>)</div>
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno">   64</span>{</div>
<div class="line"><a id="l00065" name="l00065"></a><span class="lineno">   65</span>    <span class="keywordflow">if</span> (frame1 &gt; frame2) frame1 = frame2;</div>
<div class="line"><a id="l00066" name="l00066"></a><span class="lineno">   66</span>    <span class="keywordflow">if</span> (frame1 &gt; frame3) frame1 = frame3;</div>
<div class="line"><a id="l00067" name="l00067"></a><span class="lineno">   67</span>    <span class="keywordflow">if</span> (frame1 &gt; frame4) frame1 = frame4;</div>
<div class="line"><a id="l00068" name="l00068"></a><span class="lineno">   68</span>    <a class="code hl_typedef" href="_base_type_8h.html#accf2bdf590f4e906ebad9216ebb7c698">UnsignedInt</a> now = <a class="code hl_variable" href="_game_logic_8h.html#a9848d8d95263edf086306e6eb3d3c9bc">TheGameLogic</a>-&gt;getFrame();</div>
<div class="line"><a id="l00069" name="l00069"></a><span class="lineno">   69</span>    <span class="keywordflow">if</span> (frame1 &gt; now)</div>
<div class="line"><a id="l00070" name="l00070"></a><span class="lineno">   70</span>    {</div>
<div class="line"><a id="l00071" name="l00071"></a><span class="lineno">   71</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="_state_machine_8h.html#a37b00be2b3ee5a67ce99c481782c08c0">STATE_SLEEP</a>(frame1 - now);</div>
<div class="line"><a id="l00072" name="l00072"></a><span class="lineno">   72</span>    }</div>
<div class="line"><a id="l00073" name="l00073"></a><span class="lineno">   73</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l00074" name="l00074"></a><span class="lineno">   74</span>    {</div>
<div class="line"><a id="l00075" name="l00075"></a><span class="lineno">   75</span>        <span class="comment">// ignore times that are in the past, since this can frequently happen</span></div>
<div class="line"><a id="l00076" name="l00076"></a><span class="lineno">   76</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="_state_machine_8h.html#a85691a8a74800ef33464a702eb251d88aef9ef5d8f83fb758af6a2c17d558d503">STATE_CONTINUE</a>;</div>
<div class="line"><a id="l00077" name="l00077"></a><span class="lineno">   77</span>    }</div>
<div class="line"><a id="l00078" name="l00078"></a><span class="lineno">   78</span>}</div>
<div class="line"><a id="l00079" name="l00079"></a><span class="lineno">   79</span> </div>
<div class="line"><a id="l00080" name="l00080"></a><span class="lineno">   80</span><span class="comment">//----------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00081" name="l00081"></a><span class="lineno">   81</span><span class="comment">//----------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00082" name="l00082"></a><span class="lineno">   82</span><span class="comment">//----------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00083" name="l00083"></a><span class="lineno">   83</span> </div>
<div class="line"><a id="l00084" name="l00084"></a><span class="lineno">   84</span><span class="comment">//----------------------------------------------------------------------------------------------------------</span></div>
<div class="foldopen" id="foldopen00089" data-start="{" data-end="}">
<div class="line"><a id="l00089" name="l00089"></a><span class="lineno"><a class="line" href="class_turret_state_machine.html#aeee631adfb79296d9e6ba17c087e6143">   89</a></span><a class="code hl_function" href="class_turret_state_machine.html#aeee631adfb79296d9e6ba17c087e6143">TurretStateMachine::TurretStateMachine</a>( <a class="code hl_class" href="class_turret_a_i.html">TurretAI</a>* tai, <a class="code hl_class" href="class_object.html">Object</a> *obj, <a class="code hl_class" href="class_ascii_string.html">AsciiString</a> name ) : m_turretAI(tai), <a class="code hl_function" href="class_state_machine.html#ae8ca52bb0f4cd3b484c403b39a6a78d3">StateMachine</a>( obj, name )</div>
<div class="line"><a id="l00090" name="l00090"></a><span class="lineno">   90</span>{</div>
<div class="line"><a id="l00091" name="l00091"></a><span class="lineno">   91</span>    <span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_struct" href="struct_state_condition_info.html">StateConditionInfo</a> fireConditions[] = </div>
<div class="line"><a id="l00092" name="l00092"></a><span class="lineno">   92</span>    {</div>
<div class="line"><a id="l00093" name="l00093"></a><span class="lineno">   93</span>        <a class="code hl_struct" href="struct_state_condition_info.html">StateConditionInfo</a>(<a class="code hl_function" href="_a_i_state_machine_8h.html#acebbc97b19c340871ae15c5765948944">outOfWeaponRangeObject</a>, <a class="code hl_enumvalue" href="_turret_a_i_8h.html#aefd7b2badcc8db3aed5cf9bf8bd06892af08d24d67e6fe3ac3fdf22b17bd7c3d3">TURRETAI_AIM</a>, <a class="code hl_define" href="_base_type_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>),</div>
<div class="line"><a id="l00094" name="l00094"></a><span class="lineno">   94</span>        <a class="code hl_struct" href="struct_state_condition_info.html">StateConditionInfo</a>(<a class="code hl_define" href="_base_type_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code hl_define" href="_base_type_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code hl_define" href="_base_type_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)  <span class="comment">// keep last</span></div>
<div class="line"><a id="l00095" name="l00095"></a><span class="lineno">   95</span>    };</div>
<div class="line"><a id="l00096" name="l00096"></a><span class="lineno">   96</span> </div>
<div class="line"><a id="l00097" name="l00097"></a><span class="lineno">   97</span>    <span class="comment">// order matters: first state is the default state.</span></div>
<div class="line"><a id="l00098" name="l00098"></a><span class="lineno">   98</span>    <a class="code hl_function" href="class_state_machine.html#a6b5addc7bcd3d4211e8a26c281a236b3">defineState</a>( <a class="code hl_enumvalue" href="_turret_a_i_8h.html#aefd7b2badcc8db3aed5cf9bf8bd06892a4c03a48825b76639ec5c812b9e7c3b20">TURRETAI_IDLE</a>,                 <a class="code hl_define" href="_game_memory_8h.html#a35fee562c05ae9f944ce2568013ea71c">newInstance</a>(<a class="code hl_class" href="class_turret_a_i_idle_state.html">TurretAIIdleState</a>)( <span class="keyword">this</span> ), <a class="code hl_enumvalue" href="_turret_a_i_8h.html#aefd7b2badcc8db3aed5cf9bf8bd06892a4c03a48825b76639ec5c812b9e7c3b20">TURRETAI_IDLE</a>, <a class="code hl_enumvalue" href="_turret_a_i_8h.html#aefd7b2badcc8db3aed5cf9bf8bd06892aaf1c4be92653adffee85fe0742f2bbc1">TURRETAI_IDLESCAN</a> );</div>
<div class="line"><a id="l00099" name="l00099"></a><span class="lineno">   99</span>    <a class="code hl_function" href="class_state_machine.html#a6b5addc7bcd3d4211e8a26c281a236b3">defineState</a>( <a class="code hl_enumvalue" href="_turret_a_i_8h.html#aefd7b2badcc8db3aed5cf9bf8bd06892aaf1c4be92653adffee85fe0742f2bbc1">TURRETAI_IDLESCAN</a>,         <a class="code hl_define" href="_game_memory_8h.html#a35fee562c05ae9f944ce2568013ea71c">newInstance</a>(<a class="code hl_class" href="class_turret_a_i_idle_scan_state.html">TurretAIIdleScanState</a>)( <span class="keyword">this</span> ), <a class="code hl_enumvalue" href="_turret_a_i_8h.html#aefd7b2badcc8db3aed5cf9bf8bd06892abcc82fbc0ceef28fdea20a316e63f30a">TURRETAI_HOLD</a>, <a class="code hl_enumvalue" href="_turret_a_i_8h.html#aefd7b2badcc8db3aed5cf9bf8bd06892abcc82fbc0ceef28fdea20a316e63f30a">TURRETAI_HOLD</a> );</div>
<div class="line"><a id="l00100" name="l00100"></a><span class="lineno">  100</span>    <a class="code hl_function" href="class_state_machine.html#a6b5addc7bcd3d4211e8a26c281a236b3">defineState</a>( <a class="code hl_enumvalue" href="_turret_a_i_8h.html#aefd7b2badcc8db3aed5cf9bf8bd06892af08d24d67e6fe3ac3fdf22b17bd7c3d3">TURRETAI_AIM</a>,                   <a class="code hl_define" href="_game_memory_8h.html#a35fee562c05ae9f944ce2568013ea71c">newInstance</a>(<a class="code hl_class" href="class_turret_a_i_aim_turret_state.html">TurretAIAimTurretState</a>)( <span class="keyword">this</span> ), <a class="code hl_enumvalue" href="_turret_a_i_8h.html#aefd7b2badcc8db3aed5cf9bf8bd06892a1fb98da8cc7a5d52056f3e76d1866da3">TURRETAI_FIRE</a>, <a class="code hl_enumvalue" href="_turret_a_i_8h.html#aefd7b2badcc8db3aed5cf9bf8bd06892abcc82fbc0ceef28fdea20a316e63f30a">TURRETAI_HOLD</a> );</div>
<div class="line"><a id="l00101" name="l00101"></a><span class="lineno">  101</span>    <a class="code hl_function" href="class_state_machine.html#a6b5addc7bcd3d4211e8a26c281a236b3">defineState</a>( <a class="code hl_enumvalue" href="_turret_a_i_8h.html#aefd7b2badcc8db3aed5cf9bf8bd06892a1fb98da8cc7a5d52056f3e76d1866da3">TURRETAI_FIRE</a>,                 <a class="code hl_define" href="_game_memory_8h.html#a35fee562c05ae9f944ce2568013ea71c">newInstance</a>(<a class="code hl_class" href="class_a_i_attack_fire_weapon_state.html">AIAttackFireWeaponState</a>)( <span class="keyword">this</span>, tai ), <a class="code hl_enumvalue" href="_turret_a_i_8h.html#aefd7b2badcc8db3aed5cf9bf8bd06892af08d24d67e6fe3ac3fdf22b17bd7c3d3">TURRETAI_AIM</a>, <a class="code hl_enumvalue" href="_turret_a_i_8h.html#aefd7b2badcc8db3aed5cf9bf8bd06892af08d24d67e6fe3ac3fdf22b17bd7c3d3">TURRETAI_AIM</a>, fireConditions );</div>
<div class="line"><a id="l00102" name="l00102"></a><span class="lineno">  102</span>    <a class="code hl_function" href="class_state_machine.html#a6b5addc7bcd3d4211e8a26c281a236b3">defineState</a>( <a class="code hl_enumvalue" href="_turret_a_i_8h.html#aefd7b2badcc8db3aed5cf9bf8bd06892a0e84301b7a327d2bad17dac27ea12e16">TURRETAI_RECENTER</a>,         <a class="code hl_define" href="_game_memory_8h.html#a35fee562c05ae9f944ce2568013ea71c">newInstance</a>(<a class="code hl_class" href="class_turret_a_i_recenter_turret_state.html">TurretAIRecenterTurretState</a>)( <span class="keyword">this</span> ), <a class="code hl_enumvalue" href="_turret_a_i_8h.html#aefd7b2badcc8db3aed5cf9bf8bd06892a4c03a48825b76639ec5c812b9e7c3b20">TURRETAI_IDLE</a>, <a class="code hl_enumvalue" href="_turret_a_i_8h.html#aefd7b2badcc8db3aed5cf9bf8bd06892a4c03a48825b76639ec5c812b9e7c3b20">TURRETAI_IDLE</a> );</div>
<div class="line"><a id="l00103" name="l00103"></a><span class="lineno">  103</span>    <a class="code hl_function" href="class_state_machine.html#a6b5addc7bcd3d4211e8a26c281a236b3">defineState</a>( <a class="code hl_enumvalue" href="_turret_a_i_8h.html#aefd7b2badcc8db3aed5cf9bf8bd06892abcc82fbc0ceef28fdea20a316e63f30a">TURRETAI_HOLD</a>,                 <a class="code hl_define" href="_game_memory_8h.html#a35fee562c05ae9f944ce2568013ea71c">newInstance</a>(<a class="code hl_class" href="class_turret_a_i_hold_turret_state.html">TurretAIHoldTurretState</a>)( <span class="keyword">this</span> ), <a class="code hl_enumvalue" href="_turret_a_i_8h.html#aefd7b2badcc8db3aed5cf9bf8bd06892a0e84301b7a327d2bad17dac27ea12e16">TURRETAI_RECENTER</a>, <a class="code hl_enumvalue" href="_turret_a_i_8h.html#aefd7b2badcc8db3aed5cf9bf8bd06892a0e84301b7a327d2bad17dac27ea12e16">TURRETAI_RECENTER</a> );</div>
<div class="line"><a id="l00104" name="l00104"></a><span class="lineno">  104</span>}</div>
</div>
<div class="line"><a id="l00105" name="l00105"></a><span class="lineno">  105</span> </div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno">  106</span><span class="comment">//----------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00107" name="l00107"></a><span class="lineno">  107</span>TurretStateMachine::~TurretStateMachine()</div>
<div class="line"><a id="l00108" name="l00108"></a><span class="lineno">  108</span>{</div>
<div class="line"><a id="l00109" name="l00109"></a><span class="lineno">  109</span>}</div>
<div class="line"><a id="l00110" name="l00110"></a><span class="lineno">  110</span> </div>
<div class="line"><a id="l00111" name="l00111"></a><span class="lineno">  111</span><span class="comment">//----------------------------------------------------------------------------------------------------------</span></div>
<div class="foldopen" id="foldopen00112" data-start="{" data-end="}">
<div class="line"><a id="l00112" name="l00112"></a><span class="lineno"><a class="line" href="class_turret_state_machine.html#ad33c522bcf043913a2c61e8d6f14db1d">  112</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="class_turret_state_machine.html#ad33c522bcf043913a2c61e8d6f14db1d">TurretStateMachine::clear</a>()</div>
<div class="line"><a id="l00113" name="l00113"></a><span class="lineno">  113</span>{</div>
<div class="line"><a id="l00114" name="l00114"></a><span class="lineno">  114</span>    <a class="code hl_function" href="class_state_machine.html#af61915a5462f9b9e81d76d751e59dcf8">StateMachine::clear</a>();</div>
<div class="line"><a id="l00115" name="l00115"></a><span class="lineno">  115</span> </div>
<div class="line"><a id="l00116" name="l00116"></a><span class="lineno">  116</span>    <a class="code hl_class" href="class_turret_a_i.html">TurretAI</a>* turret = <a class="code hl_function" href="class_turret_state_machine.html#af280e5da8fc0f19f4dfa9d6cac1bd689">getTurretAI</a>();</div>
<div class="line"><a id="l00117" name="l00117"></a><span class="lineno">  117</span>    <span class="keywordflow">if</span> (turret)</div>
<div class="line"><a id="l00118" name="l00118"></a><span class="lineno">  118</span>        turret-&gt;<a class="code hl_function" href="class_turret_a_i.html#a004548fae149ae50db3cb5b4ff4f47cc">friend_notifyStateMachineChanged</a>();</div>
<div class="line"><a id="l00119" name="l00119"></a><span class="lineno">  119</span>}</div>
</div>
<div class="line"><a id="l00120" name="l00120"></a><span class="lineno">  120</span> </div>
<div class="line"><a id="l00121" name="l00121"></a><span class="lineno">  121</span><span class="comment">//----------------------------------------------------------------------------------------------------------</span></div>
<div class="foldopen" id="foldopen00122" data-start="{" data-end="}">
<div class="line"><a id="l00122" name="l00122"></a><span class="lineno"><a class="line" href="class_turret_state_machine.html#af7d189926a1c3c51b4695116b96c14e6">  122</a></span><a class="code hl_enumeration" href="_state_machine_8h.html#a85691a8a74800ef33464a702eb251d88">StateReturnType</a> <a class="code hl_function" href="class_turret_state_machine.html#af7d189926a1c3c51b4695116b96c14e6">TurretStateMachine::resetToDefaultState</a>()</div>
<div class="line"><a id="l00123" name="l00123"></a><span class="lineno">  123</span>{</div>
<div class="line"><a id="l00124" name="l00124"></a><span class="lineno">  124</span>    <a class="code hl_enumeration" href="_state_machine_8h.html#a85691a8a74800ef33464a702eb251d88">StateReturnType</a> tmp = <a class="code hl_function" href="class_state_machine.html#a99e26e653303e0347ecd8aa44aa8132f">StateMachine::resetToDefaultState</a>();</div>
<div class="line"><a id="l00125" name="l00125"></a><span class="lineno">  125</span> </div>
<div class="line"><a id="l00126" name="l00126"></a><span class="lineno">  126</span>    <a class="code hl_class" href="class_turret_a_i.html">TurretAI</a>* turret = <a class="code hl_function" href="class_turret_state_machine.html#af280e5da8fc0f19f4dfa9d6cac1bd689">getTurretAI</a>();</div>
<div class="line"><a id="l00127" name="l00127"></a><span class="lineno">  127</span>    <span class="keywordflow">if</span> (turret)</div>
<div class="line"><a id="l00128" name="l00128"></a><span class="lineno">  128</span>        turret-&gt;<a class="code hl_function" href="class_turret_a_i.html#a004548fae149ae50db3cb5b4ff4f47cc">friend_notifyStateMachineChanged</a>();</div>
<div class="line"><a id="l00129" name="l00129"></a><span class="lineno">  129</span> </div>
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno">  130</span>    <span class="keywordflow">return</span> tmp;</div>
<div class="line"><a id="l00131" name="l00131"></a><span class="lineno">  131</span>}</div>
</div>
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno">  132</span> </div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno">  133</span><span class="comment">//----------------------------------------------------------------------------------------------------------</span></div>
<div class="foldopen" id="foldopen00134" data-start="{" data-end="}">
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno"><a class="line" href="class_turret_state_machine.html#a90f9a2f47a1c738897a3e93528520ec1">  134</a></span><a class="code hl_enumeration" href="_state_machine_8h.html#a85691a8a74800ef33464a702eb251d88">StateReturnType</a> <a class="code hl_function" href="class_turret_state_machine.html#a90f9a2f47a1c738897a3e93528520ec1">TurretStateMachine::setState</a>(<a class="code hl_typedef" href="_state_machine_8h.html#a4bd6775b86fc5314e85adf86ec549b8d">StateID</a> newStateID)</div>
<div class="line"><a id="l00135" name="l00135"></a><span class="lineno">  135</span>{</div>
<div class="line"><a id="l00136" name="l00136"></a><span class="lineno">  136</span>    <a class="code hl_typedef" href="_state_machine_8h.html#a4bd6775b86fc5314e85adf86ec549b8d">StateID</a> oldID = <a class="code hl_function" href="class_state_machine.html#a7070346397ecee7fe576cfc348901ad6">getCurrentStateID</a>();</div>
<div class="line"><a id="l00137" name="l00137"></a><span class="lineno">  137</span>    <a class="code hl_enumeration" href="_state_machine_8h.html#a85691a8a74800ef33464a702eb251d88">StateReturnType</a> tmp = <a class="code hl_function" href="class_state_machine.html#accc9c73cc08154778a8c0aa7a191761c">StateMachine::setState</a>(newStateID);</div>
<div class="line"><a id="l00138" name="l00138"></a><span class="lineno">  138</span> </div>
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno">  139</span>    <a class="code hl_class" href="class_turret_a_i.html">TurretAI</a>* turret = <a class="code hl_function" href="class_turret_state_machine.html#af280e5da8fc0f19f4dfa9d6cac1bd689">getTurretAI</a>();</div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno">  140</span>    <span class="keywordflow">if</span> (turret &amp;&amp; oldID != newStateID)</div>
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno">  141</span>        turret-&gt;<a class="code hl_function" href="class_turret_a_i.html#a004548fae149ae50db3cb5b4ff4f47cc">friend_notifyStateMachineChanged</a>();</div>
<div class="line"><a id="l00142" name="l00142"></a><span class="lineno">  142</span> </div>
<div class="line"><a id="l00143" name="l00143"></a><span class="lineno">  143</span>    <span class="keywordflow">return</span> tmp;</div>
<div class="line"><a id="l00144" name="l00144"></a><span class="lineno">  144</span>}</div>
</div>
<div class="line"><a id="l00145" name="l00145"></a><span class="lineno">  145</span> </div>
<div class="line"><a id="l00146" name="l00146"></a><span class="lineno">  146</span><span class="comment">// ------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00148" name="l00148"></a><span class="lineno">  148</span><span class="comment">// ------------------------------------------------------------------------------------------------</span></div>
<div class="foldopen" id="foldopen00149" data-start="{" data-end="}">
<div class="line"><a id="l00149" name="l00149"></a><span class="lineno"><a class="line" href="class_turret_state_machine.html#ac1f6058ddf53c2413e828b036f27e6ac">  149</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="class_turret_state_machine.html#ac1f6058ddf53c2413e828b036f27e6ac">TurretStateMachine::crc</a>( <a class="code hl_class" href="class_xfer.html">Xfer</a> *<a class="code hl_function" href="class_turret_state_machine.html#a15b43fbd37c71a65436f36665315874f">xfer</a> )</div>
<div class="line"><a id="l00150" name="l00150"></a><span class="lineno">  150</span>{</div>
<div class="line"><a id="l00151" name="l00151"></a><span class="lineno">  151</span>}  <span class="comment">// end crc</span></div>
</div>
<div class="line"><a id="l00152" name="l00152"></a><span class="lineno">  152</span> </div>
<div class="line"><a id="l00153" name="l00153"></a><span class="lineno">  153</span><span class="comment">// ------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00155" name="l00155"></a><span class="lineno">  155</span><span class="comment">// ------------------------------------------------------------------------------------------------</span></div>
<div class="foldopen" id="foldopen00156" data-start="{" data-end="}">
<div class="line"><a id="l00156" name="l00156"></a><span class="lineno"><a class="line" href="class_turret_state_machine.html#a15b43fbd37c71a65436f36665315874f">  156</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="class_turret_state_machine.html#a15b43fbd37c71a65436f36665315874f">TurretStateMachine::xfer</a>( <a class="code hl_class" href="class_xfer.html">Xfer</a> *<a class="code hl_function" href="class_turret_state_machine.html#a15b43fbd37c71a65436f36665315874f">xfer</a> )</div>
<div class="line"><a id="l00157" name="l00157"></a><span class="lineno">  157</span>{</div>
<div class="line"><a id="l00158" name="l00158"></a><span class="lineno">  158</span>    <a class="code hl_typedef" href="_xfer_8h.html#a5290038bf1e80fe9b1a9e415814ddc13">XferVersion</a> cv = 1;  </div>
<div class="line"><a id="l00159" name="l00159"></a><span class="lineno">  159</span>    <a class="code hl_typedef" href="_xfer_8h.html#a5290038bf1e80fe9b1a9e415814ddc13">XferVersion</a> v = cv; </div>
<div class="line"><a id="l00160" name="l00160"></a><span class="lineno">  160</span>    <a class="code hl_function" href="class_turret_state_machine.html#a15b43fbd37c71a65436f36665315874f">xfer</a>-&gt;xferVersion( &amp;v, cv );</div>
<div class="line"><a id="l00161" name="l00161"></a><span class="lineno">  161</span> </div>
<div class="line"><a id="l00162" name="l00162"></a><span class="lineno">  162</span>}  <span class="comment">// end xfer</span></div>
</div>
<div class="line"><a id="l00163" name="l00163"></a><span class="lineno">  163</span> </div>
<div class="line"><a id="l00164" name="l00164"></a><span class="lineno">  164</span><span class="comment">// ------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno">  166</span><span class="comment">// ------------------------------------------------------------------------------------------------</span></div>
<div class="foldopen" id="foldopen00167" data-start="{" data-end="}">
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno"><a class="line" href="class_turret_state_machine.html#a0fe7d1e2d5d9227322bc07edf830a839">  167</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="class_turret_state_machine.html#a0fe7d1e2d5d9227322bc07edf830a839">TurretStateMachine::loadPostProcess</a>( <span class="keywordtype">void</span> )</div>
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno">  168</span>{</div>
<div class="line"><a id="l00169" name="l00169"></a><span class="lineno">  169</span>}  <span class="comment">// end loadPostProcess</span></div>
</div>
<div class="line"><a id="l00170" name="l00170"></a><span class="lineno">  170</span> </div>
<div class="line"><a id="l00171" name="l00171"></a><span class="lineno">  171</span><span class="comment">//----------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00172" name="l00172"></a><span class="lineno">  172</span><span class="comment">//----------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00173" name="l00173"></a><span class="lineno">  173</span><span class="comment">//----------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00174" name="l00174"></a><span class="lineno">  174</span> </div>
<div class="line"><a id="l00175" name="l00175"></a><span class="lineno">  175</span><span class="comment">//----------------------------------------------------------------------------------------------------------</span></div>
<div class="foldopen" id="foldopen00176" data-start="{" data-end="}">
<div class="line"><a id="l00176" name="l00176"></a><span class="lineno"><a class="line" href="class_turret_a_i_data.html#a7a62e31f8e20eb3a4bb017fc3ce28bf1">  176</a></span><a class="code hl_function" href="class_turret_a_i_data.html#a7a62e31f8e20eb3a4bb017fc3ce28bf1">TurretAIData::TurretAIData</a>()</div>
<div class="line"><a id="l00177" name="l00177"></a><span class="lineno">  177</span>{</div>
<div class="line"><a id="l00178" name="l00178"></a><span class="lineno">  178</span>    <a class="code hl_variable" href="class_turret_a_i_data.html#a578ac57efc812ce536724fdc1015a604">m_turnRate</a> = <a class="code hl_variable" href="_turret_a_i_8h.html#a40b721d5e81e4edbd05e47d66e8bc5b1">DEFAULT_TURN_RATE</a>;</div>
<div class="line"><a id="l00179" name="l00179"></a><span class="lineno">  179</span>    <a class="code hl_variable" href="class_turret_a_i_data.html#aeb463d726802da892c80dd2d6f0984f7">m_pitchRate</a> = <a class="code hl_variable" href="_turret_a_i_8h.html#aa514092c909fc91c788696ee795d1e86">DEFAULT_PITCH_RATE</a>;</div>
<div class="line"><a id="l00180" name="l00180"></a><span class="lineno">  180</span>    <a class="code hl_variable" href="class_turret_a_i_data.html#ae3bded94233a2f99b44ea680afa2c8d5">m_naturalTurretAngle</a> = 0.0f;</div>
<div class="line"><a id="l00181" name="l00181"></a><span class="lineno">  181</span>    <a class="code hl_variable" href="class_turret_a_i_data.html#a265556860391948f726fc2ac4aa8a7fd">m_naturalTurretPitch</a> = 0.0f;</div>
<div class="line"><a id="l00182" name="l00182"></a><span class="lineno">  182</span>    <span class="keywordflow">for</span>( <a class="code hl_union" href="union_int.html">Int</a> slotIndex = 0; slotIndex &lt; <a class="code hl_enumvalue" href="_game_type_8h.html#a2af9bbdf6271d34dfabc5309aa88d79da97671b12829da5738fb4b7cbee5bcc9a">WEAPONSLOT_COUNT</a>; ++slotIndex )</div>
<div class="line"><a id="l00183" name="l00183"></a><span class="lineno">  183</span>    {</div>
<div class="line"><a id="l00184" name="l00184"></a><span class="lineno">  184</span>        <a class="code hl_variable" href="class_turret_a_i_data.html#a1248022efde9820b8adec7bceebe2821">m_turretFireAngleSweep</a>[slotIndex] = 0.0f;</div>
<div class="line"><a id="l00185" name="l00185"></a><span class="lineno">  185</span>        <a class="code hl_variable" href="class_turret_a_i_data.html#af89bc214c8eb32dee85d86ceee63af3d">m_turretSweepSpeedModifier</a>[slotIndex] = 1.0f;</div>
<div class="line"><a id="l00186" name="l00186"></a><span class="lineno">  186</span>    }</div>
<div class="line"><a id="l00187" name="l00187"></a><span class="lineno">  187</span>    <a class="code hl_variable" href="class_turret_a_i_data.html#a21be708609a9c4424ff8f9fb7e35c223">m_firePitch</a> = 0.0f;</div>
<div class="line"><a id="l00188" name="l00188"></a><span class="lineno">  188</span>    <a class="code hl_variable" href="class_turret_a_i_data.html#aace913fcb76a107bc362700409cc5b2d">m_minPitch</a> = 0.0f;</div>
<div class="line"><a id="l00189" name="l00189"></a><span class="lineno">  189</span>    <a class="code hl_variable" href="class_turret_a_i_data.html#a71aa3a413778a243b92b5153005e141e">m_groundUnitPitch</a> = 0;</div>
<div class="line"><a id="l00190" name="l00190"></a><span class="lineno">  190</span>    <a class="code hl_variable" href="class_turret_a_i_data.html#af587d70ec0b5a512fe4c35b87c779824">m_turretWeaponSlots</a> = 0;</div>
<div class="line"><a id="l00191" name="l00191"></a><span class="lineno">  191</span><span class="preprocessor">#ifdef INTER_TURRET_DELAY</span></div>
<div class="line"><a id="l00192" name="l00192"></a><span class="lineno">  192</span>    m_interTurretDelay = 0;</div>
<div class="line"><a id="l00193" name="l00193"></a><span class="lineno">  193</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00194" name="l00194"></a><span class="lineno">  194</span>    <a class="code hl_variable" href="class_turret_a_i_data.html#a813d6ef4536496416843e653ec118764">m_minIdleScanAngle</a> = 0.0f;</div>
<div class="line"><a id="l00195" name="l00195"></a><span class="lineno">  195</span>    <a class="code hl_variable" href="class_turret_a_i_data.html#aa82708539378f1a6a6560a49933ca9c7">m_maxIdleScanAngle</a> = 0.0f;</div>
<div class="line"><a id="l00196" name="l00196"></a><span class="lineno">  196</span>    <a class="code hl_variable" href="class_turret_a_i_data.html#a71aa3a413778a243b92b5153005e141e">m_groundUnitPitch</a> = 0.0f;</div>
<div class="line"><a id="l00197" name="l00197"></a><span class="lineno">  197</span> </div>
<div class="line"><a id="l00198" name="l00198"></a><span class="lineno">  198</span>    <a class="code hl_variable" href="class_turret_a_i_data.html#a1ecdc37f77bdf62ac31dba477e841c78">m_minIdleScanInterval</a> = 9999999;</div>
<div class="line"><a id="l00199" name="l00199"></a><span class="lineno">  199</span>    <a class="code hl_variable" href="class_turret_a_i_data.html#a1d15133d717fe2a7602f26b09f6d4441">m_maxIdleScanInterval</a> = 9999999;</div>
<div class="line"><a id="l00200" name="l00200"></a><span class="lineno">  200</span>    <a class="code hl_variable" href="class_turret_a_i_data.html#a6039fc2c31eb6bc06858a8ab73fb0f97">m_recenterTime</a> = 2*<a class="code hl_enumvalue" href="_game_common_8h.html#af11049d73d1907c0b187aab60365be0da4a9e0097d7d7fe0c18f7beceb60e3d8f">LOGICFRAMES_PER_SECOND</a>;</div>
<div class="line"><a id="l00201" name="l00201"></a><span class="lineno">  201</span>    <a class="code hl_variable" href="class_turret_a_i_data.html#a64bd9d9be60f28f6cf7d4ca57356ba19">m_initiallyDisabled</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00202" name="l00202"></a><span class="lineno">  202</span>    <a class="code hl_variable" href="class_turret_a_i_data.html#a684b6aa57ed58b4b94e656e0c0df040a">m_firesWhileTurning</a> = <a class="code hl_define" href="_base_type_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div>
<div class="line"><a id="l00203" name="l00203"></a><span class="lineno">  203</span>    <a class="code hl_variable" href="class_turret_a_i_data.html#a48dd925dd08b43681cd5f1c5bb921d23">m_isAllowsPitch</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00204" name="l00204"></a><span class="lineno">  204</span>}</div>
</div>
<div class="line"><a id="l00205" name="l00205"></a><span class="lineno">  205</span> </div>
<div class="line"><a id="l00206" name="l00206"></a><span class="lineno">  206</span><span class="comment">//-------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00207" name="l00207"></a><span class="lineno">  207</span><span class="keyword">static</span> <span class="keywordtype">void</span> parseTWS(<a class="code hl_class" href="class_i_n_i.html">INI</a>* ini, <span class="keywordtype">void</span> * <span class="comment">/*instance*/</span>, <span class="keywordtype">void</span> * store, <span class="keyword">const</span> <span class="keywordtype">void</span>* <span class="comment">/*userData*/</span>)</div>
<div class="line"><a id="l00208" name="l00208"></a><span class="lineno">  208</span>{</div>
<div class="line"><a id="l00209" name="l00209"></a><span class="lineno">  209</span>    <a class="code hl_typedef" href="_base_type_8h.html#accf2bdf590f4e906ebad9216ebb7c698">UnsignedInt</a>* tws = (<a class="code hl_typedef" href="_base_type_8h.html#accf2bdf590f4e906ebad9216ebb7c698">UnsignedInt</a>*)store;</div>
<div class="line"><a id="l00210" name="l00210"></a><span class="lineno">  210</span>    <span class="keyword">const</span> <span class="keywordtype">char</span>* token = ini-&gt;<a class="code hl_function" href="class_i_n_i.html#a150b629f74420de9884bb61eec9a88ee">getNextToken</a>();</div>
<div class="line"><a id="l00211" name="l00211"></a><span class="lineno">  211</span>    <span class="keywordflow">while</span> (token != <a class="code hl_define" href="_base_type_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><a id="l00212" name="l00212"></a><span class="lineno">  212</span>    {</div>
<div class="line"><a id="l00213" name="l00213"></a><span class="lineno">  213</span>        <a class="code hl_enumeration" href="_game_type_8h.html#a2af9bbdf6271d34dfabc5309aa88d79d">WeaponSlotType</a> wslot = (<a class="code hl_enumeration" href="_game_type_8h.html#a2af9bbdf6271d34dfabc5309aa88d79d">WeaponSlotType</a>)<a class="code hl_function" href="class_i_n_i.html#ae40bd75458b3a512301e533516af0930">INI::scanIndexList</a>(token, TheWeaponSlotTypeNames);</div>
<div class="line"><a id="l00214" name="l00214"></a><span class="lineno">  214</span>        *tws |= (1 &lt;&lt; wslot);</div>
<div class="line"><a id="l00215" name="l00215"></a><span class="lineno">  215</span>        token = ini-&gt;<a class="code hl_function" href="class_i_n_i.html#aaa57fc4817d1f98c33257cc5698d642c">getNextTokenOrNull</a>();</div>
<div class="line"><a id="l00216" name="l00216"></a><span class="lineno">  216</span>    }</div>
<div class="line"><a id="l00217" name="l00217"></a><span class="lineno">  217</span>}</div>
<div class="line"><a id="l00218" name="l00218"></a><span class="lineno">  218</span> </div>
<div class="line"><a id="l00219" name="l00219"></a><span class="lineno">  219</span><span class="comment">//-------------------------------------------------------------------------------------------------</span></div>
<div class="foldopen" id="foldopen00220" data-start="{" data-end="}">
<div class="line"><a id="l00220" name="l00220"></a><span class="lineno"><a class="line" href="class_turret_a_i_data.html#aba04aee4ea9974a72cef012123e5813f">  220</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="class_turret_a_i_data.html#aba04aee4ea9974a72cef012123e5813f">TurretAIData::parseTurretSweep</a>(<a class="code hl_class" href="class_i_n_i.html">INI</a>* ini, <span class="keywordtype">void</span> *instance, <span class="keywordtype">void</span> * <span class="comment">/*store*/</span>, <span class="keyword">const</span> <span class="keywordtype">void</span>* userData)</div>
<div class="line"><a id="l00221" name="l00221"></a><span class="lineno">  221</span>{</div>
<div class="line"><a id="l00222" name="l00222"></a><span class="lineno">  222</span>    <a class="code hl_function" href="class_turret_a_i_data.html#a7a62e31f8e20eb3a4bb017fc3ce28bf1">TurretAIData</a>* self = (<a class="code hl_function" href="class_turret_a_i_data.html#a7a62e31f8e20eb3a4bb017fc3ce28bf1">TurretAIData</a>*)instance;</div>
<div class="line"><a id="l00223" name="l00223"></a><span class="lineno">  223</span>    <a class="code hl_enumeration" href="_game_type_8h.html#a2af9bbdf6271d34dfabc5309aa88d79d">WeaponSlotType</a> wslot = (<a class="code hl_enumeration" href="_game_type_8h.html#a2af9bbdf6271d34dfabc5309aa88d79d">WeaponSlotType</a>)<a class="code hl_function" href="class_i_n_i.html#ae40bd75458b3a512301e533516af0930">INI::scanIndexList</a>(ini-&gt;<a class="code hl_function" href="class_i_n_i.html#a150b629f74420de9884bb61eec9a88ee">getNextToken</a>(), TheWeaponSlotTypeNames);</div>
<div class="line"><a id="l00224" name="l00224"></a><span class="lineno">  224</span>    <a class="code hl_function" href="class_i_n_i.html#aac9808a7151b670625b8b07ba6680a1a">INI::parseAngleReal</a>( ini, instance, &amp;self-&gt;<a class="code hl_variable" href="class_turret_a_i_data.html#a1248022efde9820b8adec7bceebe2821">m_turretFireAngleSweep</a>[wslot], <a class="code hl_define" href="_base_type_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> );</div>
<div class="line"><a id="l00225" name="l00225"></a><span class="lineno">  225</span>}</div>
</div>
<div class="line"><a id="l00226" name="l00226"></a><span class="lineno">  226</span> </div>
<div class="line"><a id="l00227" name="l00227"></a><span class="lineno">  227</span><span class="comment">//-------------------------------------------------------------------------------------------------</span></div>
<div class="foldopen" id="foldopen00228" data-start="{" data-end="}">
<div class="line"><a id="l00228" name="l00228"></a><span class="lineno"><a class="line" href="class_turret_a_i_data.html#a81ea88786570eb0612283d747ddf7770">  228</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="class_turret_a_i_data.html#a81ea88786570eb0612283d747ddf7770">TurretAIData::parseTurretSweepSpeed</a>(<a class="code hl_class" href="class_i_n_i.html">INI</a>* ini, <span class="keywordtype">void</span> *instance, <span class="keywordtype">void</span> * <span class="comment">/*store*/</span>, <span class="keyword">const</span> <span class="keywordtype">void</span>* userData)</div>
<div class="line"><a id="l00229" name="l00229"></a><span class="lineno">  229</span>{</div>
<div class="line"><a id="l00230" name="l00230"></a><span class="lineno">  230</span>    <a class="code hl_function" href="class_turret_a_i_data.html#a7a62e31f8e20eb3a4bb017fc3ce28bf1">TurretAIData</a>* self = (<a class="code hl_function" href="class_turret_a_i_data.html#a7a62e31f8e20eb3a4bb017fc3ce28bf1">TurretAIData</a>*)instance;</div>
<div class="line"><a id="l00231" name="l00231"></a><span class="lineno">  231</span>    <a class="code hl_enumeration" href="_game_type_8h.html#a2af9bbdf6271d34dfabc5309aa88d79d">WeaponSlotType</a> wslot = (<a class="code hl_enumeration" href="_game_type_8h.html#a2af9bbdf6271d34dfabc5309aa88d79d">WeaponSlotType</a>)<a class="code hl_function" href="class_i_n_i.html#ae40bd75458b3a512301e533516af0930">INI::scanIndexList</a>(ini-&gt;<a class="code hl_function" href="class_i_n_i.html#a150b629f74420de9884bb61eec9a88ee">getNextToken</a>(), TheWeaponSlotTypeNames);</div>
<div class="line"><a id="l00232" name="l00232"></a><span class="lineno">  232</span>    <a class="code hl_function" href="class_i_n_i.html#ac3eacd3c52000df0ed6ce783af671054">INI::parseReal</a>( ini, instance, &amp;self-&gt;<a class="code hl_variable" href="class_turret_a_i_data.html#af89bc214c8eb32dee85d86ceee63af3d">m_turretSweepSpeedModifier</a>[wslot], <a class="code hl_define" href="_base_type_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> );</div>
<div class="line"><a id="l00233" name="l00233"></a><span class="lineno">  233</span>}</div>
</div>
<div class="line"><a id="l00234" name="l00234"></a><span class="lineno">  234</span> </div>
<div class="line"><a id="l00235" name="l00235"></a><span class="lineno">  235</span><span class="comment">//----------------------------------------------------------------------------------------------------------</span></div>
<div class="foldopen" id="foldopen00236" data-start="{" data-end="}">
<div class="line"><a id="l00236" name="l00236"></a><span class="lineno"><a class="line" href="class_turret_a_i_data.html#ae15bd58355932dccc909547342d0cbfc">  236</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="class_turret_a_i_data.html#ae15bd58355932dccc909547342d0cbfc">TurretAIData::buildFieldParse</a>(<a class="code hl_class" href="class_multi_ini_field_parse.html">MultiIniFieldParse</a>&amp; p) </div>
<div class="line"><a id="l00237" name="l00237"></a><span class="lineno">  237</span>{</div>
<div class="line"><a id="l00238" name="l00238"></a><span class="lineno">  238</span>    <span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_struct" href="struct_field_parse.html">FieldParse</a> dataFieldParse[] = </div>
<div class="line"><a id="l00239" name="l00239"></a><span class="lineno">  239</span>    {</div>
<div class="line"><a id="l00240" name="l00240"></a><span class="lineno">  240</span>        { <span class="stringliteral">&quot;TurretTurnRate&quot;</span>,                 <a class="code hl_function" href="class_i_n_i.html#a840cad4663905df78e74d662f9111520">INI::parseAngularVelocityReal</a>,             <a class="code hl_define" href="_base_type_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, offsetof( <a class="code hl_function" href="class_turret_a_i_data.html#a7a62e31f8e20eb3a4bb017fc3ce28bf1">TurretAIData</a>, <a class="code hl_variable" href="class_turret_a_i_data.html#a578ac57efc812ce536724fdc1015a604">m_turnRate</a> ) },</div>
<div class="line"><a id="l00241" name="l00241"></a><span class="lineno">  241</span>        { <span class="stringliteral">&quot;TurretPitchRate&quot;</span>,                <a class="code hl_function" href="class_i_n_i.html#a840cad4663905df78e74d662f9111520">INI::parseAngularVelocityReal</a>,             <a class="code hl_define" href="_base_type_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, offsetof( <a class="code hl_function" href="class_turret_a_i_data.html#a7a62e31f8e20eb3a4bb017fc3ce28bf1">TurretAIData</a>, <a class="code hl_variable" href="class_turret_a_i_data.html#aeb463d726802da892c80dd2d6f0984f7">m_pitchRate</a> ) },</div>
<div class="line"><a id="l00242" name="l00242"></a><span class="lineno">  242</span>        { <span class="stringliteral">&quot;NaturalTurretAngle&quot;</span>,         <a class="code hl_function" href="class_i_n_i.html#aac9808a7151b670625b8b07ba6680a1a">INI::parseAngleReal</a>,                                 <a class="code hl_define" href="_base_type_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, offsetof( <a class="code hl_function" href="class_turret_a_i_data.html#a7a62e31f8e20eb3a4bb017fc3ce28bf1">TurretAIData</a>, <a class="code hl_variable" href="class_turret_a_i_data.html#ae3bded94233a2f99b44ea680afa2c8d5">m_naturalTurretAngle</a> ) },</div>
<div class="line"><a id="l00243" name="l00243"></a><span class="lineno">  243</span>        { <span class="stringliteral">&quot;NaturalTurretPitch&quot;</span>,         <a class="code hl_function" href="class_i_n_i.html#aac9808a7151b670625b8b07ba6680a1a">INI::parseAngleReal</a>,                                 <a class="code hl_define" href="_base_type_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, offsetof( <a class="code hl_function" href="class_turret_a_i_data.html#a7a62e31f8e20eb3a4bb017fc3ce28bf1">TurretAIData</a>, <a class="code hl_variable" href="class_turret_a_i_data.html#a265556860391948f726fc2ac4aa8a7fd">m_naturalTurretPitch</a> ) },</div>
<div class="line"><a id="l00244" name="l00244"></a><span class="lineno">  244</span>        { <span class="stringliteral">&quot;FirePitch&quot;</span>,                          <a class="code hl_function" href="class_i_n_i.html#aac9808a7151b670625b8b07ba6680a1a">INI::parseAngleReal</a>,                                 <a class="code hl_define" href="_base_type_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, offsetof( <a class="code hl_function" href="class_turret_a_i_data.html#a7a62e31f8e20eb3a4bb017fc3ce28bf1">TurretAIData</a>, <a class="code hl_variable" href="class_turret_a_i_data.html#a21be708609a9c4424ff8f9fb7e35c223">m_firePitch</a> ) },</div>
<div class="line"><a id="l00245" name="l00245"></a><span class="lineno">  245</span>        { <span class="stringliteral">&quot;MinPhysicalPitch&quot;</span>,               <a class="code hl_function" href="class_i_n_i.html#aac9808a7151b670625b8b07ba6680a1a">INI::parseAngleReal</a>,                                 <a class="code hl_define" href="_base_type_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, offsetof( <a class="code hl_function" href="class_turret_a_i_data.html#a7a62e31f8e20eb3a4bb017fc3ce28bf1">TurretAIData</a>, <a class="code hl_variable" href="class_turret_a_i_data.html#aace913fcb76a107bc362700409cc5b2d">m_minPitch</a> ) },</div>
<div class="line"><a id="l00246" name="l00246"></a><span class="lineno">  246</span>        { <span class="stringliteral">&quot;GroundUnitPitch&quot;</span>,                <a class="code hl_function" href="class_i_n_i.html#aac9808a7151b670625b8b07ba6680a1a">INI::parseAngleReal</a>,                                 <a class="code hl_define" href="_base_type_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, offsetof( <a class="code hl_function" href="class_turret_a_i_data.html#a7a62e31f8e20eb3a4bb017fc3ce28bf1">TurretAIData</a>, <a class="code hl_variable" href="class_turret_a_i_data.html#a71aa3a413778a243b92b5153005e141e">m_groundUnitPitch</a> ) },</div>
<div class="line"><a id="l00247" name="l00247"></a><span class="lineno">  247</span>        { <span class="stringliteral">&quot;TurretFireAngleSweep&quot;</span>,       <a class="code hl_function" href="class_turret_a_i_data.html#aba04aee4ea9974a72cef012123e5813f">TurretAIData::parseTurretSweep</a>,               <a class="code hl_define" href="_base_type_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code hl_define" href="_base_type_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> },</div>
<div class="line"><a id="l00248" name="l00248"></a><span class="lineno">  248</span>        { <span class="stringliteral">&quot;TurretSweepSpeedModifier&quot;</span>,<a class="code hl_function" href="class_turret_a_i_data.html#a81ea88786570eb0612283d747ddf7770">TurretAIData::parseTurretSweepSpeed</a>,    <a class="code hl_define" href="_base_type_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code hl_define" href="_base_type_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> },</div>
<div class="line"><a id="l00249" name="l00249"></a><span class="lineno">  249</span>        { <span class="stringliteral">&quot;ControlledWeaponSlots&quot;</span>,  parseTWS,                                                           <a class="code hl_define" href="_base_type_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, offsetof( <a class="code hl_function" href="class_turret_a_i_data.html#a7a62e31f8e20eb3a4bb017fc3ce28bf1">TurretAIData</a>, <a class="code hl_variable" href="class_turret_a_i_data.html#af587d70ec0b5a512fe4c35b87c779824">m_turretWeaponSlots</a> ) },</div>
<div class="line"><a id="l00250" name="l00250"></a><span class="lineno">  250</span>        { <span class="stringliteral">&quot;AllowsPitch&quot;</span>,                        <a class="code hl_function" href="class_i_n_i.html#a36a51330b313effa8a2e47cc29ba2860">INI::parseBool</a>,                                               <a class="code hl_define" href="_base_type_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, offsetof( <a class="code hl_function" href="class_turret_a_i_data.html#a7a62e31f8e20eb3a4bb017fc3ce28bf1">TurretAIData</a>, <a class="code hl_variable" href="class_turret_a_i_data.html#a48dd925dd08b43681cd5f1c5bb921d23">m_isAllowsPitch</a> ) },</div>
<div class="line"><a id="l00251" name="l00251"></a><span class="lineno">  251</span><span class="preprocessor">#ifdef INTER_TURRET_DELAY</span></div>
<div class="line"><a id="l00252" name="l00252"></a><span class="lineno">  252</span>        { <span class="stringliteral">&quot;InterTurretDelay&quot;</span>,               <a class="code hl_function" href="class_i_n_i.html#a489a459c56fec9b2cb7b1805391dac4a">INI::parseDurationUnsignedInt</a>,             <a class="code hl_define" href="_base_type_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, offsetof( <a class="code hl_function" href="class_turret_a_i_data.html#a7a62e31f8e20eb3a4bb017fc3ce28bf1">TurretAIData</a>, m_interTurretDelay ) },</div>
<div class="line"><a id="l00253" name="l00253"></a><span class="lineno">  253</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00254" name="l00254"></a><span class="lineno">  254</span>        { <span class="stringliteral">&quot;MinIdleScanAngle&quot;</span>,               <a class="code hl_function" href="class_i_n_i.html#aac9808a7151b670625b8b07ba6680a1a">INI::parseAngleReal</a>,                                 <a class="code hl_define" href="_base_type_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, offsetof( <a class="code hl_function" href="class_turret_a_i_data.html#a7a62e31f8e20eb3a4bb017fc3ce28bf1">TurretAIData</a>, <a class="code hl_variable" href="class_turret_a_i_data.html#a813d6ef4536496416843e653ec118764">m_minIdleScanAngle</a> ) },</div>
<div class="line"><a id="l00255" name="l00255"></a><span class="lineno">  255</span>        { <span class="stringliteral">&quot;MaxIdleScanAngle&quot;</span>,               <a class="code hl_function" href="class_i_n_i.html#aac9808a7151b670625b8b07ba6680a1a">INI::parseAngleReal</a>,                                 <a class="code hl_define" href="_base_type_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, offsetof( <a class="code hl_function" href="class_turret_a_i_data.html#a7a62e31f8e20eb3a4bb017fc3ce28bf1">TurretAIData</a>, <a class="code hl_variable" href="class_turret_a_i_data.html#aa82708539378f1a6a6560a49933ca9c7">m_maxIdleScanAngle</a> ) },</div>
<div class="line"><a id="l00256" name="l00256"></a><span class="lineno">  256</span>        { <span class="stringliteral">&quot;MinIdleScanInterval&quot;</span>,        <a class="code hl_function" href="class_i_n_i.html#a489a459c56fec9b2cb7b1805391dac4a">INI::parseDurationUnsignedInt</a>,             <a class="code hl_define" href="_base_type_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, offsetof( <a class="code hl_function" href="class_turret_a_i_data.html#a7a62e31f8e20eb3a4bb017fc3ce28bf1">TurretAIData</a>, <a class="code hl_variable" href="class_turret_a_i_data.html#a1ecdc37f77bdf62ac31dba477e841c78">m_minIdleScanInterval</a> ) },</div>
<div class="line"><a id="l00257" name="l00257"></a><span class="lineno">  257</span>        { <span class="stringliteral">&quot;MaxIdleScanInterval&quot;</span>,        <a class="code hl_function" href="class_i_n_i.html#a489a459c56fec9b2cb7b1805391dac4a">INI::parseDurationUnsignedInt</a>,             <a class="code hl_define" href="_base_type_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, offsetof( <a class="code hl_function" href="class_turret_a_i_data.html#a7a62e31f8e20eb3a4bb017fc3ce28bf1">TurretAIData</a>, <a class="code hl_variable" href="class_turret_a_i_data.html#a1d15133d717fe2a7602f26b09f6d4441">m_maxIdleScanInterval</a> ) },</div>
<div class="line"><a id="l00258" name="l00258"></a><span class="lineno">  258</span>        { <span class="stringliteral">&quot;RecenterTime&quot;</span>,                       <a class="code hl_function" href="class_i_n_i.html#a489a459c56fec9b2cb7b1805391dac4a">INI::parseDurationUnsignedInt</a>,             <a class="code hl_define" href="_base_type_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, offsetof( <a class="code hl_function" href="class_turret_a_i_data.html#a7a62e31f8e20eb3a4bb017fc3ce28bf1">TurretAIData</a>, <a class="code hl_variable" href="class_turret_a_i_data.html#a6039fc2c31eb6bc06858a8ab73fb0f97">m_recenterTime</a> ) },</div>
<div class="line"><a id="l00259" name="l00259"></a><span class="lineno">  259</span>        { <span class="stringliteral">&quot;InitiallyDisabled&quot;</span>,          <a class="code hl_function" href="class_i_n_i.html#a36a51330b313effa8a2e47cc29ba2860">INI::parseBool</a>,                                               <a class="code hl_define" href="_base_type_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, offsetof( <a class="code hl_function" href="class_turret_a_i_data.html#a7a62e31f8e20eb3a4bb017fc3ce28bf1">TurretAIData</a>, <a class="code hl_variable" href="class_turret_a_i_data.html#a64bd9d9be60f28f6cf7d4ca57356ba19">m_initiallyDisabled</a> ) },</div>
<div class="line"><a id="l00260" name="l00260"></a><span class="lineno">  260</span>        { <span class="stringliteral">&quot;FiresWhileTurning&quot;</span>,          <a class="code hl_function" href="class_i_n_i.html#a36a51330b313effa8a2e47cc29ba2860">INI::parseBool</a>,                                               <a class="code hl_define" href="_base_type_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, offsetof( <a class="code hl_function" href="class_turret_a_i_data.html#a7a62e31f8e20eb3a4bb017fc3ce28bf1">TurretAIData</a>, <a class="code hl_variable" href="class_turret_a_i_data.html#a684b6aa57ed58b4b94e656e0c0df040a">m_firesWhileTurning</a> ) },</div>
<div class="line"><a id="l00261" name="l00261"></a><span class="lineno">  261</span>        { 0, 0, 0, 0 }</div>
<div class="line"><a id="l00262" name="l00262"></a><span class="lineno">  262</span>    };</div>
<div class="line"><a id="l00263" name="l00263"></a><span class="lineno">  263</span>  p.<a class="code hl_function" href="class_multi_ini_field_parse.html#afa53d97cda347bc012c8d195c2b19955">add</a>(dataFieldParse);</div>
<div class="line"><a id="l00264" name="l00264"></a><span class="lineno">  264</span> </div>
<div class="line"><a id="l00265" name="l00265"></a><span class="lineno">  265</span>}</div>
</div>
<div class="line"><a id="l00266" name="l00266"></a><span class="lineno">  266</span> </div>
<div class="line"><a id="l00267" name="l00267"></a><span class="lineno">  267</span><span class="comment">//----------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00268" name="l00268"></a><span class="lineno">  268</span><span class="comment">//----------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00269" name="l00269"></a><span class="lineno">  269</span><span class="comment">//----------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00270" name="l00270"></a><span class="lineno">  270</span> </div>
<div class="line"><a id="l00271" name="l00271"></a><span class="lineno">  271</span><span class="comment">//----------------------------------------------------------------------------------------------------------</span></div>
<div class="foldopen" id="foldopen00272" data-start="{" data-end="}">
<div class="line"><a id="l00272" name="l00272"></a><span class="lineno"><a class="line" href="class_turret_a_i.html#a7153a4eb1c78aeb6001c00e647984179">  272</a></span><a class="code hl_function" href="class_turret_a_i.html#a7153a4eb1c78aeb6001c00e647984179">TurretAI::TurretAI</a>(<a class="code hl_class" href="class_object.html">Object</a>* owner, <span class="keyword">const</span> <a class="code hl_class" href="class_turret_a_i_data.html">TurretAIData</a>* data, <a class="code hl_enumeration" href="_game_common_8h.html#a2c9fbc25cab9611d85ec37db5eaa5cfc">WhichTurretType</a> tur) : </div>
<div class="line"><a id="l00273" name="l00273"></a><span class="lineno">  273</span>    m_owner(owner),</div>
<div class="line"><a id="l00274" name="l00274"></a><span class="lineno">  274</span>    m_whichTurret(tur),</div>
<div class="line"><a id="l00275" name="l00275"></a><span class="lineno">  275</span>    m_data(data),</div>
<div class="line"><a id="l00276" name="l00276"></a><span class="lineno">  276</span>    m_turretStateMachine(<a class="code hl_define" href="_base_type_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>),</div>
<div class="line"><a id="l00277" name="l00277"></a><span class="lineno">  277</span>    m_playRotSound(<a class="code hl_enumvalue" href="_libraries_2_source_2_w_w_vegas_2_w_w_lib_2bool_8h.html#a011946b124a753ca9e73d13b435f839bae9de385ef6fe9bf3360d1038396b884c">false</a>),</div>
<div class="line"><a id="l00278" name="l00278"></a><span class="lineno">  278</span>    m_playPitchSound(<a class="code hl_enumvalue" href="_libraries_2_source_2_w_w_vegas_2_w_w_lib_2bool_8h.html#a011946b124a753ca9e73d13b435f839bae9de385ef6fe9bf3360d1038396b884c">false</a>),</div>
<div class="line"><a id="l00279" name="l00279"></a><span class="lineno">  279</span>    m_positiveSweep(<a class="code hl_enumvalue" href="_libraries_2_source_2_w_w_vegas_2_w_w_lib_2bool_8h.html#a011946b124a753ca9e73d13b435f839ba08f175a5505a10b9ed657defeb050e4b">true</a>),</div>
<div class="line"><a id="l00280" name="l00280"></a><span class="lineno">  280</span>    m_enableSweepUntil(0),</div>
<div class="line"><a id="l00281" name="l00281"></a><span class="lineno">  281</span>    m_sleepUntil(0),</div>
<div class="line"><a id="l00282" name="l00282"></a><span class="lineno">  282</span>    m_didFire(<a class="code hl_enumvalue" href="_libraries_2_source_2_w_w_vegas_2_w_w_lib_2bool_8h.html#a011946b124a753ca9e73d13b435f839bae9de385ef6fe9bf3360d1038396b884c">false</a>),</div>
<div class="line"><a id="l00283" name="l00283"></a><span class="lineno">  283</span>    m_target(<a class="code hl_enumvalue" href="_turret_a_i_8h.html#a4c101d812cb51a203b38e218a6c1a3b9a16abf06e96a64fa495bb02437ce9e1e5">TARGET_NONE</a>),</div>
<div class="line"><a id="l00284" name="l00284"></a><span class="lineno">  284</span>    m_targetWasSetByIdleMood(<a class="code hl_enumvalue" href="_libraries_2_source_2_w_w_vegas_2_w_w_lib_2bool_8h.html#a011946b124a753ca9e73d13b435f839bae9de385ef6fe9bf3360d1038396b884c">false</a>),</div>
<div class="line"><a id="l00285" name="l00285"></a><span class="lineno">  285</span>    m_enabled(!data-&gt;m_initiallyDisabled),</div>
<div class="line"><a id="l00286" name="l00286"></a><span class="lineno">  286</span>    m_firesWhileTurning(data-&gt;m_firesWhileTurning),</div>
<div class="line"><a id="l00287" name="l00287"></a><span class="lineno">  287</span>    m_isForceAttacking(<a class="code hl_enumvalue" href="_libraries_2_source_2_w_w_vegas_2_w_w_lib_2bool_8h.html#a011946b124a753ca9e73d13b435f839bae9de385ef6fe9bf3360d1038396b884c">false</a>),</div>
<div class="line"><a id="l00288" name="l00288"></a><span class="lineno">  288</span>    <span class="comment">//Added By Sadullah Nader</span></div>
<div class="line"><a id="l00289" name="l00289"></a><span class="lineno">  289</span>    <span class="comment">//Initialization(s) inserted</span></div>
<div class="line"><a id="l00290" name="l00290"></a><span class="lineno">  290</span>    m_victimInitialTeam(<a class="code hl_define" href="_base_type_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><a id="l00291" name="l00291"></a><span class="lineno">  291</span>    <span class="comment">//</span></div>
<div class="line"><a id="l00292" name="l00292"></a><span class="lineno">  292</span>{</div>
<div class="line"><a id="l00293" name="l00293"></a><span class="lineno">  293</span>    <span class="comment">//Added By Sadullah Nader</span></div>
<div class="line"><a id="l00294" name="l00294"></a><span class="lineno">  294</span>    <span class="comment">//Initialization(s) inserted</span></div>
<div class="line"><a id="l00295" name="l00295"></a><span class="lineno">  295</span>    m_continuousFireExpirationFrame = -1;</div>
<div class="line"><a id="l00296" name="l00296"></a><span class="lineno">  296</span>    <span class="comment">//</span></div>
<div class="line"><a id="l00297" name="l00297"></a><span class="lineno">  297</span>    <span class="keywordflow">if</span> (!m_data)</div>
<div class="line"><a id="l00298" name="l00298"></a><span class="lineno">  298</span>    {</div>
<div class="line"><a id="l00299" name="l00299"></a><span class="lineno">  299</span>        <a class="code hl_define" href="_game_engine_2_include_2_common_2_debug_8h.html#ae61da6cb696f996c3bd4b129ce9407f6">DEBUG_CRASH</a>((<span class="stringliteral">&quot;TurretAI MUST have ModuleData&quot;</span>));</div>
<div class="line"><a id="l00300" name="l00300"></a><span class="lineno">  300</span>        <span class="keywordflow">throw</span> <a class="code hl_enumvalue" href="_game_engine_2_include_2_common_2_i_n_i_8h.html#a410a4da918cef9f9a2940ef84c075d08a25eba6f61542417a0ba17b3f377a8c3d">INI_INVALID_DATA</a>;</div>
<div class="line"><a id="l00301" name="l00301"></a><span class="lineno">  301</span>    }</div>
<div class="line"><a id="l00302" name="l00302"></a><span class="lineno">  302</span> </div>
<div class="line"><a id="l00303" name="l00303"></a><span class="lineno">  303</span>    <span class="keywordflow">if</span> (m_data-&gt;m_turretWeaponSlots == 0)</div>
<div class="line"><a id="l00304" name="l00304"></a><span class="lineno">  304</span>    {</div>
<div class="line"><a id="l00305" name="l00305"></a><span class="lineno">  305</span>        DEBUG_CRASH((<span class="stringliteral">&quot;TurretAI MUST specify controlled weapon slots!&quot;</span>));</div>
<div class="line"><a id="l00306" name="l00306"></a><span class="lineno">  306</span>        throw INI_INVALID_DATA;</div>
<div class="line"><a id="l00307" name="l00307"></a><span class="lineno">  307</span>    }</div>
<div class="line"><a id="l00308" name="l00308"></a><span class="lineno">  308</span>    m_angle = <a class="code hl_function" href="class_turret_a_i.html#abf799c851a82533efc156fea27f43c04">getNaturalTurretAngle</a>();</div>
<div class="line"><a id="l00309" name="l00309"></a><span class="lineno">  309</span>    m_pitch = <a class="code hl_function" href="class_turret_a_i.html#a6e0b4fdb66cb26910e8403fa86a128f5">getNaturalTurretPitch</a>();</div>
<div class="line"><a id="l00310" name="l00310"></a><span class="lineno">  310</span> </div>
<div class="line"><a id="l00311" name="l00311"></a><span class="lineno">  311</span><span class="preprocessor">#ifdef _DEBUG</span></div>
<div class="line"><a id="l00312" name="l00312"></a><span class="lineno">  312</span>    <span class="keywordtype">char</span> smbuf[256];</div>
<div class="line"><a id="l00313" name="l00313"></a><span class="lineno">  313</span>    sprintf(smbuf, <span class="stringliteral">&quot;TurretStateMachine for tur %08lx slot %d&quot;</span>,<span class="keyword">this</span>,tur);</div>
<div class="line"><a id="l00314" name="l00314"></a><span class="lineno">  314</span>    <span class="keyword">const</span> <span class="keywordtype">char</span>* smname = smbuf;</div>
<div class="line"><a id="l00315" name="l00315"></a><span class="lineno">  315</span><span class="preprocessor">#else</span></div>
<div class="line"><a id="l00316" name="l00316"></a><span class="lineno">  316</span>    <span class="keyword">const</span> <span class="keywordtype">char</span>* smname = <span class="stringliteral">&quot;TurretStateMachine&quot;</span>;</div>
<div class="line"><a id="l00317" name="l00317"></a><span class="lineno">  317</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00318" name="l00318"></a><span class="lineno">  318</span>    m_turretStateMachine = <a class="code hl_define" href="_game_memory_8h.html#a35fee562c05ae9f944ce2568013ea71c">newInstance</a>(<a class="code hl_class" href="class_turret_state_machine.html">TurretStateMachine</a>)(<span class="keyword">this</span>, m_owner, smname);</div>
<div class="line"><a id="l00319" name="l00319"></a><span class="lineno">  319</span>    m_turretStateMachine-&gt;initDefaultState();</div>
<div class="line"><a id="l00320" name="l00320"></a><span class="lineno">  320</span> </div>
<div class="line"><a id="l00321" name="l00321"></a><span class="lineno">  321</span>    m_turretRotOrPitchSound = *(m_owner-&gt;getTemplate()-&gt;getPerUnitSound(<span class="stringliteral">&quot;TurretMoveLoop&quot;</span>));</div>
<div class="line"><a id="l00322" name="l00322"></a><span class="lineno">  322</span>}</div>
</div>
<div class="line"><a id="l00323" name="l00323"></a><span class="lineno">  323</span> </div>
<div class="line"><a id="l00324" name="l00324"></a><span class="lineno">  324</span><span class="comment">//----------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00325" name="l00325"></a><span class="lineno">  325</span>TurretAI::~TurretAI()</div>
<div class="line"><a id="l00326" name="l00326"></a><span class="lineno">  326</span>{</div>
<div class="line"><a id="l00327" name="l00327"></a><span class="lineno">  327</span>    stopRotOrPitchSound();</div>
<div class="line"><a id="l00328" name="l00328"></a><span class="lineno">  328</span> </div>
<div class="line"><a id="l00329" name="l00329"></a><span class="lineno">  329</span>    <span class="keywordflow">if</span> (m_turretStateMachine)</div>
<div class="line"><a id="l00330" name="l00330"></a><span class="lineno">  330</span>        m_turretStateMachine-&gt;<a class="code hl_function" href="class_memory_pool_object.html#a39991eb8d6e0a3ef336a1551005753b1">deleteInstance</a>();</div>
<div class="line"><a id="l00331" name="l00331"></a><span class="lineno">  331</span>}</div>
<div class="line"><a id="l00332" name="l00332"></a><span class="lineno">  332</span> </div>
<div class="line"><a id="l00333" name="l00333"></a><span class="lineno">  333</span><span class="comment">// ------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00335" name="l00335"></a><span class="lineno">  335</span><span class="comment">// ------------------------------------------------------------------------------------------------</span></div>
<div class="foldopen" id="foldopen00336" data-start="{" data-end="}">
<div class="line"><a id="l00336" name="l00336"></a><span class="lineno"><a class="line" href="class_turret_a_i.html#ad2dc7b50ab30bc2d414a3474cdce71db">  336</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="class_turret_a_i.html#ad2dc7b50ab30bc2d414a3474cdce71db">TurretAI::crc</a>( <a class="code hl_class" href="class_xfer.html">Xfer</a> *<a class="code hl_function" href="class_turret_a_i.html#adaf2759b8b8b164f85947dec65cfd396">xfer</a> )</div>
<div class="line"><a id="l00337" name="l00337"></a><span class="lineno">  337</span>{</div>
<div class="line"><a id="l00338" name="l00338"></a><span class="lineno">  338</span>}  <span class="comment">// end crc</span></div>
</div>
<div class="line"><a id="l00339" name="l00339"></a><span class="lineno">  339</span> </div>
<div class="line"><a id="l00340" name="l00340"></a><span class="lineno">  340</span><span class="comment">// ------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00342" name="l00342"></a><span class="lineno">  342</span><span class="comment">// ------------------------------------------------------------------------------------------------</span></div>
<div class="foldopen" id="foldopen00343" data-start="{" data-end="}">
<div class="line"><a id="l00343" name="l00343"></a><span class="lineno"><a class="line" href="class_turret_a_i.html#adaf2759b8b8b164f85947dec65cfd396">  343</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="class_turret_a_i.html#adaf2759b8b8b164f85947dec65cfd396">TurretAI::xfer</a>( <a class="code hl_class" href="class_xfer.html">Xfer</a> *<a class="code hl_function" href="class_turret_a_i.html#adaf2759b8b8b164f85947dec65cfd396">xfer</a> )</div>
<div class="line"><a id="l00344" name="l00344"></a><span class="lineno">  344</span>{</div>
<div class="line"><a id="l00345" name="l00345"></a><span class="lineno">  345</span>  <span class="comment">// version</span></div>
<div class="line"><a id="l00346" name="l00346"></a><span class="lineno">  346</span>  <span class="keyword">const</span> <a class="code hl_typedef" href="_xfer_8h.html#a5290038bf1e80fe9b1a9e415814ddc13">XferVersion</a> currentVersion = 2;</div>
<div class="line"><a id="l00347" name="l00347"></a><span class="lineno">  347</span>  <a class="code hl_typedef" href="_xfer_8h.html#a5290038bf1e80fe9b1a9e415814ddc13">XferVersion</a> version = currentVersion;</div>
<div class="line"><a id="l00348" name="l00348"></a><span class="lineno">  348</span>  <a class="code hl_function" href="class_turret_a_i.html#adaf2759b8b8b164f85947dec65cfd396">xfer</a>-&gt;xferVersion( &amp;version, currentVersion );</div>
<div class="line"><a id="l00349" name="l00349"></a><span class="lineno">  349</span> </div>
<div class="line"><a id="l00350" name="l00350"></a><span class="lineno">  350</span><span class="comment">/* These 4 are loaded on creation, and don&#39;t change. jba. </span></div>
<div class="line"><a id="l00351" name="l00351"></a><span class="lineno">  351</span><span class="comment">    const TurretAIData*             m_data;</span></div>
<div class="line"><a id="l00352" name="l00352"></a><span class="lineno">  352</span><span class="comment">    WhichTurretType                     m_whichTurret;</span></div>
<div class="line"><a id="l00353" name="l00353"></a><span class="lineno">  353</span><span class="comment">    Object*                                     m_owner;                                </span></div>
<div class="line"><a id="l00354" name="l00354"></a><span class="lineno">  354</span><span class="comment">    AudioEventRTS                           m_turretRotOrPitchSound;        ///&lt; Sound of turret rotation</span></div>
<div class="line"><a id="l00355" name="l00355"></a><span class="lineno">  355</span><span class="comment">    */</span></div>
<div class="line"><a id="l00356" name="l00356"></a><span class="lineno">  356</span>    <a class="code hl_function" href="class_turret_a_i.html#adaf2759b8b8b164f85947dec65cfd396">xfer</a>-&gt;xferSnapshot(m_turretStateMachine);</div>
<div class="line"><a id="l00357" name="l00357"></a><span class="lineno">  357</span> </div>
<div class="line"><a id="l00358" name="l00358"></a><span class="lineno">  358</span>    <a class="code hl_function" href="class_turret_a_i.html#adaf2759b8b8b164f85947dec65cfd396">xfer</a>-&gt;xferReal(&amp;m_angle);                                   </div>
<div class="line"><a id="l00359" name="l00359"></a><span class="lineno">  359</span>    <a class="code hl_function" href="class_turret_a_i.html#adaf2759b8b8b164f85947dec65cfd396">xfer</a>-&gt;xferReal(&amp;m_pitch);                                   </div>
<div class="line"><a id="l00360" name="l00360"></a><span class="lineno">  360</span>    <a class="code hl_function" href="class_turret_a_i.html#adaf2759b8b8b164f85947dec65cfd396">xfer</a>-&gt;xferUnsignedInt(&amp;m_enableSweepUntil);</div>
<div class="line"><a id="l00361" name="l00361"></a><span class="lineno">  361</span> </div>
<div class="line"><a id="l00362" name="l00362"></a><span class="lineno">  362</span>    <a class="code hl_function" href="class_turret_a_i.html#adaf2759b8b8b164f85947dec65cfd396">xfer</a>-&gt;xferUser(&amp;m_target, <span class="keyword">sizeof</span>(m_target));</div>
<div class="line"><a id="l00363" name="l00363"></a><span class="lineno">  363</span>    <a class="code hl_function" href="class_turret_a_i.html#adaf2759b8b8b164f85947dec65cfd396">xfer</a>-&gt;xferUnsignedInt(&amp;m_continuousFireExpirationFrame);</div>
<div class="line"><a id="l00364" name="l00364"></a><span class="lineno">  364</span>    <a class="code hl_typedef" href="_base_type_8h.html#a76a8b016e5ad61faf9062cc387df5016">Bool</a> tmpBool;</div>
<div class="line"><a id="l00365" name="l00365"></a><span class="lineno">  365</span><span class="preprocessor">#define UNPACK_AND_XFER(val) {tmpBool = val; xfer-&gt;xferBool(&amp;tmpBool); val = tmpBool;}</span></div>
<div class="line"><a id="l00366" name="l00366"></a><span class="lineno">  366</span>    <a class="code hl_define" href="_turret_a_i_8cpp.html#a49c015995649ec5bc4ca66a234a35238">UNPACK_AND_XFER</a>(m_playRotSound);</div>
<div class="line"><a id="l00367" name="l00367"></a><span class="lineno">  367</span>    <a class="code hl_define" href="_turret_a_i_8cpp.html#a49c015995649ec5bc4ca66a234a35238">UNPACK_AND_XFER</a>(m_playPitchSound);</div>
<div class="line"><a id="l00368" name="l00368"></a><span class="lineno">  368</span>    <a class="code hl_define" href="_turret_a_i_8cpp.html#a49c015995649ec5bc4ca66a234a35238">UNPACK_AND_XFER</a>(m_positiveSweep);</div>
<div class="line"><a id="l00369" name="l00369"></a><span class="lineno">  369</span>    <a class="code hl_define" href="_turret_a_i_8cpp.html#a49c015995649ec5bc4ca66a234a35238">UNPACK_AND_XFER</a>(m_didFire);</div>
<div class="line"><a id="l00370" name="l00370"></a><span class="lineno">  370</span>    <a class="code hl_define" href="_turret_a_i_8cpp.html#a49c015995649ec5bc4ca66a234a35238">UNPACK_AND_XFER</a>(m_enabled);</div>
<div class="line"><a id="l00371" name="l00371"></a><span class="lineno">  371</span>    <a class="code hl_define" href="_turret_a_i_8cpp.html#a49c015995649ec5bc4ca66a234a35238">UNPACK_AND_XFER</a>(m_firesWhileTurning);</div>
<div class="line"><a id="l00372" name="l00372"></a><span class="lineno">  372</span>    <a class="code hl_define" href="_turret_a_i_8cpp.html#a49c015995649ec5bc4ca66a234a35238">UNPACK_AND_XFER</a>(m_targetWasSetByIdleMood);</div>
<div class="line"><a id="l00373" name="l00373"></a><span class="lineno">  373</span><span class="preprocessor">#undef UNPACK_AND_XFER</span></div>
<div class="line"><a id="l00374" name="l00374"></a><span class="lineno">  374</span> </div>
<div class="line"><a id="l00375" name="l00375"></a><span class="lineno">  375</span>    <span class="keywordflow">if</span> (version &gt;= 2)</div>
<div class="line"><a id="l00376" name="l00376"></a><span class="lineno">  376</span>        <a class="code hl_function" href="class_turret_a_i.html#adaf2759b8b8b164f85947dec65cfd396">xfer</a>-&gt;xferUnsignedInt(&amp;m_sleepUntil);</div>
<div class="line"><a id="l00377" name="l00377"></a><span class="lineno">  377</span> </div>
<div class="line"><a id="l00378" name="l00378"></a><span class="lineno">  378</span>}  <span class="comment">// end xfer</span></div>
</div>
<div class="line"><a id="l00379" name="l00379"></a><span class="lineno">  379</span> </div>
<div class="line"><a id="l00380" name="l00380"></a><span class="lineno">  380</span><span class="comment">// ------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00382" name="l00382"></a><span class="lineno">  382</span><span class="comment">// ------------------------------------------------------------------------------------------------</span></div>
<div class="foldopen" id="foldopen00383" data-start="{" data-end="}">
<div class="line"><a id="l00383" name="l00383"></a><span class="lineno"><a class="line" href="class_turret_a_i.html#a9809a63b511b17bad9e6a893f7c06e3c">  383</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="class_turret_a_i.html#a9809a63b511b17bad9e6a893f7c06e3c">TurretAI::loadPostProcess</a>( <span class="keywordtype">void</span> )</div>
<div class="line"><a id="l00384" name="l00384"></a><span class="lineno">  384</span>{</div>
<div class="line"><a id="l00385" name="l00385"></a><span class="lineno">  385</span>    <a class="code hl_class" href="class_object.html">Object</a> *victim = m_turretStateMachine-&gt;getGoalObject();</div>
<div class="line"><a id="l00386" name="l00386"></a><span class="lineno">  386</span>    <span class="keywordflow">if</span> (victim) {</div>
<div class="line"><a id="l00387" name="l00387"></a><span class="lineno">  387</span>        m_victimInitialTeam = victim-&gt;<a class="code hl_function" href="class_object.html#af4a784b792c59f2365032397c328cd85">getTeam</a>();</div>
<div class="line"><a id="l00388" name="l00388"></a><span class="lineno">  388</span>    }</div>
<div class="line"><a id="l00389" name="l00389"></a><span class="lineno">  389</span>}  <span class="comment">// end loadPostProcess</span></div>
</div>
<div class="line"><a id="l00390" name="l00390"></a><span class="lineno">  390</span> </div>
<div class="line"><a id="l00391" name="l00391"></a><span class="lineno">  391</span><span class="comment">//----------------------------------------------------------------------------------------------------------</span></div>
<div class="foldopen" id="foldopen00392" data-start="{" data-end="}">
<div class="line"><a id="l00392" name="l00392"></a><span class="lineno"><a class="line" href="class_turret_a_i.html#a1b5c663dc277d8d6c3ac157ddd5c98cf">  392</a></span><a class="code hl_typedef" href="_base_type_8h.html#a76a8b016e5ad61faf9062cc387df5016">Bool</a> <a class="code hl_function" href="class_turret_a_i.html#a1b5c663dc277d8d6c3ac157ddd5c98cf">TurretAI::friend_turnTowardsAngle</a>(<a class="code hl_typedef" href="_base_type_8h.html#ab685845059e8a2c92743427d9a698c70">Real</a> desiredAngle, <a class="code hl_typedef" href="_base_type_8h.html#ab685845059e8a2c92743427d9a698c70">Real</a> rateModifier, <a class="code hl_typedef" href="_base_type_8h.html#ab685845059e8a2c92743427d9a698c70">Real</a> relThresh)</div>
<div class="line"><a id="l00393" name="l00393"></a><span class="lineno">  393</span>{</div>
<div class="line"><a id="l00394" name="l00394"></a><span class="lineno">  394</span>    desiredAngle = <a class="code hl_function" href="_game_common_8h.html#a6b82567dea14f55d2df66aece04b0510">normalizeAngle</a>(desiredAngle);</div>
<div class="line"><a id="l00395" name="l00395"></a><span class="lineno">  395</span> </div>
<div class="line"><a id="l00396" name="l00396"></a><span class="lineno">  396</span>    <span class="comment">// rotate turret back to zero angle</span></div>
<div class="line"><a id="l00397" name="l00397"></a><span class="lineno">  397</span>    <a class="code hl_typedef" href="_base_type_8h.html#ab685845059e8a2c92743427d9a698c70">Real</a> origAngle = <a class="code hl_function" href="class_turret_a_i.html#a2ed4dedce5f8f03dece4f8a06db3a37f">getTurretAngle</a>();</div>
<div class="line"><a id="l00398" name="l00398"></a><span class="lineno">  398</span>    <a class="code hl_typedef" href="_base_type_8h.html#ab685845059e8a2c92743427d9a698c70">Real</a> actualAngle = origAngle;</div>
<div class="line"><a id="l00399" name="l00399"></a><span class="lineno">  399</span>    <a class="code hl_typedef" href="_base_type_8h.html#ab685845059e8a2c92743427d9a698c70">Real</a> turnRate = <a class="code hl_function" href="class_turret_a_i.html#aafc5da8acfef48bb04e0c2a2cc8d0c10">getTurnRate</a>() * rateModifier;</div>
<div class="line"><a id="l00400" name="l00400"></a><span class="lineno">  400</span>    <a class="code hl_typedef" href="_base_type_8h.html#ab685845059e8a2c92743427d9a698c70">Real</a> angleDiff = <a class="code hl_function" href="_game_common_8h.html#a6b82567dea14f55d2df66aece04b0510">normalizeAngle</a>(desiredAngle - actualAngle);</div>
<div class="line"><a id="l00401" name="l00401"></a><span class="lineno">  401</span> </div>
<div class="line"><a id="l00402" name="l00402"></a><span class="lineno">  402</span>    <span class="comment">// Are we close enough to the desired angle to just snap there?</span></div>
<div class="line"><a id="l00403" name="l00403"></a><span class="lineno">  403</span>    <span class="keywordflow">if</span> (fabs(angleDiff) &lt; turnRate)</div>
<div class="line"><a id="l00404" name="l00404"></a><span class="lineno">  404</span>    {</div>
<div class="line"><a id="l00405" name="l00405"></a><span class="lineno">  405</span>        <span class="comment">// we are centered</span></div>
<div class="line"><a id="l00406" name="l00406"></a><span class="lineno">  406</span>        actualAngle = desiredAngle;</div>
<div class="line"><a id="l00407" name="l00407"></a><span class="lineno">  407</span> </div>
<div class="line"><a id="l00408" name="l00408"></a><span class="lineno">  408</span>        <a class="code hl_function" href="class_turret_a_i.html#adccdfd3cc5aa2c271ec9605f93f7b010">getOwner</a>()-&gt;<a class="code hl_function" href="class_object.html#abf8c24bb73bb87af6c0d2b249ad44429">clearModelConditionState</a>(<a class="code hl_enumvalue" href="_model_state_8h.html#a2c78cbe4d626a2139abc7dd87833d435a0a8a342d9c160c78993549dd9eff8579">MODELCONDITION_TURRET_ROTATE</a>);</div>
<div class="line"><a id="l00409" name="l00409"></a><span class="lineno">  409</span>    }</div>
<div class="line"><a id="l00410" name="l00410"></a><span class="lineno">  410</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l00411" name="l00411"></a><span class="lineno">  411</span>    {</div>
<div class="line"><a id="l00412" name="l00412"></a><span class="lineno">  412</span>        <span class="keywordflow">if</span> (angleDiff &gt; 0) </div>
<div class="line"><a id="l00413" name="l00413"></a><span class="lineno">  413</span>            actualAngle += turnRate;</div>
<div class="line"><a id="l00414" name="l00414"></a><span class="lineno">  414</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l00415" name="l00415"></a><span class="lineno">  415</span>            actualAngle -= turnRate;</div>
<div class="line"><a id="l00416" name="l00416"></a><span class="lineno">  416</span> </div>
<div class="line"><a id="l00417" name="l00417"></a><span class="lineno">  417</span>        <a class="code hl_function" href="class_turret_a_i.html#adccdfd3cc5aa2c271ec9605f93f7b010">getOwner</a>()-&gt;<a class="code hl_function" href="class_object.html#aedb8567d3a3f2d3466aff2e4bb8ddf5d">setModelConditionState</a>(<a class="code hl_enumvalue" href="_model_state_8h.html#a2c78cbe4d626a2139abc7dd87833d435a0a8a342d9c160c78993549dd9eff8579">MODELCONDITION_TURRET_ROTATE</a>);</div>
<div class="line"><a id="l00418" name="l00418"></a><span class="lineno">  418</span>        m_playRotSound = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00419" name="l00419"></a><span class="lineno">  419</span>    }</div>
<div class="line"><a id="l00420" name="l00420"></a><span class="lineno">  420</span> </div>
<div class="line"><a id="l00421" name="l00421"></a><span class="lineno">  421</span>    m_angle = <a class="code hl_function" href="_game_common_8h.html#a6b82567dea14f55d2df66aece04b0510">normalizeAngle</a>(actualAngle);</div>
<div class="line"><a id="l00422" name="l00422"></a><span class="lineno">  422</span>    </div>
<div class="line"><a id="l00423" name="l00423"></a><span class="lineno">  423</span>    <span class="keywordflow">if</span>( m_angle != origAngle )</div>
<div class="line"><a id="l00424" name="l00424"></a><span class="lineno">  424</span>        <a class="code hl_function" href="class_turret_a_i.html#adccdfd3cc5aa2c271ec9605f93f7b010">getOwner</a>()-&gt;<a class="code hl_function" href="class_object.html#ad4450efb805ee889329ab33eb87020f7">reactToTurretChange</a>( m_whichTurret, origAngle, m_pitch );</div>
<div class="line"><a id="l00425" name="l00425"></a><span class="lineno">  425</span> </div>
<div class="line"><a id="l00426" name="l00426"></a><span class="lineno">  426</span>    <a class="code hl_typedef" href="_base_type_8h.html#a76a8b016e5ad61faf9062cc387df5016">Bool</a> aligned = fabs(m_angle - desiredAngle) &lt;= relThresh;</div>
<div class="line"><a id="l00427" name="l00427"></a><span class="lineno">  427</span> </div>
<div class="line"><a id="l00428" name="l00428"></a><span class="lineno">  428</span>    <span class="keywordflow">return</span> aligned;</div>
<div class="line"><a id="l00429" name="l00429"></a><span class="lineno">  429</span>}</div>
</div>
<div class="line"><a id="l00430" name="l00430"></a><span class="lineno">  430</span> </div>
<div class="line"><a id="l00431" name="l00431"></a><span class="lineno">  431</span><span class="comment">//----------------------------------------------------------------------------------------------------------</span></div>
<div class="foldopen" id="foldopen00432" data-start="{" data-end="}">
<div class="line"><a id="l00432" name="l00432"></a><span class="lineno"><a class="line" href="class_turret_a_i.html#ae9db9e792e1b0e0a52ddc9cf16a95001">  432</a></span><a class="code hl_typedef" href="_base_type_8h.html#a76a8b016e5ad61faf9062cc387df5016">Bool</a> <a class="code hl_function" href="class_turret_a_i.html#ae9db9e792e1b0e0a52ddc9cf16a95001">TurretAI::friend_turnTowardsPitch</a>(<a class="code hl_typedef" href="_base_type_8h.html#ab685845059e8a2c92743427d9a698c70">Real</a> desiredPitch, <a class="code hl_typedef" href="_base_type_8h.html#ab685845059e8a2c92743427d9a698c70">Real</a> rateModifier)</div>
<div class="line"><a id="l00433" name="l00433"></a><span class="lineno">  433</span>{</div>
<div class="line"><a id="l00434" name="l00434"></a><span class="lineno">  434</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="class_turret_a_i.html#a787a9243413b9ad690519934a43f97aa">isAllowsPitch</a>())</div>
<div class="line"><a id="l00435" name="l00435"></a><span class="lineno">  435</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00436" name="l00436"></a><span class="lineno">  436</span> </div>
<div class="line"><a id="l00437" name="l00437"></a><span class="lineno">  437</span>    desiredPitch = <a class="code hl_function" href="_game_common_8h.html#a6b82567dea14f55d2df66aece04b0510">normalizeAngle</a>(desiredPitch);</div>
<div class="line"><a id="l00438" name="l00438"></a><span class="lineno">  438</span> </div>
<div class="line"><a id="l00439" name="l00439"></a><span class="lineno">  439</span>    <span class="comment">// rotate turret back to zero angle</span></div>
<div class="line"><a id="l00440" name="l00440"></a><span class="lineno">  440</span>    <a class="code hl_typedef" href="_base_type_8h.html#ab685845059e8a2c92743427d9a698c70">Real</a> actualPitch = <a class="code hl_function" href="class_turret_a_i.html#aecf3658d4b525881cecae0335e1a34c8">getTurretPitch</a>();</div>
<div class="line"><a id="l00441" name="l00441"></a><span class="lineno">  441</span>    <a class="code hl_typedef" href="_base_type_8h.html#ab685845059e8a2c92743427d9a698c70">Real</a> pitchRate = <a class="code hl_function" href="class_turret_a_i.html#ac73d99bf848187d90b329a6fdba86462">getPitchRate</a>() * rateModifier;</div>
<div class="line"><a id="l00442" name="l00442"></a><span class="lineno">  442</span>    <a class="code hl_typedef" href="_base_type_8h.html#ab685845059e8a2c92743427d9a698c70">Real</a> pitchDiff = <a class="code hl_function" href="_game_common_8h.html#a6b82567dea14f55d2df66aece04b0510">normalizeAngle</a>(desiredPitch - actualPitch);</div>
<div class="line"><a id="l00443" name="l00443"></a><span class="lineno">  443</span> </div>
<div class="line"><a id="l00444" name="l00444"></a><span class="lineno">  444</span>    <span class="keywordflow">if</span> (fabs(pitchDiff) &lt; pitchRate)</div>
<div class="line"><a id="l00445" name="l00445"></a><span class="lineno">  445</span>    {</div>
<div class="line"><a id="l00446" name="l00446"></a><span class="lineno">  446</span>        <span class="comment">// we are centered</span></div>
<div class="line"><a id="l00447" name="l00447"></a><span class="lineno">  447</span>        actualPitch = desiredPitch;</div>
<div class="line"><a id="l00448" name="l00448"></a><span class="lineno">  448</span>    }</div>
<div class="line"><a id="l00449" name="l00449"></a><span class="lineno">  449</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l00450" name="l00450"></a><span class="lineno">  450</span>    {</div>
<div class="line"><a id="l00451" name="l00451"></a><span class="lineno">  451</span>        <span class="keywordflow">if</span> (pitchDiff &gt; 0)</div>
<div class="line"><a id="l00452" name="l00452"></a><span class="lineno">  452</span>            actualPitch += pitchRate;</div>
<div class="line"><a id="l00453" name="l00453"></a><span class="lineno">  453</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l00454" name="l00454"></a><span class="lineno">  454</span>            actualPitch -= pitchRate;</div>
<div class="line"><a id="l00455" name="l00455"></a><span class="lineno">  455</span>        m_playPitchSound = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00456" name="l00456"></a><span class="lineno">  456</span>    }</div>
<div class="line"><a id="l00457" name="l00457"></a><span class="lineno">  457</span> </div>
<div class="line"><a id="l00458" name="l00458"></a><span class="lineno">  458</span>    m_pitch = <a class="code hl_function" href="_game_common_8h.html#a6b82567dea14f55d2df66aece04b0510">normalizeAngle</a>(actualPitch);</div>
<div class="line"><a id="l00459" name="l00459"></a><span class="lineno">  459</span> </div>
<div class="line"><a id="l00460" name="l00460"></a><span class="lineno">  460</span>    <span class="keywordflow">return</span> (m_pitch == desiredPitch);</div>
<div class="line"><a id="l00461" name="l00461"></a><span class="lineno">  461</span>}</div>
</div>
<div class="line"><a id="l00462" name="l00462"></a><span class="lineno">  462</span> </div>
<div class="line"><a id="l00463" name="l00463"></a><span class="lineno">  463</span><span class="comment">//----------------------------------------------------------------------------------------------------------</span></div>
<div class="foldopen" id="foldopen00464" data-start="{" data-end="}">
<div class="line"><a id="l00464" name="l00464"></a><span class="lineno"><a class="line" href="class_turret_a_i.html#a2637509860e97383d3eb903b9fc994dd">  464</a></span><a class="code hl_typedef" href="_base_type_8h.html#a76a8b016e5ad61faf9062cc387df5016">Bool</a> <a class="code hl_function" href="class_turret_a_i.html#a2637509860e97383d3eb903b9fc994dd">TurretAI::isWeaponSlotOkToFire</a>(<a class="code hl_enumeration" href="_game_type_8h.html#a2af9bbdf6271d34dfabc5309aa88d79d">WeaponSlotType</a> wslot)<span class="keyword"> const</span></div>
<div class="line"><a id="l00465" name="l00465"></a><span class="lineno">  465</span><span class="keyword"></span>{</div>
<div class="line"><a id="l00466" name="l00466"></a><span class="lineno">  466</span>  <span class="comment">// If we turrets are linked, ai wants us to fire together, regardless of slot </span></div>
<div class="line"><a id="l00467" name="l00467"></a><span class="lineno">  467</span>  <span class="keywordflow">if</span>( <a class="code hl_function" href="class_turret_a_i.html#adccdfd3cc5aa2c271ec9605f93f7b010">getOwner</a>()-&gt;getAI()-&gt;areTurretsLinked() )</div>
<div class="line"><a id="l00468" name="l00468"></a><span class="lineno">  468</span>    <span class="keywordflow">return</span> <a class="code hl_define" href="_base_type_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div>
<div class="line"><a id="l00469" name="l00469"></a><span class="lineno">  469</span> </div>
<div class="line"><a id="l00470" name="l00470"></a><span class="lineno">  470</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="class_turret_a_i.html#a6b5b763ee5c957bf91881162a5f17735">isWeaponSlotOnTurret</a>(wslot);</div>
<div class="line"><a id="l00471" name="l00471"></a><span class="lineno">  471</span>}</div>
</div>
<div class="line"><a id="l00472" name="l00472"></a><span class="lineno">  472</span> </div>
<div class="line"><a id="l00473" name="l00473"></a><span class="lineno">  473</span><span class="comment">//----------------------------------------------------------------------------------------------------------</span></div>
<div class="foldopen" id="foldopen00474" data-start="{" data-end="}">
<div class="line"><a id="l00474" name="l00474"></a><span class="lineno"><a class="line" href="class_turret_a_i.html#a02f93bfdd7b56bc36789d1f9f3f808e1">  474</a></span><a class="code hl_typedef" href="_base_type_8h.html#ab685845059e8a2c92743427d9a698c70">Real</a> <a class="code hl_function" href="class_turret_a_i.html#a02f93bfdd7b56bc36789d1f9f3f808e1">TurretAI::getTurretFireAngleSweepForWeaponSlot</a>( <a class="code hl_enumeration" href="_game_type_8h.html#a2af9bbdf6271d34dfabc5309aa88d79d">WeaponSlotType</a> slot )<span class="keyword"> const</span></div>
<div class="line"><a id="l00475" name="l00475"></a><span class="lineno">  475</span><span class="keyword"></span>{</div>
<div class="line"><a id="l00476" name="l00476"></a><span class="lineno">  476</span>    <span class="keywordflow">return</span> m_data-&gt;m_turretFireAngleSweep[slot];    </div>
<div class="line"><a id="l00477" name="l00477"></a><span class="lineno">  477</span>}</div>
</div>
<div class="line"><a id="l00478" name="l00478"></a><span class="lineno">  478</span> </div>
<div class="line"><a id="l00479" name="l00479"></a><span class="lineno">  479</span><span class="comment">//----------------------------------------------------------------------------------------------------------</span></div>
<div class="foldopen" id="foldopen00480" data-start="{" data-end="}">
<div class="line"><a id="l00480" name="l00480"></a><span class="lineno"><a class="line" href="class_turret_a_i.html#a419a9b1f86a076eb81b5c43c443647d1">  480</a></span><a class="code hl_typedef" href="_base_type_8h.html#ab685845059e8a2c92743427d9a698c70">Real</a> <a class="code hl_function" href="class_turret_a_i.html#a419a9b1f86a076eb81b5c43c443647d1">TurretAI::getTurretSweepSpeedModifierForWeaponSlot</a>( <a class="code hl_enumeration" href="_game_type_8h.html#a2af9bbdf6271d34dfabc5309aa88d79d">WeaponSlotType</a> slot )<span class="keyword"> const</span></div>
<div class="line"><a id="l00481" name="l00481"></a><span class="lineno">  481</span><span class="keyword"></span>{</div>
<div class="line"><a id="l00482" name="l00482"></a><span class="lineno">  482</span>    <span class="keywordflow">return</span> m_data-&gt;m_turretSweepSpeedModifier[slot];</div>
<div class="line"><a id="l00483" name="l00483"></a><span class="lineno">  483</span>}</div>
</div>
<div class="line"><a id="l00484" name="l00484"></a><span class="lineno">  484</span> </div>
<div class="line"><a id="l00485" name="l00485"></a><span class="lineno">  485</span><span class="comment">//----------------------------------------------------------------------------------------------------------</span></div>
<div class="foldopen" id="foldopen00486" data-start="{" data-end="}">
<div class="line"><a id="l00486" name="l00486"></a><span class="lineno"><a class="line" href="class_turret_a_i.html#a89e17794a9b3581b114a34c0d7013dc8">  486</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="class_turret_a_i.html#a89e17794a9b3581b114a34c0d7013dc8">TurretAI::notifyFired</a>()</div>
<div class="line"><a id="l00487" name="l00487"></a><span class="lineno">  487</span>{</div>
<div class="line"><a id="l00488" name="l00488"></a><span class="lineno">  488</span>    m_didFire = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00489" name="l00489"></a><span class="lineno">  489</span>}</div>
</div>
<div class="line"><a id="l00490" name="l00490"></a><span class="lineno">  490</span> </div>
<div class="line"><a id="l00491" name="l00491"></a><span class="lineno">  491</span><span class="comment">//----------------------------------------------------------------------------------------------------------</span></div>
<div class="foldopen" id="foldopen00492" data-start="{" data-end="}">
<div class="line"><a id="l00492" name="l00492"></a><span class="lineno"><a class="line" href="class_turret_a_i.html#a2ce85cd5c550878b49d940c7ade39553">  492</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="class_turret_a_i.html#a2ce85cd5c550878b49d940c7ade39553">TurretAI::notifyNewVictimChosen</a>(<a class="code hl_class" href="class_object.html">Object</a>* victim)</div>
<div class="line"><a id="l00493" name="l00493"></a><span class="lineno">  493</span>{</div>
<div class="line"><a id="l00494" name="l00494"></a><span class="lineno">  494</span>    <a class="code hl_function" href="class_turret_a_i.html#a66dc48b94b2410f67a70756a02c86529">setTurretTargetObject</a>(victim, <a class="code hl_define" href="_base_type_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div>
<div class="line"><a id="l00495" name="l00495"></a><span class="lineno">  495</span>}</div>
</div>
<div class="line"><a id="l00496" name="l00496"></a><span class="lineno">  496</span> </div>
<div class="line"><a id="l00497" name="l00497"></a><span class="lineno">  497</span><span class="comment">//----------------------------------------------------------------------------------------------------------</span></div>
<div class="foldopen" id="foldopen00498" data-start="{" data-end="}">
<div class="line"><a id="l00498" name="l00498"></a><span class="lineno"><a class="line" href="class_turret_a_i.html#aea2cab2226f6f9a7e846da7110c1ca64">  498</a></span><a class="code hl_typedef" href="_base_type_8h.html#a76a8b016e5ad61faf9062cc387df5016">Bool</a> <a class="code hl_function" href="class_turret_a_i.html#aea2cab2226f6f9a7e846da7110c1ca64">TurretAI::isTryingToAimAtTarget</a>(<span class="keyword">const</span> <a class="code hl_class" href="class_object.html">Object</a>* victim)<span class="keyword"> const</span></div>
<div class="line"><a id="l00499" name="l00499"></a><span class="lineno">  499</span><span class="keyword"></span>{</div>
<div class="line"><a id="l00500" name="l00500"></a><span class="lineno">  500</span>    <a class="code hl_typedef" href="_state_machine_8h.html#a4bd6775b86fc5314e85adf86ec549b8d">StateID</a> sid = m_turretStateMachine-&gt;getCurrentStateID();</div>
<div class="line"><a id="l00501" name="l00501"></a><span class="lineno">  501</span> </div>
<div class="line"><a id="l00502" name="l00502"></a><span class="lineno">  502</span>    <a class="code hl_class" href="class_object.html">Object</a>* obj;</div>
<div class="line"><a id="l00503" name="l00503"></a><span class="lineno">  503</span>    <a class="code hl_struct" href="struct_coord3_d.html">Coord3D</a> pos;</div>
<div class="line"><a id="l00504" name="l00504"></a><span class="lineno">  504</span>    <span class="keywordflow">return</span> (sid == <a class="code hl_enumvalue" href="_turret_a_i_8h.html#aefd7b2badcc8db3aed5cf9bf8bd06892af08d24d67e6fe3ac3fdf22b17bd7c3d3">TURRETAI_AIM</a> &amp;&amp; <a class="code hl_function" href="class_turret_a_i.html#ad4989f065015a595d8a973982e7db420">friend_getTurretTarget</a>(obj, pos) == <a class="code hl_enumvalue" href="_turret_a_i_8h.html#a4c101d812cb51a203b38e218a6c1a3b9a382119db3a33afd6da927d81ae7b399e">TARGET_OBJECT</a> &amp;&amp; obj == victim);</div>
<div class="line"><a id="l00505" name="l00505"></a><span class="lineno">  505</span>}</div>
</div>
<div class="line"><a id="l00506" name="l00506"></a><span class="lineno">  506</span> </div>
<div class="line"><a id="l00507" name="l00507"></a><span class="lineno">  507</span><span class="comment">//----------------------------------------------------------------------------------------------------------</span></div>
<div class="foldopen" id="foldopen00508" data-start="{" data-end="}">
<div class="line"><a id="l00508" name="l00508"></a><span class="lineno"><a class="line" href="class_turret_a_i.html#aac58bf7824a1b81ed912418dfeddeb02">  508</a></span><a class="code hl_typedef" href="_base_type_8h.html#a76a8b016e5ad61faf9062cc387df5016">Bool</a> <a class="code hl_function" href="class_turret_a_i.html#aac58bf7824a1b81ed912418dfeddeb02">TurretAI::isOwnersCurWeaponOnTurret</a>()<span class="keyword"> const</span></div>
<div class="line"><a id="l00509" name="l00509"></a><span class="lineno">  509</span><span class="keyword"></span>{</div>
<div class="line"><a id="l00510" name="l00510"></a><span class="lineno">  510</span>    <a class="code hl_enumeration" href="_game_type_8h.html#a2af9bbdf6271d34dfabc5309aa88d79d">WeaponSlotType</a> wslot;</div>
<div class="line"><a id="l00511" name="l00511"></a><span class="lineno">  511</span>    <a class="code hl_class" href="class_weapon.html">Weapon</a>* w = m_owner-&gt;getCurrentWeapon(&amp;wslot);</div>
<div class="line"><a id="l00512" name="l00512"></a><span class="lineno">  512</span>    <span class="keywordflow">return</span> w != <a class="code hl_define" href="_base_type_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> &amp;&amp; <a class="code hl_function" href="class_turret_a_i.html#a6b5b763ee5c957bf91881162a5f17735">isWeaponSlotOnTurret</a>(wslot);</div>
<div class="line"><a id="l00513" name="l00513"></a><span class="lineno">  513</span>}</div>
</div>
<div class="line"><a id="l00514" name="l00514"></a><span class="lineno">  514</span> </div>
<div class="line"><a id="l00515" name="l00515"></a><span class="lineno">  515</span><span class="comment">//----------------------------------------------------------------------------------------------------------</span></div>
<div class="foldopen" id="foldopen00516" data-start="{" data-end="}">
<div class="line"><a id="l00516" name="l00516"></a><span class="lineno"><a class="line" href="class_turret_a_i.html#a6b5b763ee5c957bf91881162a5f17735">  516</a></span><a class="code hl_typedef" href="_base_type_8h.html#a76a8b016e5ad61faf9062cc387df5016">Bool</a> <a class="code hl_function" href="class_turret_a_i.html#a6b5b763ee5c957bf91881162a5f17735">TurretAI::isWeaponSlotOnTurret</a>(<a class="code hl_enumeration" href="_game_type_8h.html#a2af9bbdf6271d34dfabc5309aa88d79d">WeaponSlotType</a> wslot)<span class="keyword"> const</span></div>
<div class="line"><a id="l00517" name="l00517"></a><span class="lineno">  517</span><span class="keyword"></span>{</div>
<div class="line"><a id="l00518" name="l00518"></a><span class="lineno">  518</span>    <span class="keywordflow">return</span> (m_data-&gt;m_turretWeaponSlots &amp; (1 &lt;&lt; wslot)) != 0;</div>
<div class="line"><a id="l00519" name="l00519"></a><span class="lineno">  519</span>}</div>
</div>
<div class="line"><a id="l00520" name="l00520"></a><span class="lineno">  520</span> </div>
<div class="line"><a id="l00521" name="l00521"></a><span class="lineno">  521</span><span class="comment">//----------------------------------------------------------------------------------------------------------</span></div>
<div class="foldopen" id="foldopen00522" data-start="{" data-end="}">
<div class="line"><a id="l00522" name="l00522"></a><span class="lineno"><a class="line" href="class_turret_a_i.html#ad4989f065015a595d8a973982e7db420">  522</a></span><a class="code hl_enumeration" href="_turret_a_i_8h.html#a4c101d812cb51a203b38e218a6c1a3b9">TurretTargetType</a> <a class="code hl_function" href="class_turret_a_i.html#ad4989f065015a595d8a973982e7db420">TurretAI::friend_getTurretTarget</a>( <a class="code hl_class" href="class_object.html">Object</a>*&amp; obj, <a class="code hl_struct" href="struct_coord3_d.html">Coord3D</a>&amp; pos, <a class="code hl_typedef" href="_base_type_8h.html#a76a8b016e5ad61faf9062cc387df5016">Bool</a> clearDeadTargets )<span class="keyword"> const</span></div>
<div class="line"><a id="l00523" name="l00523"></a><span class="lineno">  523</span><span class="keyword"></span>{</div>
<div class="line"><a id="l00524" name="l00524"></a><span class="lineno">  524</span>    obj = <a class="code hl_define" href="_base_type_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a id="l00525" name="l00525"></a><span class="lineno">  525</span>    pos.<a class="code hl_function" href="struct_coord3_d.html#ab908b7d10aa7cc8fb535d38963ae620e">zero</a>();</div>
<div class="line"><a id="l00526" name="l00526"></a><span class="lineno">  526</span> </div>
<div class="line"><a id="l00527" name="l00527"></a><span class="lineno">  527</span>    <span class="keywordflow">if</span> (m_target == <a class="code hl_enumvalue" href="_turret_a_i_8h.html#a4c101d812cb51a203b38e218a6c1a3b9a382119db3a33afd6da927d81ae7b399e">TARGET_OBJECT</a>)</div>
<div class="line"><a id="l00528" name="l00528"></a><span class="lineno">  528</span>    {</div>
<div class="line"><a id="l00529" name="l00529"></a><span class="lineno">  529</span>        obj = m_turretStateMachine-&gt;getGoalObject();</div>
<div class="line"><a id="l00530" name="l00530"></a><span class="lineno">  530</span>        <span class="comment">// clear it explicitly if null -- could be deceased but holding the</span></div>
<div class="line"><a id="l00531" name="l00531"></a><span class="lineno">  531</span>        <span class="comment">// old (bogus) objectid internally</span></div>
<div class="line"><a id="l00532" name="l00532"></a><span class="lineno">  532</span>        <span class="keywordflow">if</span>( clearDeadTargets )</div>
<div class="line"><a id="l00533" name="l00533"></a><span class="lineno">  533</span>        {</div>
<div class="line"><a id="l00534" name="l00534"></a><span class="lineno">  534</span>            <span class="keywordflow">if</span> (obj == <a class="code hl_define" href="_base_type_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> || obj-&gt;<a class="code hl_function" href="class_object.html#a7bb38331366877b2590b90384c818368">isEffectivelyDead</a>())</div>
<div class="line"><a id="l00535" name="l00535"></a><span class="lineno">  535</span>            {</div>
<div class="line"><a id="l00536" name="l00536"></a><span class="lineno">  536</span>                m_turretStateMachine-&gt;setGoalObject(<a class="code hl_define" href="_base_type_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a id="l00537" name="l00537"></a><span class="lineno">  537</span>                m_target = <a class="code hl_enumvalue" href="_turret_a_i_8h.html#a4c101d812cb51a203b38e218a6c1a3b9a16abf06e96a64fa495bb02437ce9e1e5">TARGET_NONE</a>;</div>
<div class="line"><a id="l00538" name="l00538"></a><span class="lineno">  538</span>                m_targetWasSetByIdleMood = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00539" name="l00539"></a><span class="lineno">  539</span>            }</div>
<div class="line"><a id="l00540" name="l00540"></a><span class="lineno">  540</span>        }</div>
<div class="line"><a id="l00541" name="l00541"></a><span class="lineno">  541</span>    }</div>
<div class="line"><a id="l00542" name="l00542"></a><span class="lineno">  542</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (m_target == <a class="code hl_enumvalue" href="_turret_a_i_8h.html#a4c101d812cb51a203b38e218a6c1a3b9ae2dbc5f080c2a13e20cb3f196e93f52f">TARGET_POSITION</a>)</div>
<div class="line"><a id="l00543" name="l00543"></a><span class="lineno">  543</span>    {</div>
<div class="line"><a id="l00544" name="l00544"></a><span class="lineno">  544</span>        obj = <a class="code hl_define" href="_base_type_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a id="l00545" name="l00545"></a><span class="lineno">  545</span>        pos = *m_turretStateMachine-&gt;getGoalPosition(); </div>
<div class="line"><a id="l00546" name="l00546"></a><span class="lineno">  546</span>    }</div>
<div class="line"><a id="l00547" name="l00547"></a><span class="lineno">  547</span> </div>
<div class="line"><a id="l00548" name="l00548"></a><span class="lineno">  548</span>    <span class="keywordflow">return</span> m_target;</div>
<div class="line"><a id="l00549" name="l00549"></a><span class="lineno">  549</span>}</div>
</div>
<div class="line"><a id="l00550" name="l00550"></a><span class="lineno">  550</span> </div>
<div class="line"><a id="l00551" name="l00551"></a><span class="lineno">  551</span><span class="comment">//----------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00552" name="l00552"></a><span class="lineno">  552</span><span class="keywordtype">void</span> TurretAI::removeSelfAsTargeter()</div>
<div class="line"><a id="l00553" name="l00553"></a><span class="lineno">  553</span>{</div>
<div class="line"><a id="l00554" name="l00554"></a><span class="lineno">  554</span>    <span class="comment">// be paranoid, in case we are called from dtors, etc.</span></div>
<div class="line"><a id="l00555" name="l00555"></a><span class="lineno">  555</span>    <span class="keywordflow">if</span> (m_target == <a class="code hl_enumvalue" href="_turret_a_i_8h.html#a4c101d812cb51a203b38e218a6c1a3b9a382119db3a33afd6da927d81ae7b399e">TARGET_OBJECT</a> &amp;&amp; m_turretStateMachine != <a class="code hl_define" href="_base_type_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><a id="l00556" name="l00556"></a><span class="lineno">  556</span>    {</div>
<div class="line"><a id="l00557" name="l00557"></a><span class="lineno">  557</span>        <a class="code hl_class" href="class_object.html">Object</a>* self = m_owner;</div>
<div class="line"><a id="l00558" name="l00558"></a><span class="lineno">  558</span>        <a class="code hl_class" href="class_object.html">Object</a>* target = m_turretStateMachine-&gt;<a class="code hl_function" href="class_state_machine.html#a7dd6892f57bea6708ba390f5136b05df">getGoalObject</a>();</div>
<div class="line"><a id="l00559" name="l00559"></a><span class="lineno">  559</span>        <span class="keywordflow">if</span> (self != <a class="code hl_define" href="_base_type_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> &amp;&amp; target != <a class="code hl_define" href="_base_type_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><a id="l00560" name="l00560"></a><span class="lineno">  560</span>        {</div>
<div class="line"><a id="l00561" name="l00561"></a><span class="lineno">  561</span>            <a class="code hl_class" href="class_a_i_update_interface.html">AIUpdateInterface</a>* targetAI = target-&gt;<a class="code hl_function" href="class_object.html#ac50efcf2ad2e22d1f83125ac238c6f45">getAI</a>();</div>
<div class="line"><a id="l00562" name="l00562"></a><span class="lineno">  562</span>            <span class="keywordflow">if</span> (targetAI)</div>
<div class="line"><a id="l00563" name="l00563"></a><span class="lineno">  563</span>            {</div>
<div class="line"><a id="l00564" name="l00564"></a><span class="lineno">  564</span>                targetAI-&gt;<a class="code hl_function" href="class_a_i_update_interface.html#a754b3cac8ce6dcedde3fef8ff763fe51">addTargeter</a>(self-&gt;<a class="code hl_function" href="class_object.html#a6c17829820a29ded73578abd29906943">getID</a>(), <span class="keyword">false</span>);</div>
<div class="line"><a id="l00565" name="l00565"></a><span class="lineno">  565</span>            }</div>
<div class="line"><a id="l00566" name="l00566"></a><span class="lineno">  566</span>        }</div>
<div class="line"><a id="l00567" name="l00567"></a><span class="lineno">  567</span>    }</div>
<div class="line"><a id="l00568" name="l00568"></a><span class="lineno">  568</span>}</div>
<div class="line"><a id="l00569" name="l00569"></a><span class="lineno">  569</span> </div>
<div class="line"><a id="l00570" name="l00570"></a><span class="lineno">  570</span><span class="comment">//----------------------------------------------------------------------------------------------------------</span></div>
<div class="foldopen" id="foldopen00571" data-start="{" data-end="}">
<div class="line"><a id="l00571" name="l00571"></a><span class="lineno"><a class="line" href="class_turret_a_i.html#a66dc48b94b2410f67a70756a02c86529">  571</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="class_turret_a_i.html#a66dc48b94b2410f67a70756a02c86529">TurretAI::setTurretTargetObject</a>( <a class="code hl_class" href="class_object.html">Object</a> *victim, <a class="code hl_typedef" href="_base_type_8h.html#a76a8b016e5ad61faf9062cc387df5016">Bool</a> forceAttacking )</div>
<div class="line"><a id="l00572" name="l00572"></a><span class="lineno">  572</span>{</div>
<div class="line"><a id="l00573" name="l00573"></a><span class="lineno">  573</span>    <span class="keywordflow">if</span>( !victim || victim-&gt;<a class="code hl_function" href="class_object.html#a7bb38331366877b2590b90384c818368">isEffectivelyDead</a>() ||  !<a class="code hl_function" href="class_turret_a_i.html#aac58bf7824a1b81ed912418dfeddeb02">isOwnersCurWeaponOnTurret</a>() )</div>
<div class="line"><a id="l00574" name="l00574"></a><span class="lineno">  574</span>    {</div>
<div class="line"><a id="l00575" name="l00575"></a><span class="lineno">  575</span>        <span class="keywordflow">if</span>( !<a class="code hl_function" href="class_turret_a_i.html#adccdfd3cc5aa2c271ec9605f93f7b010">getOwner</a>()-&gt;getAI()-&gt;areTurretsLinked() )</div>
<div class="line"><a id="l00576" name="l00576"></a><span class="lineno">  576</span>        {</div>
<div class="line"><a id="l00577" name="l00577"></a><span class="lineno">  577</span>            victim = <a class="code hl_define" href="_base_type_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a id="l00578" name="l00578"></a><span class="lineno">  578</span>        }</div>
<div class="line"><a id="l00579" name="l00579"></a><span class="lineno">  579</span>    }</div>
<div class="line"><a id="l00580" name="l00580"></a><span class="lineno">  580</span> </div>
<div class="line"><a id="l00581" name="l00581"></a><span class="lineno">  581</span>    <span class="keywordflow">if</span> (victim == <a class="code hl_define" href="_base_type_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><a id="l00582" name="l00582"></a><span class="lineno">  582</span>    {</div>
<div class="line"><a id="l00583" name="l00583"></a><span class="lineno">  583</span>        <span class="comment">// if nuking the victim, remove self as targeter before doing anything else.</span></div>
<div class="line"><a id="l00584" name="l00584"></a><span class="lineno">  584</span>        <span class="comment">// (note that we never ADD self as targeter here; that is done in the aim state)</span></div>
<div class="line"><a id="l00585" name="l00585"></a><span class="lineno">  585</span>        removeSelfAsTargeter();</div>
<div class="line"><a id="l00586" name="l00586"></a><span class="lineno">  586</span>    }</div>
<div class="line"><a id="l00587" name="l00587"></a><span class="lineno">  587</span> </div>
<div class="line"><a id="l00588" name="l00588"></a><span class="lineno">  588</span>    m_turretStateMachine-&gt;setGoalObject( victim );  <span class="comment">// could be null! this is OK!</span></div>
<div class="line"><a id="l00589" name="l00589"></a><span class="lineno">  589</span>    m_target = victim ? <a class="code hl_enumvalue" href="_turret_a_i_8h.html#a4c101d812cb51a203b38e218a6c1a3b9a382119db3a33afd6da927d81ae7b399e">TARGET_OBJECT</a> : <a class="code hl_enumvalue" href="_turret_a_i_8h.html#a4c101d812cb51a203b38e218a6c1a3b9a16abf06e96a64fa495bb02437ce9e1e5">TARGET_NONE</a>;</div>
<div class="line"><a id="l00590" name="l00590"></a><span class="lineno">  590</span>    m_targetWasSetByIdleMood = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00591" name="l00591"></a><span class="lineno">  591</span>    m_isForceAttacking = forceAttacking;</div>
<div class="line"><a id="l00592" name="l00592"></a><span class="lineno">  592</span> </div>
<div class="line"><a id="l00593" name="l00593"></a><span class="lineno">  593</span>    <a class="code hl_typedef" href="_state_machine_8h.html#a4bd6775b86fc5314e85adf86ec549b8d">StateID</a> sid = m_turretStateMachine-&gt;getCurrentStateID();</div>
<div class="line"><a id="l00594" name="l00594"></a><span class="lineno">  594</span>    <span class="keywordflow">if</span> (victim != <a class="code hl_define" href="_base_type_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><a id="l00595" name="l00595"></a><span class="lineno">  595</span>    {</div>
<div class="line"><a id="l00596" name="l00596"></a><span class="lineno">  596</span>        <span class="comment">// if we&#39;re already in the aim state, don&#39;t call setState, since</span></div>
<div class="line"><a id="l00597" name="l00597"></a><span class="lineno">  597</span>        <span class="comment">// it would go thru the exit/enter stuff, which we don&#39;t really want</span></div>
<div class="line"><a id="l00598" name="l00598"></a><span class="lineno">  598</span>        <span class="comment">// to do... </span></div>
<div class="line"><a id="l00599" name="l00599"></a><span class="lineno">  599</span>        <span class="keywordflow">if</span> (sid != <a class="code hl_enumvalue" href="_turret_a_i_8h.html#aefd7b2badcc8db3aed5cf9bf8bd06892af08d24d67e6fe3ac3fdf22b17bd7c3d3">TURRETAI_AIM</a> &amp;&amp; sid != <a class="code hl_enumvalue" href="_turret_a_i_8h.html#aefd7b2badcc8db3aed5cf9bf8bd06892a1fb98da8cc7a5d52056f3e76d1866da3">TURRETAI_FIRE</a>)</div>
<div class="line"><a id="l00600" name="l00600"></a><span class="lineno">  600</span>            m_turretStateMachine-&gt;setState( <a class="code hl_enumvalue" href="_turret_a_i_8h.html#aefd7b2badcc8db3aed5cf9bf8bd06892af08d24d67e6fe3ac3fdf22b17bd7c3d3">TURRETAI_AIM</a> );</div>
<div class="line"><a id="l00601" name="l00601"></a><span class="lineno">  601</span>        m_victimInitialTeam = victim-&gt;<a class="code hl_function" href="class_object.html#af4a784b792c59f2365032397c328cd85">getTeam</a>();</div>
<div class="line"><a id="l00602" name="l00602"></a><span class="lineno">  602</span>    }</div>
<div class="line"><a id="l00603" name="l00603"></a><span class="lineno">  603</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l00604" name="l00604"></a><span class="lineno">  604</span>    {</div>
<div class="line"><a id="l00605" name="l00605"></a><span class="lineno">  605</span>        <span class="comment">// only change states if we are aiming.</span></div>
<div class="line"><a id="l00606" name="l00606"></a><span class="lineno">  606</span>        <span class="keywordflow">if</span> (sid == <a class="code hl_enumvalue" href="_turret_a_i_8h.html#aefd7b2badcc8db3aed5cf9bf8bd06892af08d24d67e6fe3ac3fdf22b17bd7c3d3">TURRETAI_AIM</a> || sid == <a class="code hl_enumvalue" href="_turret_a_i_8h.html#aefd7b2badcc8db3aed5cf9bf8bd06892a1fb98da8cc7a5d52056f3e76d1866da3">TURRETAI_FIRE</a>)</div>
<div class="line"><a id="l00607" name="l00607"></a><span class="lineno">  607</span>            m_turretStateMachine-&gt;setState(<a class="code hl_enumvalue" href="_turret_a_i_8h.html#aefd7b2badcc8db3aed5cf9bf8bd06892abcc82fbc0ceef28fdea20a316e63f30a">TURRETAI_HOLD</a>);</div>
<div class="line"><a id="l00608" name="l00608"></a><span class="lineno">  608</span>        m_victimInitialTeam = <a class="code hl_define" href="_base_type_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a id="l00609" name="l00609"></a><span class="lineno">  609</span>    }</div>
<div class="line"><a id="l00610" name="l00610"></a><span class="lineno">  610</span>}</div>
</div>
<div class="line"><a id="l00611" name="l00611"></a><span class="lineno">  611</span> </div>
<div class="line"><a id="l00612" name="l00612"></a><span class="lineno">  612</span><span class="comment">//----------------------------------------------------------------------------------------------------------</span></div>
<div class="foldopen" id="foldopen00613" data-start="{" data-end="}">
<div class="line"><a id="l00613" name="l00613"></a><span class="lineno"><a class="line" href="class_turret_a_i.html#a7321dfbcbdf1c29116b7d0e0c8c645ce">  613</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="class_turret_a_i.html#a7321dfbcbdf1c29116b7d0e0c8c645ce">TurretAI::setTurretTargetPosition</a>( <span class="keyword">const</span> <a class="code hl_struct" href="struct_coord3_d.html">Coord3D</a>* pos )</div>
<div class="line"><a id="l00614" name="l00614"></a><span class="lineno">  614</span>{</div>
<div class="line"><a id="l00615" name="l00615"></a><span class="lineno">  615</span>    <span class="keywordflow">if</span> (!pos || !<a class="code hl_function" href="class_turret_a_i.html#aac58bf7824a1b81ed912418dfeddeb02">isOwnersCurWeaponOnTurret</a>())</div>
<div class="line"><a id="l00616" name="l00616"></a><span class="lineno">  616</span>    {</div>
<div class="line"><a id="l00617" name="l00617"></a><span class="lineno">  617</span>        <span class="keywordflow">if</span>( !<a class="code hl_function" href="class_turret_a_i.html#adccdfd3cc5aa2c271ec9605f93f7b010">getOwner</a>()-&gt;getAI()-&gt;areTurretsLinked() )</div>
<div class="line"><a id="l00618" name="l00618"></a><span class="lineno">  618</span>        {</div>
<div class="line"><a id="l00619" name="l00619"></a><span class="lineno">  619</span>            pos = <a class="code hl_define" href="_base_type_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a id="l00620" name="l00620"></a><span class="lineno">  620</span>        }</div>
<div class="line"><a id="l00621" name="l00621"></a><span class="lineno">  621</span>    }</div>
<div class="line"><a id="l00622" name="l00622"></a><span class="lineno">  622</span> </div>
<div class="line"><a id="l00623" name="l00623"></a><span class="lineno">  623</span>    <span class="comment">// remove self as targeter before doing anything else.</span></div>
<div class="line"><a id="l00624" name="l00624"></a><span class="lineno">  624</span>    <span class="comment">// (note that we never ADD self as targeter here; that is done in the aim state)</span></div>
<div class="line"><a id="l00625" name="l00625"></a><span class="lineno">  625</span>    removeSelfAsTargeter();</div>
<div class="line"><a id="l00626" name="l00626"></a><span class="lineno">  626</span> </div>
<div class="line"><a id="l00627" name="l00627"></a><span class="lineno">  627</span>    m_turretStateMachine-&gt;setGoalObject( <a class="code hl_define" href="_base_type_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> );</div>
<div class="line"><a id="l00628" name="l00628"></a><span class="lineno">  628</span>    <span class="keywordflow">if</span> (pos)</div>
<div class="line"><a id="l00629" name="l00629"></a><span class="lineno">  629</span>        m_turretStateMachine-&gt;setGoalPosition( pos );</div>
<div class="line"><a id="l00630" name="l00630"></a><span class="lineno">  630</span>    m_target = pos ? <a class="code hl_enumvalue" href="_turret_a_i_8h.html#a4c101d812cb51a203b38e218a6c1a3b9ae2dbc5f080c2a13e20cb3f196e93f52f">TARGET_POSITION</a> : <a class="code hl_enumvalue" href="_turret_a_i_8h.html#a4c101d812cb51a203b38e218a6c1a3b9a16abf06e96a64fa495bb02437ce9e1e5">TARGET_NONE</a>;</div>
<div class="line"><a id="l00631" name="l00631"></a><span class="lineno">  631</span>    m_targetWasSetByIdleMood = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00632" name="l00632"></a><span class="lineno">  632</span> </div>
<div class="line"><a id="l00633" name="l00633"></a><span class="lineno">  633</span>    <a class="code hl_typedef" href="_state_machine_8h.html#a4bd6775b86fc5314e85adf86ec549b8d">StateID</a> sid = m_turretStateMachine-&gt;getCurrentStateID();</div>
<div class="line"><a id="l00634" name="l00634"></a><span class="lineno">  634</span>    <span class="keywordflow">if</span> (pos != <a class="code hl_define" href="_base_type_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><a id="l00635" name="l00635"></a><span class="lineno">  635</span>    {</div>
<div class="line"><a id="l00636" name="l00636"></a><span class="lineno">  636</span>        <span class="comment">// if we&#39;re already in the aim state, don&#39;t call setState, since</span></div>
<div class="line"><a id="l00637" name="l00637"></a><span class="lineno">  637</span>        <span class="comment">// it would go thru the exit/enter stuff, which we don&#39;t really want</span></div>
<div class="line"><a id="l00638" name="l00638"></a><span class="lineno">  638</span>        <span class="comment">// to do... </span></div>
<div class="line"><a id="l00639" name="l00639"></a><span class="lineno">  639</span>        <span class="keywordflow">if</span> (sid != <a class="code hl_enumvalue" href="_turret_a_i_8h.html#aefd7b2badcc8db3aed5cf9bf8bd06892af08d24d67e6fe3ac3fdf22b17bd7c3d3">TURRETAI_AIM</a> &amp;&amp; sid != <a class="code hl_enumvalue" href="_turret_a_i_8h.html#aefd7b2badcc8db3aed5cf9bf8bd06892a1fb98da8cc7a5d52056f3e76d1866da3">TURRETAI_FIRE</a>)</div>
<div class="line"><a id="l00640" name="l00640"></a><span class="lineno">  640</span>            m_turretStateMachine-&gt;setState( <a class="code hl_enumvalue" href="_turret_a_i_8h.html#aefd7b2badcc8db3aed5cf9bf8bd06892af08d24d67e6fe3ac3fdf22b17bd7c3d3">TURRETAI_AIM</a> );</div>
<div class="line"><a id="l00641" name="l00641"></a><span class="lineno">  641</span>        m_victimInitialTeam = <a class="code hl_define" href="_base_type_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a id="l00642" name="l00642"></a><span class="lineno">  642</span>    }</div>
<div class="line"><a id="l00643" name="l00643"></a><span class="lineno">  643</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l00644" name="l00644"></a><span class="lineno">  644</span>    {</div>
<div class="line"><a id="l00645" name="l00645"></a><span class="lineno">  645</span>        <span class="comment">// only change states if we are aiming.</span></div>
<div class="line"><a id="l00646" name="l00646"></a><span class="lineno">  646</span>        <span class="keywordflow">if</span> (sid == <a class="code hl_enumvalue" href="_turret_a_i_8h.html#aefd7b2badcc8db3aed5cf9bf8bd06892af08d24d67e6fe3ac3fdf22b17bd7c3d3">TURRETAI_AIM</a> || sid == <a class="code hl_enumvalue" href="_turret_a_i_8h.html#aefd7b2badcc8db3aed5cf9bf8bd06892a1fb98da8cc7a5d52056f3e76d1866da3">TURRETAI_FIRE</a>)</div>
<div class="line"><a id="l00647" name="l00647"></a><span class="lineno">  647</span>            m_turretStateMachine-&gt;setState(<a class="code hl_enumvalue" href="_turret_a_i_8h.html#aefd7b2badcc8db3aed5cf9bf8bd06892abcc82fbc0ceef28fdea20a316e63f30a">TURRETAI_HOLD</a>);</div>
<div class="line"><a id="l00648" name="l00648"></a><span class="lineno">  648</span>        m_victimInitialTeam = <a class="code hl_define" href="_base_type_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a id="l00649" name="l00649"></a><span class="lineno">  649</span>    }</div>
<div class="line"><a id="l00650" name="l00650"></a><span class="lineno">  650</span>}</div>
</div>
<div class="line"><a id="l00651" name="l00651"></a><span class="lineno">  651</span> </div>
<div class="line"><a id="l00652" name="l00652"></a><span class="lineno">  652</span><span class="comment">//----------------------------------------------------------------------------------------------------------</span></div>
<div class="foldopen" id="foldopen00653" data-start="{" data-end="}">
<div class="line"><a id="l00653" name="l00653"></a><span class="lineno"><a class="line" href="class_turret_a_i.html#a6429bbfd9ddf750f27c469c0f5dfb18c">  653</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="class_turret_a_i.html#a6429bbfd9ddf750f27c469c0f5dfb18c">TurretAI::recenterTurret</a>()</div>
<div class="line"><a id="l00654" name="l00654"></a><span class="lineno">  654</span>{</div>
<div class="line"><a id="l00655" name="l00655"></a><span class="lineno">  655</span>    m_turretStateMachine-&gt;setState( <a class="code hl_enumvalue" href="_turret_a_i_8h.html#aefd7b2badcc8db3aed5cf9bf8bd06892a0e84301b7a327d2bad17dac27ea12e16">TURRETAI_RECENTER</a> );</div>
<div class="line"><a id="l00656" name="l00656"></a><span class="lineno">  656</span>}</div>
</div>
<div class="line"><a id="l00657" name="l00657"></a><span class="lineno">  657</span> </div>
<div class="line"><a id="l00658" name="l00658"></a><span class="lineno">  658</span><span class="comment">//----------------------------------------------------------------------------------------------------------</span></div>
<div class="foldopen" id="foldopen00659" data-start="{" data-end="}">
<div class="line"><a id="l00659" name="l00659"></a><span class="lineno"><a class="line" href="class_turret_a_i.html#ad0f2ba7bf5772e33736df5061671fac6">  659</a></span><a class="code hl_typedef" href="_base_type_8h.html#a76a8b016e5ad61faf9062cc387df5016">Bool</a> <a class="code hl_function" href="class_turret_a_i.html#ad0f2ba7bf5772e33736df5061671fac6">TurretAI::isTurretInNaturalPosition</a>()<span class="keyword"> const</span></div>
<div class="line"><a id="l00660" name="l00660"></a><span class="lineno">  660</span><span class="keyword"></span>{</div>
<div class="line"><a id="l00661" name="l00661"></a><span class="lineno">  661</span> </div>
<div class="line"><a id="l00662" name="l00662"></a><span class="lineno">  662</span>  <span class="keywordflow">if</span>( this-&gt;<a class="code hl_function" href="class_turret_a_i.html#adccdfd3cc5aa2c271ec9605f93f7b010">getOwner</a>()-&gt;testStatus( <a class="code hl_enumvalue" href="_object_status_types_8h.html#a582a0a1fdc9ebd748af0895c66e3e137ae5ead45142ec58439897171f94a8b54b">OBJECT_STATUS_UNDER_CONSTRUCTION</a>))</div>
<div class="line"><a id="l00663" name="l00663"></a><span class="lineno">  663</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;<span class="comment">//ML so that under-construction base-defenses do not re-center while under construction</span></div>
<div class="line"><a id="l00664" name="l00664"></a><span class="lineno">  664</span> </div>
<div class="line"><a id="l00665" name="l00665"></a><span class="lineno">  665</span> </div>
<div class="line"><a id="l00666" name="l00666"></a><span class="lineno">  666</span> </div>
<div class="line"><a id="l00667" name="l00667"></a><span class="lineno">  667</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="class_turret_a_i.html#abf799c851a82533efc156fea27f43c04">getNaturalTurretAngle</a>() == <a class="code hl_function" href="class_turret_a_i.html#a2ed4dedce5f8f03dece4f8a06db3a37f">getTurretAngle</a>() &amp;&amp; </div>
<div class="line"><a id="l00668" name="l00668"></a><span class="lineno">  668</span>            <a class="code hl_function" href="class_turret_a_i.html#a6e0b4fdb66cb26910e8403fa86a128f5">getNaturalTurretPitch</a>() == <a class="code hl_function" href="class_turret_a_i.html#aecf3658d4b525881cecae0335e1a34c8">getTurretPitch</a>() )</div>
<div class="line"><a id="l00669" name="l00669"></a><span class="lineno">  669</span>    {</div>
<div class="line"><a id="l00670" name="l00670"></a><span class="lineno">  670</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00671" name="l00671"></a><span class="lineno">  671</span>    }</div>
<div class="line"><a id="l00672" name="l00672"></a><span class="lineno">  672</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00673" name="l00673"></a><span class="lineno">  673</span>}</div>
</div>
<div class="line"><a id="l00674" name="l00674"></a><span class="lineno">  674</span> </div>
<div class="line"><a id="l00675" name="l00675"></a><span class="lineno">  675</span><span class="comment">//----------------------------------------------------------------------------------------------------------</span></div>
<div class="foldopen" id="foldopen00676" data-start="{" data-end="}">
<div class="line"><a id="l00676" name="l00676"></a><span class="lineno"><a class="line" href="class_turret_a_i.html#a004548fae149ae50db3cb5b4ff4f47cc">  676</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="class_turret_a_i.html#a004548fae149ae50db3cb5b4ff4f47cc">TurretAI::friend_notifyStateMachineChanged</a>()</div>
<div class="line"><a id="l00677" name="l00677"></a><span class="lineno">  677</span>{</div>
<div class="line"><a id="l00678" name="l00678"></a><span class="lineno">  678</span>    m_sleepUntil = <a class="code hl_variable" href="_game_logic_8h.html#a9848d8d95263edf086306e6eb3d3c9bc">TheGameLogic</a>-&gt;getFrame();</div>
<div class="line"><a id="l00679" name="l00679"></a><span class="lineno">  679</span>}</div>
</div>
<div class="line"><a id="l00680" name="l00680"></a><span class="lineno">  680</span> </div>
<div class="line"><a id="l00681" name="l00681"></a><span class="lineno">  681</span><span class="comment">//----------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00682" name="l00682"></a><span class="lineno">  682</span><span class="comment">/*</span></div>
<div class="line"><a id="l00683" name="l00683"></a><span class="lineno">  683</span><span class="comment">    Note that TurretAI isn&#39;t a behavior at all, so doesn&#39;t really &quot;sleep&quot;; however, it does return</span></div>
<div class="line"><a id="l00684" name="l00684"></a><span class="lineno">  684</span><span class="comment">    this information so that its AIUpdate owner can decide how long it (the AIUpdate) should sleep.</span></div>
<div class="line"><a id="l00685" name="l00685"></a><span class="lineno">  685</span><span class="comment">    So it behooves you to maximize &quot;sleep&quot; potential here! (srj)</span></div>
<div class="line"><a id="l00686" name="l00686"></a><span class="lineno">  686</span><span class="comment">*/</span></div>
<div class="line"><a id="l00687" name="l00687"></a><span class="lineno">  687</span><a class="code hl_define" href="_perf_timer_8h.html#a7d02d33334b68a982bf218d69c748d08">DECLARE_PERF_TIMER</a>(<a class="code hl_class" href="class_turret_a_i.html">TurretAI</a>)</div>
<div class="foldopen" id="foldopen00688" data-start="{" data-end="}">
<div class="line"><a id="l00688" name="l00688"></a><span class="lineno"><a class="line" href="class_turret_a_i.html#a161b8452f3f987194abb2c8b1c95e1a7">  688</a></span><a class="code hl_enumeration" href="_update_module_8h.html#ad3ba22c5173a5e8b7b5f01cff5346b50">UpdateSleepTime</a> <a class="code hl_function" href="class_turret_a_i.html#a7153a4eb1c78aeb6001c00e647984179">TurretAI</a>::<a class="code hl_function" href="class_turret_a_i.html#a161b8452f3f987194abb2c8b1c95e1a7">updateTurretAI</a>()</div>
<div class="line"><a id="l00689" name="l00689"></a><span class="lineno">  689</span>{</div>
<div class="line"><a id="l00690" name="l00690"></a><span class="lineno">  690</span>    <a class="code hl_define" href="_perf_timer_8h.html#ad68ab3b473763dd774c368adee36e9a7">USE_PERF_TIMER</a>(<a class="code hl_function" href="class_turret_a_i.html#a7153a4eb1c78aeb6001c00e647984179">TurretAI</a>)</div>
<div class="line"><a id="l00691" name="l00691"></a><span class="lineno">  691</span> </div>
<div class="line"><a id="l00692" name="l00692"></a><span class="lineno">  692</span><span class="preprocessor">#if defined(_DEBUG) || defined(_INTERNAL)</span></div>
<div class="line"><a id="l00693" name="l00693"></a><span class="lineno">  693</span>    <a class="code hl_define" href="_game_engine_2_include_2_common_2_debug_8h.html#a13364d3761c832c4d537af00a7fdc933">DEBUG_ASSERTCRASH</a>(!m_enabled ||</div>
<div class="line"><a id="l00694" name="l00694"></a><span class="lineno">  694</span>                            m_turretStateMachine-&gt;peekSleepTill() == 0 || </div>
<div class="line"><a id="l00695" name="l00695"></a><span class="lineno">  695</span>                            m_turretStateMachine-&gt;peekSleepTill() &gt;= m_sleepUntil, (<span class="stringliteral">&quot;Turret Machine is less sleepy than turret&quot;</span>));</div>
<div class="line"><a id="l00696" name="l00696"></a><span class="lineno">  696</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00697" name="l00697"></a><span class="lineno">  697</span> </div>
<div class="line"><a id="l00698" name="l00698"></a><span class="lineno">  698</span>    <a class="code hl_typedef" href="_base_type_8h.html#accf2bdf590f4e906ebad9216ebb7c698">UnsignedInt</a> now = <a class="code hl_variable" href="_game_logic_8h.html#a9848d8d95263edf086306e6eb3d3c9bc">TheGameLogic</a>-&gt;getFrame();</div>
<div class="line"><a id="l00699" name="l00699"></a><span class="lineno">  699</span>    <span class="keywordflow">if</span> (m_sleepUntil != 0 &amp;&amp; now &lt; m_sleepUntil)</div>
<div class="line"><a id="l00700" name="l00700"></a><span class="lineno">  700</span>    {</div>
<div class="line"><a id="l00701" name="l00701"></a><span class="lineno">  701</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="_update_module_8h.html#af022a19422843f565b9c22524140b746">UPDATE_SLEEP</a>(m_sleepUntil - now);</div>
<div class="line"><a id="l00702" name="l00702"></a><span class="lineno">  702</span>    }</div>
<div class="line"><a id="l00703" name="l00703"></a><span class="lineno">  703</span> </div>
<div class="line"><a id="l00704" name="l00704"></a><span class="lineno">  704</span>    <span class="comment">//DEBUG_LOG((&quot;updateTurretAI frame %d: %08lx\n&quot;,TheGameLogic-&gt;getFrame(),getOwner()));</span></div>
<div class="line"><a id="l00705" name="l00705"></a><span class="lineno">  705</span>    <a class="code hl_enumeration" href="_update_module_8h.html#ad3ba22c5173a5e8b7b5f01cff5346b50">UpdateSleepTime</a> subMachineSleep = <a class="code hl_enumvalue" href="_update_module_8h.html#ad3ba22c5173a5e8b7b5f01cff5346b50a176f010d0fb8ce19cade76c4b1805363">UPDATE_SLEEP_FOREVER</a>;  <span class="comment">// assume the best!</span></div>
<div class="line"><a id="l00706" name="l00706"></a><span class="lineno">  706</span> </div>
<div class="line"><a id="l00707" name="l00707"></a><span class="lineno">  707</span>    <span class="comment">// either we don&#39;t care about continuous fire stuff, or we care, but time has elapsed</span></div>
<div class="line"><a id="l00708" name="l00708"></a><span class="lineno">  708</span>    <span class="keywordflow">if</span> ((!m_firesWhileTurning) || (m_continuousFireExpirationFrame &lt;= now))</div>
<div class="line"><a id="l00709" name="l00709"></a><span class="lineno">  709</span>    {</div>
<div class="line"><a id="l00710" name="l00710"></a><span class="lineno">  710</span>        m_playRotSound = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00711" name="l00711"></a><span class="lineno">  711</span>        m_playPitchSound = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00712" name="l00712"></a><span class="lineno">  712</span>    }</div>
<div class="line"><a id="l00713" name="l00713"></a><span class="lineno">  713</span> </div>
<div class="line"><a id="l00714" name="l00714"></a><span class="lineno">  714</span>    <span class="keywordflow">if</span> (m_enabled || m_turretStateMachine-&gt;getCurrentStateID() == <a class="code hl_enumvalue" href="_turret_a_i_8h.html#aefd7b2badcc8db3aed5cf9bf8bd06892a0e84301b7a327d2bad17dac27ea12e16">TURRETAI_RECENTER</a>)</div>
<div class="line"><a id="l00715" name="l00715"></a><span class="lineno">  715</span>    {</div>
<div class="line"><a id="l00716" name="l00716"></a><span class="lineno">  716</span>        m_didFire = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00717" name="l00717"></a><span class="lineno">  717</span> </div>
<div class="line"><a id="l00718" name="l00718"></a><span class="lineno">  718</span>        <span class="comment">// run the behavior state machine BEFORE doing sound check</span></div>
<div class="line"><a id="l00719" name="l00719"></a><span class="lineno">  719</span>        <a class="code hl_enumeration" href="_state_machine_8h.html#a85691a8a74800ef33464a702eb251d88">StateReturnType</a> stRet = m_turretStateMachine-&gt;updateStateMachine();</div>
<div class="line"><a id="l00720" name="l00720"></a><span class="lineno">  720</span> </div>
<div class="line"><a id="l00721" name="l00721"></a><span class="lineno">  721</span>        <span class="keywordflow">if</span> (m_didFire)</div>
<div class="line"><a id="l00722" name="l00722"></a><span class="lineno">  722</span>        {</div>
<div class="line"><a id="l00723" name="l00723"></a><span class="lineno">  723</span>            <span class="comment">// if we fired, enable sweeping for a few frames.</span></div>
<div class="line"><a id="l00724" name="l00724"></a><span class="lineno">  724</span>            <span class="keyword">const</span> ENABLE_SWEEP_FRAME_COUNT = 3;</div>
<div class="line"><a id="l00725" name="l00725"></a><span class="lineno">  725</span>            m_enableSweepUntil = now + ENABLE_SWEEP_FRAME_COUNT;</div>
<div class="line"><a id="l00726" name="l00726"></a><span class="lineno">  726</span>            m_continuousFireExpirationFrame = now + ENABLE_SWEEP_FRAME_COUNT;<span class="comment">// so the recent firing will not interrupt the moving sound</span></div>
<div class="line"><a id="l00727" name="l00727"></a><span class="lineno">  727</span>        }</div>
<div class="line"><a id="l00728" name="l00728"></a><span class="lineno">  728</span> </div>
<div class="line"><a id="l00729" name="l00729"></a><span class="lineno">  729</span>        <span class="keywordflow">if</span> (m_playRotSound || m_playPitchSound)</div>
<div class="line"><a id="l00730" name="l00730"></a><span class="lineno">  730</span>            startRotOrPitchSound();</div>
<div class="line"><a id="l00731" name="l00731"></a><span class="lineno">  731</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l00732" name="l00732"></a><span class="lineno">  732</span>            stopRotOrPitchSound();</div>
<div class="line"><a id="l00733" name="l00733"></a><span class="lineno">  733</span> </div>
<div class="line"><a id="l00734" name="l00734"></a><span class="lineno">  734</span>        <span class="keywordflow">if</span> (<a class="code hl_define" href="_state_machine_8h.html#a1dbbb7d81a8f9ec3f1c9bb1cd3a87ca8">IS_STATE_SLEEP</a>(stRet))</div>
<div class="line"><a id="l00735" name="l00735"></a><span class="lineno">  735</span>        {</div>
<div class="line"><a id="l00736" name="l00736"></a><span class="lineno">  736</span>            <a class="code hl_union" href="union_int.html">Int</a> frames = <a class="code hl_define" href="_state_machine_8h.html#a20015a8b61ce0c2130e9a350ed51455c">GET_STATE_SLEEP_FRAMES</a>(stRet);</div>
<div class="line"><a id="l00737" name="l00737"></a><span class="lineno">  737</span>            <span class="keywordflow">if</span> (frames &lt; subMachineSleep)</div>
<div class="line"><a id="l00738" name="l00738"></a><span class="lineno">  738</span>                subMachineSleep = <a class="code hl_define" href="_update_module_8h.html#af022a19422843f565b9c22524140b746">UPDATE_SLEEP</a>(frames);</div>
<div class="line"><a id="l00739" name="l00739"></a><span class="lineno">  739</span>        }</div>
<div class="line"><a id="l00740" name="l00740"></a><span class="lineno">  740</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l00741" name="l00741"></a><span class="lineno">  741</span>        {</div>
<div class="line"><a id="l00742" name="l00742"></a><span class="lineno">  742</span>            <span class="comment">// it&#39;s STATE_CONTINUE, STATE_SUCCESS, or STATE_FAILURE, </span></div>
<div class="line"><a id="l00743" name="l00743"></a><span class="lineno">  743</span>            <span class="comment">// any of which will probably require next frame</span></div>
<div class="line"><a id="l00744" name="l00744"></a><span class="lineno">  744</span>            subMachineSleep = <a class="code hl_enumvalue" href="_update_module_8h.html#ad3ba22c5173a5e8b7b5f01cff5346b50a935864379b04030d6fee8c1b0d6a0ee3">UPDATE_SLEEP_NONE</a>;</div>
<div class="line"><a id="l00745" name="l00745"></a><span class="lineno">  745</span>        }</div>
<div class="line"><a id="l00746" name="l00746"></a><span class="lineno">  746</span> </div>
<div class="line"><a id="l00747" name="l00747"></a><span class="lineno">  747</span>    }   <span class="comment">// if enabled or recentering</span></div>
<div class="line"><a id="l00748" name="l00748"></a><span class="lineno">  748</span> </div>
<div class="line"><a id="l00749" name="l00749"></a><span class="lineno">  749</span>    m_sleepUntil = now + subMachineSleep;</div>
<div class="line"><a id="l00750" name="l00750"></a><span class="lineno">  750</span> </div>
<div class="line"><a id="l00751" name="l00751"></a><span class="lineno">  751</span><span class="preprocessor">#if defined(_DEBUG) || defined(_INTERNAL)</span></div>
<div class="line"><a id="l00752" name="l00752"></a><span class="lineno">  752</span>    <a class="code hl_define" href="_game_engine_2_include_2_common_2_debug_8h.html#a13364d3761c832c4d537af00a7fdc933">DEBUG_ASSERTCRASH</a>(!m_enabled ||</div>
<div class="line"><a id="l00753" name="l00753"></a><span class="lineno">  753</span>                            m_turretStateMachine-&gt;peekSleepTill() == 0 || </div>
<div class="line"><a id="l00754" name="l00754"></a><span class="lineno">  754</span>                            m_turretStateMachine-&gt;peekSleepTill() &gt;= m_sleepUntil, (<span class="stringliteral">&quot;Turret Machine is less sleepy than turret&quot;</span>));</div>
<div class="line"><a id="l00755" name="l00755"></a><span class="lineno">  755</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00756" name="l00756"></a><span class="lineno">  756</span> </div>
<div class="line"><a id="l00757" name="l00757"></a><span class="lineno">  757</span>    <span class="keywordflow">return</span> subMachineSleep;</div>
<div class="line"><a id="l00758" name="l00758"></a><span class="lineno">  758</span>}</div>
</div>
<div class="line"><a id="l00759" name="l00759"></a><span class="lineno">  759</span> </div>
<div class="line"><a id="l00760" name="l00760"></a><span class="lineno">  760</span><span class="comment">//-------------------------------------------------------------------------------------------------</span></div>
<div class="foldopen" id="foldopen00761" data-start="{" data-end="}">
<div class="line"><a id="l00761" name="l00761"></a><span class="lineno"><a class="line" href="class_turret_a_i.html#aec789919058e5d75ea4867c5c52d8f6f">  761</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="class_turret_a_i.html#aec789919058e5d75ea4867c5c52d8f6f">TurretAI::setTurretEnabled</a>( <a class="code hl_typedef" href="_base_type_8h.html#a76a8b016e5ad61faf9062cc387df5016">Bool</a> enabled )</div>
<div class="line"><a id="l00762" name="l00762"></a><span class="lineno">  762</span>{</div>
<div class="line"><a id="l00763" name="l00763"></a><span class="lineno">  763</span>    <span class="keywordflow">if</span> (enabled &amp;&amp; !m_enabled)</div>
<div class="line"><a id="l00764" name="l00764"></a><span class="lineno">  764</span>    {</div>
<div class="line"><a id="l00765" name="l00765"></a><span class="lineno">  765</span>        <span class="comment">// be sure we wake up!</span></div>
<div class="line"><a id="l00766" name="l00766"></a><span class="lineno">  766</span>        m_sleepUntil = <a class="code hl_variable" href="_game_logic_8h.html#a9848d8d95263edf086306e6eb3d3c9bc">TheGameLogic</a>-&gt;getFrame();</div>
<div class="line"><a id="l00767" name="l00767"></a><span class="lineno">  767</span>    }</div>
<div class="line"><a id="l00768" name="l00768"></a><span class="lineno">  768</span>    m_enabled = enabled;</div>
<div class="line"><a id="l00769" name="l00769"></a><span class="lineno">  769</span>}</div>
</div>
<div class="line"><a id="l00770" name="l00770"></a><span class="lineno">  770</span> </div>
<div class="line"><a id="l00771" name="l00771"></a><span class="lineno">  771</span><span class="comment">//-------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00775" name="l00775"></a><span class="lineno">  775</span><span class="keywordtype">void</span> TurretAI::startRotOrPitchSound()</div>
<div class="line"><a id="l00776" name="l00776"></a><span class="lineno">  776</span>{</div>
<div class="line"><a id="l00777" name="l00777"></a><span class="lineno">  777</span>    <span class="keywordflow">if</span> (!m_turretRotOrPitchSound.<a class="code hl_function" href="class_audio_event_r_t_s.html#a684bec9c568ef6cc7dedf57791226cc2">isCurrentlyPlaying</a>()) </div>
<div class="line"><a id="l00778" name="l00778"></a><span class="lineno">  778</span>    {</div>
<div class="line"><a id="l00779" name="l00779"></a><span class="lineno">  779</span>        m_turretRotOrPitchSound.<a class="code hl_function" href="class_audio_event_r_t_s.html#af8320eeb9c6924eb7abf531258b938c3">setObjectID</a>(m_owner-&gt;<a class="code hl_function" href="class_object.html#a6c17829820a29ded73578abd29906943">getID</a>());</div>
<div class="line"><a id="l00780" name="l00780"></a><span class="lineno">  780</span>        m_turretRotOrPitchSound.<a class="code hl_function" href="class_audio_event_r_t_s.html#a8c3a543ec242b1421bd1802acdf52252">setPlayingHandle</a>(<a class="code hl_variable" href="_game_audio_8h.html#ac281ccd51f88bbbdc3fef71d1216227a">TheAudio</a>-&gt;addAudioEvent(&amp;m_turretRotOrPitchSound));</div>
<div class="line"><a id="l00781" name="l00781"></a><span class="lineno">  781</span>    }</div>
<div class="line"><a id="l00782" name="l00782"></a><span class="lineno">  782</span>}</div>
<div class="line"><a id="l00783" name="l00783"></a><span class="lineno">  783</span> </div>
<div class="line"><a id="l00784" name="l00784"></a><span class="lineno">  784</span><span class="comment">//-------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00788" name="l00788"></a><span class="lineno">  788</span><span class="keywordtype">void</span> TurretAI::stopRotOrPitchSound()</div>
<div class="line"><a id="l00789" name="l00789"></a><span class="lineno">  789</span>{</div>
<div class="line"><a id="l00790" name="l00790"></a><span class="lineno">  790</span>    <span class="keywordflow">if</span> (m_turretRotOrPitchSound.isCurrentlyPlaying()) </div>
<div class="line"><a id="l00791" name="l00791"></a><span class="lineno">  791</span>    {</div>
<div class="line"><a id="l00792" name="l00792"></a><span class="lineno">  792</span>        <a class="code hl_variable" href="_game_audio_8h.html#ac281ccd51f88bbbdc3fef71d1216227a">TheAudio</a>-&gt;<a class="code hl_function" href="class_audio_manager.html#a5b9bbd7145c019fcd8b0d0c122221c78">removeAudioEvent</a>(m_turretRotOrPitchSound.getPlayingHandle());</div>
<div class="line"><a id="l00793" name="l00793"></a><span class="lineno">  793</span>    }</div>
<div class="line"><a id="l00794" name="l00794"></a><span class="lineno">  794</span>}</div>
<div class="line"><a id="l00795" name="l00795"></a><span class="lineno">  795</span> </div>
<div class="line"><a id="l00796" name="l00796"></a><span class="lineno">  796</span><span class="preprocessor">#ifdef INTER_TURRET_DELAY</span></div>
<div class="line"><a id="l00797" name="l00797"></a><span class="lineno">  797</span><span class="comment">//----------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00798" name="l00798"></a><span class="lineno">  798</span><span class="keywordtype">void</span> TurretAI::getOtherTurretWeaponInfo(<a class="code hl_union" href="union_int.html">Int</a>&amp; numSelf, <a class="code hl_union" href="union_int.html">Int</a>&amp; numSelfReloading, <a class="code hl_union" href="union_int.html">Int</a>&amp; numSelfReady, <a class="code hl_union" href="union_int.html">Int</a>&amp; numOther, <a class="code hl_union" href="union_int.html">Int</a>&amp; numOtherReloading, <a class="code hl_union" href="union_int.html">Int</a>&amp; numOtherReady)<span class="keyword"> const</span></div>
<div class="line"><a id="l00799" name="l00799"></a><span class="lineno">  799</span><span class="keyword"></span>{</div>
<div class="line"><a id="l00800" name="l00800"></a><span class="lineno">  800</span>    numSelf = 0;</div>
<div class="line"><a id="l00801" name="l00801"></a><span class="lineno">  801</span>    numSelfReady = 0;</div>
<div class="line"><a id="l00802" name="l00802"></a><span class="lineno">  802</span>    numSelfReloading = 0;</div>
<div class="line"><a id="l00803" name="l00803"></a><span class="lineno">  803</span>    numOther = 0;</div>
<div class="line"><a id="l00804" name="l00804"></a><span class="lineno">  804</span>    numOtherReady = 0;</div>
<div class="line"><a id="l00805" name="l00805"></a><span class="lineno">  805</span>    numOtherReloading = 0;</div>
<div class="line"><a id="l00806" name="l00806"></a><span class="lineno">  806</span> </div>
<div class="line"><a id="l00807" name="l00807"></a><span class="lineno">  807</span>    <span class="keywordflow">for</span>( <a class="code hl_typedef" href="_base_type_8h.html#a7cc214a236ad3bb6ad435bdcf5262a3f">Int</a> i = 0; i &lt; <a class="code hl_enumvalue" href="_game_type_8h.html#a2af9bbdf6271d34dfabc5309aa88d79da97671b12829da5738fb4b7cbee5bcc9a">WEAPONSLOT_COUNT</a>;    i++ )</div>
<div class="line"><a id="l00808" name="l00808"></a><span class="lineno">  808</span>    {</div>
<div class="line"><a id="l00809" name="l00809"></a><span class="lineno">  809</span>        <span class="comment">// ignore empty slots.</span></div>
<div class="line"><a id="l00810" name="l00810"></a><span class="lineno">  810</span>        <span class="keyword">const</span> Weapon* w = <a class="code hl_function" href="class_turret_a_i.html#adccdfd3cc5aa2c271ec9605f93f7b010">getOwner</a>()-&gt;<a class="code hl_function" href="class_object.html#ad6cb0a7c09836e0ad9762187a960fbe2">getWeaponInWeaponSlot</a>((<a class="code hl_enumeration" href="_game_type_8h.html#a2af9bbdf6271d34dfabc5309aa88d79d">WeaponSlotType</a>)i);</div>
<div class="line"><a id="l00811" name="l00811"></a><span class="lineno">  811</span>        <span class="keywordflow">if</span> (w == <a class="code hl_define" href="_base_type_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><a id="l00812" name="l00812"></a><span class="lineno">  812</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00813" name="l00813"></a><span class="lineno">  813</span> </div>
<div class="line"><a id="l00814" name="l00814"></a><span class="lineno">  814</span>        <span class="comment">// ignore the weapons on this turret.</span></div>
<div class="line"><a id="l00815" name="l00815"></a><span class="lineno">  815</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="class_turret_a_i.html#a6b5b763ee5c957bf91881162a5f17735">isWeaponSlotOnTurret</a>((<a class="code hl_enumeration" href="_game_type_8h.html#a2af9bbdf6271d34dfabc5309aa88d79d">WeaponSlotType</a>)i))</div>
<div class="line"><a id="l00816" name="l00816"></a><span class="lineno">  816</span>        {</div>
<div class="line"><a id="l00817" name="l00817"></a><span class="lineno">  817</span>            ++numSelf;</div>
<div class="line"><a id="l00818" name="l00818"></a><span class="lineno">  818</span>            <span class="keywordflow">if</span> (w-&gt;<a class="code hl_function" href="class_weapon.html#af21b89522d9ac16d4a7268975b14121f">getStatus</a>() == <a class="code hl_enumvalue" href="_weapon_status_8h.html#af8fe3730bef529c78f42296c565841fba9040202a066e35119477bee45d58d8b6">RELOADING_CLIP</a>)</div>
<div class="line"><a id="l00819" name="l00819"></a><span class="lineno">  819</span>                ++numSelfReloading;</div>
<div class="line"><a id="l00820" name="l00820"></a><span class="lineno">  820</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (w-&gt;<a class="code hl_function" href="class_weapon.html#af21b89522d9ac16d4a7268975b14121f">getStatus</a>() == <a class="code hl_enumvalue" href="_weapon_status_8h.html#af8fe3730bef529c78f42296c565841fba1221f7904f5d15b5cdb00a0eec74f047">READY_TO_FIRE</a>)</div>
<div class="line"><a id="l00821" name="l00821"></a><span class="lineno">  821</span>                ++numSelfReady;</div>
<div class="line"><a id="l00822" name="l00822"></a><span class="lineno">  822</span>        }</div>
<div class="line"><a id="l00823" name="l00823"></a><span class="lineno">  823</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l00824" name="l00824"></a><span class="lineno">  824</span>        {</div>
<div class="line"><a id="l00825" name="l00825"></a><span class="lineno">  825</span>            ++numOther;</div>
<div class="line"><a id="l00826" name="l00826"></a><span class="lineno">  826</span>            <span class="keywordflow">if</span> (w-&gt;<a class="code hl_function" href="class_weapon.html#af21b89522d9ac16d4a7268975b14121f">getStatus</a>() == <a class="code hl_enumvalue" href="_weapon_status_8h.html#af8fe3730bef529c78f42296c565841fba9040202a066e35119477bee45d58d8b6">RELOADING_CLIP</a>)</div>
<div class="line"><a id="l00827" name="l00827"></a><span class="lineno">  827</span>                ++numOtherReloading;</div>
<div class="line"><a id="l00828" name="l00828"></a><span class="lineno">  828</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (w-&gt;<a class="code hl_function" href="class_weapon.html#af21b89522d9ac16d4a7268975b14121f">getStatus</a>() == <a class="code hl_enumvalue" href="_weapon_status_8h.html#af8fe3730bef529c78f42296c565841fba1221f7904f5d15b5cdb00a0eec74f047">READY_TO_FIRE</a>)</div>
<div class="line"><a id="l00829" name="l00829"></a><span class="lineno">  829</span>                ++numOtherReady;</div>
<div class="line"><a id="l00830" name="l00830"></a><span class="lineno">  830</span>        }</div>
<div class="line"><a id="l00831" name="l00831"></a><span class="lineno">  831</span>    }</div>
<div class="line"><a id="l00832" name="l00832"></a><span class="lineno">  832</span>}</div>
<div class="line"><a id="l00833" name="l00833"></a><span class="lineno">  833</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00834" name="l00834"></a><span class="lineno">  834</span> </div>
<div class="line"><a id="l00835" name="l00835"></a><span class="lineno">  835</span><span class="comment">//----------------------------------------------------------------------------------------------------------</span></div>
<div class="foldopen" id="foldopen00836" data-start="{" data-end="}">
<div class="line"><a id="l00836" name="l00836"></a><span class="lineno"><a class="line" href="class_turret_a_i.html#acc8d60d1e29873412393c194cc070b2b">  836</a></span><a class="code hl_typedef" href="_base_type_8h.html#a76a8b016e5ad61faf9062cc387df5016">Bool</a> <a class="code hl_function" href="class_turret_a_i.html#acc8d60d1e29873412393c194cc070b2b">TurretAI::friend_isAnyWeaponInRangeOf</a>(<span class="keyword">const</span> <a class="code hl_class" href="class_object.html">Object</a>* o)<span class="keyword"> const</span></div>
<div class="line"><a id="l00837" name="l00837"></a><span class="lineno">  837</span><span class="keyword"></span>{</div>
<div class="line"><a id="l00838" name="l00838"></a><span class="lineno">  838</span>    <span class="comment">// see if we&#39;ve moved out of range, and if so, nuke the target.</span></div>
<div class="line"><a id="l00839" name="l00839"></a><span class="lineno">  839</span>    <span class="keywordflow">for</span> (<a class="code hl_union" href="union_int.html">Int</a> i = 0; i &lt; <a class="code hl_enumvalue" href="_game_type_8h.html#a2af9bbdf6271d34dfabc5309aa88d79da97671b12829da5738fb4b7cbee5bcc9a">WEAPONSLOT_COUNT</a>;    i++ )</div>
<div class="line"><a id="l00840" name="l00840"></a><span class="lineno">  840</span>    {</div>
<div class="line"><a id="l00841" name="l00841"></a><span class="lineno">  841</span>        <span class="comment">// ignore empty slots.</span></div>
<div class="line"><a id="l00842" name="l00842"></a><span class="lineno">  842</span>        <span class="keyword">const</span> <a class="code hl_class" href="class_weapon.html">Weapon</a>* w = <a class="code hl_function" href="class_turret_a_i.html#adccdfd3cc5aa2c271ec9605f93f7b010">getOwner</a>()-&gt;<a class="code hl_function" href="class_object.html#ad6cb0a7c09836e0ad9762187a960fbe2">getWeaponInWeaponSlot</a>((<a class="code hl_enumeration" href="_game_type_8h.html#a2af9bbdf6271d34dfabc5309aa88d79d">WeaponSlotType</a>)i);</div>
<div class="line"><a id="l00843" name="l00843"></a><span class="lineno">  843</span>        <span class="keywordflow">if</span> (w == <a class="code hl_define" href="_base_type_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> || !<a class="code hl_function" href="class_turret_a_i.html#a6b5b763ee5c957bf91881162a5f17735">isWeaponSlotOnTurret</a>((<a class="code hl_enumeration" href="_game_type_8h.html#a2af9bbdf6271d34dfabc5309aa88d79d">WeaponSlotType</a>)i))</div>
<div class="line"><a id="l00844" name="l00844"></a><span class="lineno">  844</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00845" name="l00845"></a><span class="lineno">  845</span> </div>
<div class="line"><a id="l00846" name="l00846"></a><span class="lineno">  846</span>        <span class="keywordflow">if</span> (w-&gt;<a class="code hl_function" href="class_weapon.html#a6da7f6ad978fdfbc78f9d475e029c10f">isWithinAttackRange</a>(<a class="code hl_function" href="class_turret_a_i.html#adccdfd3cc5aa2c271ec9605f93f7b010">getOwner</a>(), o)</div>
<div class="line"><a id="l00847" name="l00847"></a><span class="lineno">  847</span>                <span class="comment">// srj sez: not sure if we want to do this or not.  </span></div>
<div class="line"><a id="l00848" name="l00848"></a><span class="lineno">  848</span>                <span class="comment">// jba sez: no, don&#39;t do this.  isWithinAttackRange checks terrain los now, and </span></div>
<div class="line"><a id="l00849" name="l00849"></a><span class="lineno">  849</span>                <span class="comment">// some weapons (like tomahawk) can fire beyond los, so this check is problematical here.</span></div>
<div class="line"><a id="l00850" name="l00850"></a><span class="lineno">  850</span>                <span class="comment">//  &amp;&amp; w-&gt;isClearFiringLineOfSightTerrain(getOwner(), o)</span></div>
<div class="line"><a id="l00851" name="l00851"></a><span class="lineno">  851</span>            )</div>
<div class="line"><a id="l00852" name="l00852"></a><span class="lineno">  852</span>        {</div>
<div class="line"><a id="l00853" name="l00853"></a><span class="lineno">  853</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00854" name="l00854"></a><span class="lineno">  854</span>        }</div>
<div class="line"><a id="l00855" name="l00855"></a><span class="lineno">  855</span>    }</div>
<div class="line"><a id="l00856" name="l00856"></a><span class="lineno">  856</span> </div>
<div class="line"><a id="l00857" name="l00857"></a><span class="lineno">  857</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00858" name="l00858"></a><span class="lineno">  858</span>}</div>
</div>
<div class="line"><a id="l00859" name="l00859"></a><span class="lineno">  859</span> </div>
<div class="line"><a id="l00860" name="l00860"></a><span class="lineno">  860</span><span class="comment">//----------------------------------------------------------------------------------------------------------</span></div>
<div class="foldopen" id="foldopen00861" data-start="{" data-end="}">
<div class="line"><a id="l00861" name="l00861"></a><span class="lineno"><a class="line" href="class_turret_a_i.html#a957aa9e08679051a856f61dd5faddb02">  861</a></span><a class="code hl_typedef" href="_base_type_8h.html#a76a8b016e5ad61faf9062cc387df5016">Bool</a> <a class="code hl_function" href="class_turret_a_i.html#a957aa9e08679051a856f61dd5faddb02">TurretAI::friend_isSweepEnabled</a>()<span class="keyword"> const </span></div>
<div class="line"><a id="l00862" name="l00862"></a><span class="lineno">  862</span><span class="keyword"></span>{ </div>
<div class="line"><a id="l00863" name="l00863"></a><span class="lineno">  863</span>    <span class="keywordflow">if</span> (m_enableSweepUntil != 0 &amp;&amp; m_enableSweepUntil &gt; <a class="code hl_variable" href="_game_logic_8h.html#a9848d8d95263edf086306e6eb3d3c9bc">TheGameLogic</a>-&gt;getFrame())</div>
<div class="line"><a id="l00864" name="l00864"></a><span class="lineno">  864</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00865" name="l00865"></a><span class="lineno">  865</span> </div>
<div class="line"><a id="l00866" name="l00866"></a><span class="lineno">  866</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00867" name="l00867"></a><span class="lineno">  867</span>}</div>
</div>
<div class="line"><a id="l00868" name="l00868"></a><span class="lineno">  868</span> </div>
<div class="line"><a id="l00869" name="l00869"></a><span class="lineno">  869</span><span class="comment">//----------------------------------------------------------------------------------------------------------</span></div>
<div class="foldopen" id="foldopen00870" data-start="{" data-end="}">
<div class="line"><a id="l00870" name="l00870"></a><span class="lineno"><a class="line" href="class_turret_a_i.html#a32542db353d40f7e138c225a13b12da5">  870</a></span><a class="code hl_typedef" href="_base_type_8h.html#accf2bdf590f4e906ebad9216ebb7c698">UnsignedInt</a> <a class="code hl_function" href="class_turret_a_i.html#a32542db353d40f7e138c225a13b12da5">TurretAI::friend_getNextIdleMoodTargetFrame</a>()<span class="keyword"> const</span></div>
<div class="line"><a id="l00871" name="l00871"></a><span class="lineno">  871</span><span class="keyword"></span>{</div>
<div class="line"><a id="l00872" name="l00872"></a><span class="lineno">  872</span>    <span class="keyword">const</span> <a class="code hl_class" href="class_object.html">Object</a>* obj = <a class="code hl_function" href="class_turret_a_i.html#adccdfd3cc5aa2c271ec9605f93f7b010">getOwner</a>();</div>
<div class="line"><a id="l00873" name="l00873"></a><span class="lineno">  873</span>    <span class="keyword">const</span> <a class="code hl_class" href="class_a_i_update_interface.html">AIUpdateInterface</a> *ai = obj-&gt;<a class="code hl_function" href="class_object.html#ad67789da3db49c3827e5a2abf8fe68a0">getAIUpdateInterface</a>();</div>
<div class="line"><a id="l00874" name="l00874"></a><span class="lineno">  874</span>    <span class="comment">// ai can be null during object construction. </span></div>
<div class="line"><a id="l00875" name="l00875"></a><span class="lineno">  875</span>    <span class="keywordflow">return</span> ai ? ai-&gt;<a class="code hl_function" href="class_a_i_update_interface.html#a2506d0a021da9ee030f7fddbebea4be8">getNextMoodCheckTime</a>() : <a class="code hl_variable" href="_game_logic_8h.html#a9848d8d95263edf086306e6eb3d3c9bc">TheGameLogic</a>-&gt;getFrame();</div>
<div class="line"><a id="l00876" name="l00876"></a><span class="lineno">  876</span>}</div>
</div>
<div class="line"><a id="l00877" name="l00877"></a><span class="lineno">  877</span> </div>
<div class="line"><a id="l00878" name="l00878"></a><span class="lineno">  878</span><span class="comment">//----------------------------------------------------------------------------------------------------------</span></div>
<div class="foldopen" id="foldopen00879" data-start="{" data-end="}">
<div class="line"><a id="l00879" name="l00879"></a><span class="lineno"><a class="line" href="class_turret_a_i.html#aa7c2a1cee790931324fc30f7ca0a75aa">  879</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="class_turret_a_i.html#aa7c2a1cee790931324fc30f7ca0a75aa">TurretAI::friend_checkForIdleMoodTarget</a>()</div>
<div class="line"><a id="l00880" name="l00880"></a><span class="lineno">  880</span>{</div>
<div class="line"><a id="l00881" name="l00881"></a><span class="lineno">  881</span>    <a class="code hl_class" href="class_object.html">Object</a>* obj = <a class="code hl_function" href="class_turret_a_i.html#adccdfd3cc5aa2c271ec9605f93f7b010">getOwner</a>();</div>
<div class="line"><a id="l00882" name="l00882"></a><span class="lineno">  882</span>    <a class="code hl_class" href="class_a_i_update_interface.html">AIUpdateInterface</a> *ai = obj-&gt;<a class="code hl_function" href="class_object.html#ad67789da3db49c3827e5a2abf8fe68a0">getAIUpdateInterface</a>();</div>
<div class="line"><a id="l00883" name="l00883"></a><span class="lineno">  883</span> </div>
<div class="line"><a id="l00884" name="l00884"></a><span class="lineno">  884</span>    <span class="comment">// This state is used internally some places, so we don&#39;t necessarily want to be looking for targets</span></div>
<div class="line"><a id="l00885" name="l00885"></a><span class="lineno">  885</span>    <span class="comment">// Places that use AI_IDLE internally should set this to false in the constructor. jkmcd</span></div>
<div class="line"><a id="l00886" name="l00886"></a><span class="lineno">  886</span>    <a class="code hl_typedef" href="_base_type_8h.html#accf2bdf590f4e906ebad9216ebb7c698">UnsignedInt</a> moodAdjust = ai-&gt;<a class="code hl_function" href="class_a_i_update_interface.html#a9e06f68279ccc349a8b44fe06729d9d5">getMoodMatrixActionAdjustment</a>(<a class="code hl_enumvalue" href="_a_i_update_8h.html#a24c30b3634f983cb25dae485927e111ea180ad7d0ede525b45fa3648ece7d84eb">MM_Action_Idle</a>);</div>
<div class="line"><a id="l00887" name="l00887"></a><span class="lineno">  887</span>    <span class="keywordflow">if</span> (moodAdjust &amp; <a class="code hl_enumvalue" href="_a_i_update_8h.html#a1e4122c04754d47b9d2cb68d284078ecaca539312cfffb62faeaeb96f2eeaa7d6">MAA_Affect_Range_IgnoreAll</a>)</div>
<div class="line"><a id="l00888" name="l00888"></a><span class="lineno">  888</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00889" name="l00889"></a><span class="lineno">  889</span>    </div>
<div class="line"><a id="l00890" name="l00890"></a><span class="lineno">  890</span>    <span class="comment">// If we&#39;re supposed to attack based on mood, etc, then we will do so.</span></div>
<div class="line"><a id="l00891" name="l00891"></a><span class="lineno">  891</span>    <a class="code hl_class" href="class_object.html">Object</a>* enemy = ai-&gt;<a class="code hl_function" href="class_a_i_update_interface.html#ac9fab54c83edecfdb4bf5ef233c44c01">getNextMoodTarget</a>( <span class="keyword">true</span>, <span class="keyword">true</span> );</div>
<div class="line"><a id="l00892" name="l00892"></a><span class="lineno">  892</span>    <span class="keywordflow">if</span> (enemy) </div>
<div class="line"><a id="l00893" name="l00893"></a><span class="lineno">  893</span>    {</div>
<div class="line"><a id="l00894" name="l00894"></a><span class="lineno">  894</span>        <a class="code hl_function" href="class_turret_a_i.html#a66dc48b94b2410f67a70756a02c86529">setTurretTargetObject</a>(enemy, <a class="code hl_define" href="_base_type_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div>
<div class="line"><a id="l00895" name="l00895"></a><span class="lineno">  895</span>        obj-&gt;<a class="code hl_function" href="class_object.html#a8132222b4baf5c4a796ac5427716794f">chooseBestWeaponForTarget</a>(enemy, <a class="code hl_enumvalue" href="_weapon_set_8h.html#aef6dec8563ca28122883d9d8e8a9e257ad7c39cd4a9657d67843d7e6743001b30">PREFER_MOST_DAMAGE</a>, <a class="code hl_enumvalue" href="_game_common_8h.html#a80a13150ed5e8a5acfef387fd7fe43d6aa4c97af6efe4ef2a094b708ab7bac3d8">CMD_FROM_AI</a>);</div>
<div class="line"><a id="l00896" name="l00896"></a><span class="lineno">  896</span>        <span class="comment">// set this magic flag to indicate that this was an independent attack-of-opportunity,</span></div>
<div class="line"><a id="l00897" name="l00897"></a><span class="lineno">  897</span>        <span class="comment">// and we should check to see if out-of-range, and if so, nuke it</span></div>
<div class="line"><a id="l00898" name="l00898"></a><span class="lineno">  898</span>        m_targetWasSetByIdleMood = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00899" name="l00899"></a><span class="lineno">  899</span>    }</div>
<div class="line"><a id="l00900" name="l00900"></a><span class="lineno">  900</span>}</div>
</div>
<div class="line"><a id="l00901" name="l00901"></a><span class="lineno">  901</span> </div>
<div class="line"><a id="l00902" name="l00902"></a><span class="lineno">  902</span><span class="preprocessor">#ifdef INTER_TURRET_DELAY</span></div>
<div class="line"><a id="l00903" name="l00903"></a><span class="lineno">  903</span><span class="comment">//----------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00904" name="l00904"></a><span class="lineno">  904</span><a class="code hl_typedef" href="_base_type_8h.html#accf2bdf590f4e906ebad9216ebb7c698">UnsignedInt</a> TurretAI::friend_getInterTurretDelay()</div>
<div class="line"><a id="l00905" name="l00905"></a><span class="lineno">  905</span>{</div>
<div class="line"><a id="l00906" name="l00906"></a><span class="lineno">  906</span>    <span class="keywordflow">if</span> (m_data-&gt;m_interTurretDelay == 0)</div>
<div class="line"><a id="l00907" name="l00907"></a><span class="lineno">  907</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l00908" name="l00908"></a><span class="lineno">  908</span> </div>
<div class="line"><a id="l00909" name="l00909"></a><span class="lineno">  909</span>    <a class="code hl_union" href="union_int.html">Int</a> numSelf;</div>
<div class="line"><a id="l00910" name="l00910"></a><span class="lineno">  910</span>    <a class="code hl_union" href="union_int.html">Int</a> numSelfReloading;</div>
<div class="line"><a id="l00911" name="l00911"></a><span class="lineno">  911</span>    <a class="code hl_union" href="union_int.html">Int</a> numSelfReady;</div>
<div class="line"><a id="l00912" name="l00912"></a><span class="lineno">  912</span>    <a class="code hl_union" href="union_int.html">Int</a> numOther;</div>
<div class="line"><a id="l00913" name="l00913"></a><span class="lineno">  913</span>    <a class="code hl_union" href="union_int.html">Int</a> numOtherReloading;</div>
<div class="line"><a id="l00914" name="l00914"></a><span class="lineno">  914</span>    <a class="code hl_union" href="union_int.html">Int</a> numOtherReady;</div>
<div class="line"><a id="l00915" name="l00915"></a><span class="lineno">  915</span>    getOtherTurretWeaponInfo(numSelf, numSelfReloading, numSelfReady, numOther, numOtherReloading, numOtherReady);</div>
<div class="line"><a id="l00916" name="l00916"></a><span class="lineno">  916</span> </div>
<div class="line"><a id="l00917" name="l00917"></a><span class="lineno">  917</span>    <a class="code hl_class" href="class_a_i_update_interface.html">AIUpdateInterface</a>* ai = <a class="code hl_function" href="class_turret_a_i.html#adccdfd3cc5aa2c271ec9605f93f7b010">getOwner</a>()-&gt;<a class="code hl_function" href="class_object.html#ad67789da3db49c3827e5a2abf8fe68a0">getAIUpdateInterface</a>();</div>
<div class="line"><a id="l00918" name="l00918"></a><span class="lineno">  918</span>    <a class="code hl_enumeration" href="_game_common_8h.html#a2c9fbc25cab9611d85ec37db5eaa5cfc">WhichTurretType</a> t = ai-&gt;<a class="code hl_function" href="class_a_i_update_interface.html#ae1ba6f219bacdb670854ae4591c9facd">friend_getTurretSync</a>();</div>
<div class="line"><a id="l00919" name="l00919"></a><span class="lineno">  919</span>    <span class="keywordflow">if</span> (t == <a class="code hl_enumvalue" href="_game_common_8h.html#a2c9fbc25cab9611d85ec37db5eaa5cfca7afaf0c608f85e182804c30115785c8b">TURRET_INVALID</a> || t == m_whichTurret)</div>
<div class="line"><a id="l00920" name="l00920"></a><span class="lineno">  920</span>    {</div>
<div class="line"><a id="l00921" name="l00921"></a><span class="lineno">  921</span>        <span class="keywordflow">if</span> (numSelf == numSelfReady)</div>
<div class="line"><a id="l00922" name="l00922"></a><span class="lineno">  922</span>        {</div>
<div class="line"><a id="l00923" name="l00923"></a><span class="lineno">  923</span>            ai-&gt;<a class="code hl_function" href="class_a_i_update_interface.html#a6cdad474104f939c244e04e37cb09003">friend_setTurretSync</a>(m_whichTurret);</div>
<div class="line"><a id="l00924" name="l00924"></a><span class="lineno">  924</span>            <span class="comment">// if we just got the flag, use our delay, otherwise go immediately</span></div>
<div class="line"><a id="l00925" name="l00925"></a><span class="lineno">  925</span>            <span class="keywordflow">if</span> (t == <a class="code hl_enumvalue" href="_game_common_8h.html#a2c9fbc25cab9611d85ec37db5eaa5cfca7afaf0c608f85e182804c30115785c8b">TURRET_INVALID</a>)</div>
<div class="line"><a id="l00926" name="l00926"></a><span class="lineno">  926</span>                <span class="keywordflow">return</span> m_data-&gt;m_interTurretDelay;</div>
<div class="line"><a id="l00927" name="l00927"></a><span class="lineno">  927</span>            <span class="keywordflow">else</span></div>
<div class="line"><a id="l00928" name="l00928"></a><span class="lineno">  928</span>                <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l00929" name="l00929"></a><span class="lineno">  929</span>        }</div>
<div class="line"><a id="l00930" name="l00930"></a><span class="lineno">  930</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (numSelf == numSelfReloading)</div>
<div class="line"><a id="l00931" name="l00931"></a><span class="lineno">  931</span>        {</div>
<div class="line"><a id="l00932" name="l00932"></a><span class="lineno">  932</span>            <span class="comment">// we&#39;re done... relinquish the flag</span></div>
<div class="line"><a id="l00933" name="l00933"></a><span class="lineno">  933</span>            ai-&gt;<a class="code hl_function" href="class_a_i_update_interface.html#a6cdad474104f939c244e04e37cb09003">friend_setTurretSync</a>(<a class="code hl_enumvalue" href="_game_common_8h.html#a2c9fbc25cab9611d85ec37db5eaa5cfca7afaf0c608f85e182804c30115785c8b">TURRET_INVALID</a>);</div>
<div class="line"><a id="l00934" name="l00934"></a><span class="lineno">  934</span>            <span class="keywordflow">return</span> <a class="code hl_variable" href="_turret_a_i_8cpp.html#a1dca90a55fc8696d5c02b886be43916f">WAIT_INDEFINITELY</a>;</div>
<div class="line"><a id="l00935" name="l00935"></a><span class="lineno">  935</span>        }</div>
<div class="line"><a id="l00936" name="l00936"></a><span class="lineno">  936</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l00937" name="l00937"></a><span class="lineno">  937</span>        {</div>
<div class="line"><a id="l00938" name="l00938"></a><span class="lineno">  938</span>            <span class="comment">// we&#39;re not ready, but not reloading either, so retain the flag and wait</span></div>
<div class="line"><a id="l00939" name="l00939"></a><span class="lineno">  939</span>            <span class="keywordflow">return</span> <a class="code hl_variable" href="_turret_a_i_8cpp.html#a1dca90a55fc8696d5c02b886be43916f">WAIT_INDEFINITELY</a>;</div>
<div class="line"><a id="l00940" name="l00940"></a><span class="lineno">  940</span>        }</div>
<div class="line"><a id="l00941" name="l00941"></a><span class="lineno">  941</span>    }</div>
<div class="line"><a id="l00942" name="l00942"></a><span class="lineno">  942</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l00943" name="l00943"></a><span class="lineno">  943</span>    {</div>
<div class="line"><a id="l00944" name="l00944"></a><span class="lineno">  944</span>        <span class="comment">// someone else has it, so just wait.</span></div>
<div class="line"><a id="l00945" name="l00945"></a><span class="lineno">  945</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="_turret_a_i_8cpp.html#a1dca90a55fc8696d5c02b886be43916f">WAIT_INDEFINITELY</a>;</div>
<div class="line"><a id="l00946" name="l00946"></a><span class="lineno">  946</span>    }</div>
<div class="line"><a id="l00947" name="l00947"></a><span class="lineno">  947</span>}</div>
<div class="line"><a id="l00948" name="l00948"></a><span class="lineno">  948</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00949" name="l00949"></a><span class="lineno">  949</span> </div>
<div class="line"><a id="l00950" name="l00950"></a><span class="lineno">  950</span><span class="comment">//----------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00951" name="l00951"></a><span class="lineno">  951</span><span class="comment">//----------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00952" name="l00952"></a><span class="lineno">  952</span><span class="comment">//----------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00953" name="l00953"></a><span class="lineno">  953</span> </div>
<div class="line"><a id="l00954" name="l00954"></a><span class="lineno">  954</span><span class="comment">//----------------------------------------------------------------------------------------------------------</span></div>
<div class="foldopen" id="foldopen00955" data-start="{" data-end="}">
<div class="line"><a id="l00955" name="l00955"></a><span class="lineno"><a class="line" href="class_turret_a_i_aim_turret_state.html#ab5f8a45651691c9528a8277888178f37">  955</a></span><a class="code hl_enumeration" href="_state_machine_8h.html#a85691a8a74800ef33464a702eb251d88">StateReturnType</a> <a class="code hl_function" href="class_turret_a_i_aim_turret_state.html#ab5f8a45651691c9528a8277888178f37">TurretAIAimTurretState::onEnter</a>()</div>
<div class="line"><a id="l00956" name="l00956"></a><span class="lineno">  956</span>{</div>
<div class="line"><a id="l00957" name="l00957"></a><span class="lineno">  957</span>    <span class="comment">// don&#39;t set the &quot;turret-rotate&quot; bit here; wait and see if we really turn or not.</span></div>
<div class="line"><a id="l00958" name="l00958"></a><span class="lineno">  958</span><span class="preprocessor">#ifdef INTER_TURRET_DELAY</span></div>
<div class="line"><a id="l00959" name="l00959"></a><span class="lineno">  959</span>    m_extraDelay = 0;</div>
<div class="line"><a id="l00960" name="l00960"></a><span class="lineno">  960</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00961" name="l00961"></a><span class="lineno">  961</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="_state_machine_8h.html#a85691a8a74800ef33464a702eb251d88aef9ef5d8f83fb758af6a2c17d558d503">STATE_CONTINUE</a>;</div>
<div class="line"><a id="l00962" name="l00962"></a><span class="lineno">  962</span>}</div>
</div>
<div class="line"><a id="l00963" name="l00963"></a><span class="lineno">  963</span> </div>
<div class="line"><a id="l00964" name="l00964"></a><span class="lineno">  964</span><span class="comment">//-------------------------------------------------------------------------------------------------</span></div>
<div class="foldopen" id="foldopen00968" data-start="{" data-end="}">
<div class="line"><a id="l00968" name="l00968"></a><span class="lineno"><a class="line" href="class_turret_a_i_aim_turret_state.html#aba04e8a61b792a7ecf0e095803c09a97">  968</a></span><a class="code hl_enumeration" href="_state_machine_8h.html#a85691a8a74800ef33464a702eb251d88">StateReturnType</a> <a class="code hl_function" href="class_turret_a_i_aim_turret_state.html#aba04e8a61b792a7ecf0e095803c09a97">TurretAIAimTurretState::update</a>()</div>
<div class="line"><a id="l00969" name="l00969"></a><span class="lineno">  969</span>{</div>
<div class="line"><a id="l00970" name="l00970"></a><span class="lineno">  970</span>    <span class="comment">//DEBUG_LOG((&quot;TurretAIAimTurretState frame %d: %08lx\n&quot;,TheGameLogic-&gt;getFrame(),getTurretAI()-&gt;getOwner()));</span></div>
<div class="line"><a id="l00971" name="l00971"></a><span class="lineno">  971</span> </div>
<div class="line"><a id="l00972" name="l00972"></a><span class="lineno">  972</span>    <a class="code hl_class" href="class_turret_a_i.html">TurretAI</a>* turret = <a class="code hl_function" href="class_turret_state.html#a97dd4a49c7bd787b784061142a7db8b6">getTurretAI</a>();</div>
<div class="line"><a id="l00973" name="l00973"></a><span class="lineno">  973</span>    <a class="code hl_class" href="class_object.html">Object</a>* obj = turret-&gt;<a class="code hl_function" href="class_turret_a_i.html#adccdfd3cc5aa2c271ec9605f93f7b010">getOwner</a>();</div>
<div class="line"><a id="l00974" name="l00974"></a><span class="lineno">  974</span>    <a class="code hl_class" href="class_a_i_update_interface.html">AIUpdateInterface</a>* ai = obj-&gt;<a class="code hl_function" href="class_object.html#ad67789da3db49c3827e5a2abf8fe68a0">getAIUpdateInterface</a>();</div>
<div class="line"><a id="l00975" name="l00975"></a><span class="lineno">  975</span>    <span class="keywordflow">if</span>( !ai )</div>
<div class="line"><a id="l00976" name="l00976"></a><span class="lineno">  976</span>    {</div>
<div class="line"><a id="l00977" name="l00977"></a><span class="lineno">  977</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="_state_machine_8h.html#a85691a8a74800ef33464a702eb251d88ad2792877a5254ceb07b53a001f8e9987">STATE_FAILURE</a>;</div>
<div class="line"><a id="l00978" name="l00978"></a><span class="lineno">  978</span>    }</div>
<div class="line"><a id="l00979" name="l00979"></a><span class="lineno">  979</span> </div>
<div class="line"><a id="l00980" name="l00980"></a><span class="lineno">  980</span>    <a class="code hl_class" href="class_object.html">Object</a>* enemy;</div>
<div class="line"><a id="l00981" name="l00981"></a><span class="lineno">  981</span>    <a class="code hl_class" href="class_a_i_update_interface.html">AIUpdateInterface</a>* enemyAI=<a class="code hl_define" href="_base_type_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a id="l00982" name="l00982"></a><span class="lineno">  982</span>    <a class="code hl_struct" href="struct_coord3_d.html">Coord3D</a> enemyPosition;</div>
<div class="line"><a id="l00983" name="l00983"></a><span class="lineno">  983</span>    <a class="code hl_typedef" href="_base_type_8h.html#a76a8b016e5ad61faf9062cc387df5016">Bool</a> preventing = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00984" name="l00984"></a><span class="lineno">  984</span>    <a class="code hl_enumeration" href="_turret_a_i_8h.html#a4c101d812cb51a203b38e218a6c1a3b9">TurretTargetType</a> targetType =  turret-&gt;<a class="code hl_function" href="class_turret_a_i.html#ad4989f065015a595d8a973982e7db420">friend_getTurretTarget</a>(enemy, enemyPosition);</div>
<div class="line"><a id="l00985" name="l00985"></a><span class="lineno">  985</span>    <a class="code hl_class" href="class_object.html">Object</a> *enemyForDistanceCheckOnly = enemy;    <span class="comment">// Note: Do not use this anywhere except for the range check.</span></div>
<div class="line"><a id="l00986" name="l00986"></a><span class="lineno">  986</span> </div>
<div class="line"><a id="l00987" name="l00987"></a><span class="lineno">  987</span>    <a class="code hl_typedef" href="_base_type_8h.html#a76a8b016e5ad61faf9062cc387df5016">Bool</a> nothingInRange = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00988" name="l00988"></a><span class="lineno">  988</span>    <span class="keywordflow">switch</span> (targetType)</div>
<div class="line"><a id="l00989" name="l00989"></a><span class="lineno">  989</span>    {</div>
<div class="line"><a id="l00990" name="l00990"></a><span class="lineno">  990</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="_turret_a_i_8h.html#a4c101d812cb51a203b38e218a6c1a3b9a16abf06e96a64fa495bb02437ce9e1e5">TARGET_NONE</a>:</div>
<div class="line"><a id="l00991" name="l00991"></a><span class="lineno">  991</span>        {</div>
<div class="line"><a id="l00992" name="l00992"></a><span class="lineno">  992</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="_state_machine_8h.html#a85691a8a74800ef33464a702eb251d88ad2792877a5254ceb07b53a001f8e9987">STATE_FAILURE</a>;</div>
<div class="line"><a id="l00993" name="l00993"></a><span class="lineno">  993</span>        }</div>
<div class="line"><a id="l00994" name="l00994"></a><span class="lineno">  994</span> </div>
<div class="line"><a id="l00995" name="l00995"></a><span class="lineno">  995</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="_turret_a_i_8h.html#a4c101d812cb51a203b38e218a6c1a3b9a382119db3a33afd6da927d81ae7b399e">TARGET_OBJECT</a>:</div>
<div class="line"><a id="l00996" name="l00996"></a><span class="lineno">  996</span>        {</div>
<div class="line"><a id="l00997" name="l00997"></a><span class="lineno">  997</span>            <a class="code hl_typedef" href="_base_type_8h.html#a76a8b016e5ad61faf9062cc387df5016">Bool</a> isPrimaryEnemy = (enemy &amp;&amp; enemy == ai-&gt;<a class="code hl_function" href="class_a_i_update_interface.html#a84b7d84ad027cc88db8d0bb38d578ccb">getGoalObject</a>());</div>
<div class="line"><a id="l00998" name="l00998"></a><span class="lineno">  998</span>            <span class="comment">// if the enemy is gone, or we&#39;re out of range, or it changed teams, the attack is over</span></div>
<div class="line"><a id="l00999" name="l00999"></a><span class="lineno">  999</span>            <a class="code hl_typedef" href="_base_type_8h.html#a76a8b016e5ad61faf9062cc387df5016">Bool</a> ableToAttackTarget = obj-&gt;<a class="code hl_function" href="class_object.html#a4327aaa70aefe56fec07b1d347127640">isAbleToAttack</a>();</div>
<div class="line"><a id="l01000" name="l01000"></a><span class="lineno"> 1000</span>            <span class="keywordflow">if</span> (ableToAttackTarget) </div>
<div class="line"><a id="l01001" name="l01001"></a><span class="lineno"> 1001</span>            {</div>
<div class="line"><a id="l01002" name="l01002"></a><span class="lineno"> 1002</span>                <span class="comment">// srj sez: since we have already acquired this target, we should use</span></div>
<div class="line"><a id="l01003" name="l01003"></a><span class="lineno"> 1003</span>                <span class="comment">// the CONTINUED attack tests, not the new ones.</span></div>
<div class="line"><a id="l01004" name="l01004"></a><span class="lineno"> 1004</span>                <a class="code hl_enumeration" href="_weapon_set_8h.html#ae8a6d240e809cb610d91b106f5c85ecf">CanAttackResult</a> result = obj-&gt;<a class="code hl_function" href="class_object.html#a799ec79787269765b50ee160096eb620">getAbleToAttackSpecificObject</a>(</div>
<div class="line"><a id="l01005" name="l01005"></a><span class="lineno"> 1005</span>                            turret-&gt;<a class="code hl_function" href="class_turret_a_i.html#a9a861100c7018332e431533908c57f3d">isForceAttacking</a>() ? <a class="code hl_enumvalue" href="_game_common_8h.html#a22e8b92ca6bc75108f7e33ad51c7223ea8b86c845e38c077ca4161aff0774d1ef">ATTACK_CONTINUED_TARGET_FORCED</a> : <a class="code hl_enumvalue" href="_game_common_8h.html#a22e8b92ca6bc75108f7e33ad51c7223eac8ba1ae50ecd78b2a65e4f3ba7387f7b">ATTACK_CONTINUED_TARGET</a>, </div>
<div class="line"><a id="l01006" name="l01006"></a><span class="lineno"> 1006</span>                            enemy, </div>
<div class="line"><a id="l01007" name="l01007"></a><span class="lineno"> 1007</span>                            ai-&gt;<a class="code hl_function" href="class_a_i_update_interface.html#af0aa1d2df55cc98e7a4562a82eb4b9f7">getLastCommandSource</a>() </div>
<div class="line"><a id="l01008" name="l01008"></a><span class="lineno"> 1008</span>                        );</div>
<div class="line"><a id="l01009" name="l01009"></a><span class="lineno"> 1009</span>                ableToAttackTarget = result == <a class="code hl_enumvalue" href="_weapon_set_8h.html#ae8a6d240e809cb610d91b106f5c85ecfa513c706574f2789b109ef0a0aa42189f">ATTACKRESULT_POSSIBLE</a> || result == <a class="code hl_enumvalue" href="_weapon_set_8h.html#ae8a6d240e809cb610d91b106f5c85ecfa5173a0ce4d3a2d961b9d5e6ebbbd6689">ATTACKRESULT_POSSIBLE_AFTER_MOVING</a>;</div>
<div class="line"><a id="l01010" name="l01010"></a><span class="lineno"> 1010</span>            }</div>
<div class="line"><a id="l01011" name="l01011"></a><span class="lineno"> 1011</span>            </div>
<div class="line"><a id="l01012" name="l01012"></a><span class="lineno"> 1012</span>            nothingInRange = !turret-&gt;<a class="code hl_function" href="class_turret_a_i.html#acc8d60d1e29873412393c194cc070b2b">friend_isAnyWeaponInRangeOf</a>(enemy);</div>
<div class="line"><a id="l01013" name="l01013"></a><span class="lineno"> 1013</span>            <span class="keywordflow">if</span> (enemy == <a class="code hl_define" href="_base_type_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> || !ableToAttackTarget || </div>
<div class="line"><a id="l01014" name="l01014"></a><span class="lineno"> 1014</span>                    (!isPrimaryEnemy &amp;&amp; nothingInRange) ||</div>
<div class="line"><a id="l01015" name="l01015"></a><span class="lineno"> 1015</span>                    enemy-&gt;getTeam() != turret-&gt;<a class="code hl_function" href="class_turret_a_i.html#a5b391c89ae91bd0a788a8870cd908646">friend_getVictimInitialTeam</a>()</div>
<div class="line"><a id="l01016" name="l01016"></a><span class="lineno"> 1016</span>            )</div>
<div class="line"><a id="l01017" name="l01017"></a><span class="lineno"> 1017</span>            {</div>
<div class="line"><a id="l01018" name="l01018"></a><span class="lineno"> 1018</span>                <span class="keywordflow">if</span> (turret-&gt;<a class="code hl_function" href="class_turret_a_i.html#a2dddf3ad658ca836a59adbc7c6c637aa">friend_getTargetWasSetByIdleMood</a>())</div>
<div class="line"><a id="l01019" name="l01019"></a><span class="lineno"> 1019</span>                {</div>
<div class="line"><a id="l01020" name="l01020"></a><span class="lineno"> 1020</span>                    turret-&gt;<a class="code hl_function" href="class_turret_a_i.html#a66dc48b94b2410f67a70756a02c86529">setTurretTargetObject</a>(<a class="code hl_define" href="_base_type_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code hl_define" href="_base_type_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div>
<div class="line"><a id="l01021" name="l01021"></a><span class="lineno"> 1021</span>                }</div>
<div class="line"><a id="l01022" name="l01022"></a><span class="lineno"> 1022</span>                <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="_state_machine_8h.html#a85691a8a74800ef33464a702eb251d88ad2792877a5254ceb07b53a001f8e9987">STATE_FAILURE</a>;</div>
<div class="line"><a id="l01023" name="l01023"></a><span class="lineno"> 1023</span>            }</div>
<div class="line"><a id="l01024" name="l01024"></a><span class="lineno"> 1024</span> </div>
<div class="line"><a id="l01025" name="l01025"></a><span class="lineno"> 1025</span>            <span class="comment">// aim turret towards enemy (turret angle is relative to its parent object)</span></div>
<div class="line"><a id="l01026" name="l01026"></a><span class="lineno"> 1026</span>            <span class="keywordflow">if</span> (enemy-&gt;isKindOf(<a class="code hl_enumvalue" href="_kind_of_8h.html#a10872f4a2f419ad52b17492586d5a44ba2351603429c1853dd6f9e98bca45bc6e">KINDOF_BRIDGE</a>)) </div>
<div class="line"><a id="l01027" name="l01027"></a><span class="lineno"> 1027</span>            {</div>
<div class="line"><a id="l01028" name="l01028"></a><span class="lineno"> 1028</span>                <span class="comment">// Special case - bridges have two attackable points at either end.</span></div>
<div class="line"><a id="l01029" name="l01029"></a><span class="lineno"> 1029</span>                <a class="code hl_struct" href="struct_t_bridge_attack_info.html">TBridgeAttackInfo</a> info;</div>
<div class="line"><a id="l01030" name="l01030"></a><span class="lineno"> 1030</span>                <a class="code hl_variable" href="_terrain_logic_8h.html#aa42359a5e8439f039f075e2bbfdbb8cf">TheTerrainLogic</a>-&gt;getBridgeAttackPoints(enemy, &amp;info);</div>
<div class="line"><a id="l01031" name="l01031"></a><span class="lineno"> 1031</span>                <a class="code hl_typedef" href="_base_type_8h.html#ab685845059e8a2c92743427d9a698c70">Real</a> distSqr = <a class="code hl_variable" href="_partition_manager_8h.html#a66c9e7cf318215602c669733b3c73a42">ThePartitionManager</a>-&gt;getDistanceSquared( obj, &amp;info.<a class="code hl_variable" href="struct_t_bridge_attack_info.html#a401c4d2fc8e8f36e720a6398a79d8965">attackPoint1</a>, <a class="code hl_enumvalue" href="_partition_manager_8h.html#a2e6ec3d40f55e0e956ddef5d9896d822a0e8bedeb62225b97a8ee87e55ee941c4">FROM_BOUNDINGSPHERE_3D</a> );</div>
<div class="line"><a id="l01032" name="l01032"></a><span class="lineno"> 1032</span>                <span class="keywordflow">if</span> (distSqr &gt; <a class="code hl_variable" href="_partition_manager_8h.html#a66c9e7cf318215602c669733b3c73a42">ThePartitionManager</a>-&gt;getDistanceSquared( obj, &amp;info.<a class="code hl_variable" href="struct_t_bridge_attack_info.html#a2783ee593952c2c0043ee5055bf7a800">attackPoint2</a>, <a class="code hl_enumvalue" href="_partition_manager_8h.html#a2e6ec3d40f55e0e956ddef5d9896d822a0e8bedeb62225b97a8ee87e55ee941c4">FROM_BOUNDINGSPHERE_3D</a> ) ) </div>
<div class="line"><a id="l01033" name="l01033"></a><span class="lineno"> 1033</span>                {</div>
<div class="line"><a id="l01034" name="l01034"></a><span class="lineno"> 1034</span>                    enemyPosition = info.<a class="code hl_variable" href="struct_t_bridge_attack_info.html#a2783ee593952c2c0043ee5055bf7a800">attackPoint2</a>;</div>
<div class="line"><a id="l01035" name="l01035"></a><span class="lineno"> 1035</span>                }   </div>
<div class="line"><a id="l01036" name="l01036"></a><span class="lineno"> 1036</span>                <span class="keywordflow">else</span> </div>
<div class="line"><a id="l01037" name="l01037"></a><span class="lineno"> 1037</span>                {</div>
<div class="line"><a id="l01038" name="l01038"></a><span class="lineno"> 1038</span>                    enemyPosition = info.<a class="code hl_variable" href="struct_t_bridge_attack_info.html#a401c4d2fc8e8f36e720a6398a79d8965">attackPoint1</a>;</div>
<div class="line"><a id="l01039" name="l01039"></a><span class="lineno"> 1039</span>                }</div>
<div class="line"><a id="l01040" name="l01040"></a><span class="lineno"> 1040</span>            }   </div>
<div class="line"><a id="l01041" name="l01041"></a><span class="lineno"> 1041</span>            <span class="keywordflow">else</span> </div>
<div class="line"><a id="l01042" name="l01042"></a><span class="lineno"> 1042</span>            {</div>
<div class="line"><a id="l01043" name="l01043"></a><span class="lineno"> 1043</span>                enemyPosition = *enemy-&gt;getPosition();</div>
<div class="line"><a id="l01044" name="l01044"></a><span class="lineno"> 1044</span>            }</div>
<div class="line"><a id="l01045" name="l01045"></a><span class="lineno"> 1045</span> </div>
<div class="line"><a id="l01046" name="l01046"></a><span class="lineno"> 1046</span>            enemyAI = enemy ? enemy-&gt;getAI() : <a class="code hl_define" href="_base_type_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a id="l01047" name="l01047"></a><span class="lineno"> 1047</span> </div>
<div class="line"><a id="l01048" name="l01048"></a><span class="lineno"> 1048</span>            <span class="comment">// add ourself as a targeter BEFORE calling isTemporarilyPreventingAimSuccess().</span></div>
<div class="line"><a id="l01049" name="l01049"></a><span class="lineno"> 1049</span>            <span class="comment">// we do this every time thru, just in case we get into a squabble with our ai</span></div>
<div class="line"><a id="l01050" name="l01050"></a><span class="lineno"> 1050</span>            <span class="comment">// over whether or not we are a targeter... (srj)</span></div>
<div class="line"><a id="l01051" name="l01051"></a><span class="lineno"> 1051</span>            <span class="keywordflow">if</span> (enemyAI)</div>
<div class="line"><a id="l01052" name="l01052"></a><span class="lineno"> 1052</span>                enemyAI-&gt;<a class="code hl_function" href="class_a_i_update_interface.html#a754b3cac8ce6dcedde3fef8ff763fe51">addTargeter</a>(obj-&gt;<a class="code hl_function" href="class_object.html#a6c17829820a29ded73578abd29906943">getID</a>(), <span class="keyword">true</span>);</div>
<div class="line"><a id="l01053" name="l01053"></a><span class="lineno"> 1053</span> </div>
<div class="line"><a id="l01054" name="l01054"></a><span class="lineno"> 1054</span>            preventing = enemyAI &amp;&amp; enemyAI-&gt;<a class="code hl_function" href="class_a_i_update_interface.html#a9bb0179c26773cabb9bc7a6fa63fac27">isTemporarilyPreventingAimSuccess</a>();</div>
<div class="line"><a id="l01055" name="l01055"></a><span class="lineno"> 1055</span> </div>
<div class="line"><a id="l01056" name="l01056"></a><span class="lineno"> 1056</span>            <span class="comment">// don&#39;t use &#39;enemy&#39; after this point, just the position. to help</span></div>
<div class="line"><a id="l01057" name="l01057"></a><span class="lineno"> 1057</span>            <span class="comment">// enforce this, we&#39;ll null it out.</span></div>
<div class="line"><a id="l01058" name="l01058"></a><span class="lineno"> 1058</span>            enemy = <a class="code hl_define" href="_base_type_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a id="l01059" name="l01059"></a><span class="lineno"> 1059</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01060" name="l01060"></a><span class="lineno"> 1060</span>        }</div>
<div class="line"><a id="l01061" name="l01061"></a><span class="lineno"> 1061</span> </div>
<div class="line"><a id="l01062" name="l01062"></a><span class="lineno"> 1062</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="_turret_a_i_8h.html#a4c101d812cb51a203b38e218a6c1a3b9ae2dbc5f080c2a13e20cb3f196e93f52f">TARGET_POSITION</a>:</div>
<div class="line"><a id="l01063" name="l01063"></a><span class="lineno"> 1063</span>        {</div>
<div class="line"><a id="l01064" name="l01064"></a><span class="lineno"> 1064</span>            <span class="comment">// nothing, just break.</span></div>
<div class="line"><a id="l01065" name="l01065"></a><span class="lineno"> 1065</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01066" name="l01066"></a><span class="lineno"> 1066</span>        }</div>
<div class="line"><a id="l01067" name="l01067"></a><span class="lineno"> 1067</span>    }</div>
<div class="line"><a id="l01068" name="l01068"></a><span class="lineno"> 1068</span> </div>
<div class="line"><a id="l01069" name="l01069"></a><span class="lineno"> 1069</span>    <a class="code hl_enumeration" href="_game_type_8h.html#a2af9bbdf6271d34dfabc5309aa88d79d">WeaponSlotType</a> slot;</div>
<div class="line"><a id="l01070" name="l01070"></a><span class="lineno"> 1070</span>    <a class="code hl_class" href="class_weapon.html">Weapon</a> *curWeapon = obj-&gt;<a class="code hl_function" href="class_object.html#a70881ecc63fb19b4349f3dade8b2b808">getCurrentWeapon</a>( &amp;slot );</div>
<div class="line"><a id="l01071" name="l01071"></a><span class="lineno"> 1071</span>    <span class="keywordflow">if</span> (!curWeapon) </div>
<div class="line"><a id="l01072" name="l01072"></a><span class="lineno"> 1072</span>    {</div>
<div class="line"><a id="l01073" name="l01073"></a><span class="lineno"> 1073</span>        <a class="code hl_define" href="_game_engine_2_include_2_common_2_debug_8h.html#ae61da6cb696f996c3bd4b129ce9407f6">DEBUG_CRASH</a>((<span class="stringliteral">&quot;TurretAIAimTurretState::update - curWeapon is NULL.\n&quot;</span>));</div>
<div class="line"><a id="l01074" name="l01074"></a><span class="lineno"> 1074</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="_state_machine_8h.html#a85691a8a74800ef33464a702eb251d88ad2792877a5254ceb07b53a001f8e9987">STATE_FAILURE</a>;</div>
<div class="line"><a id="l01075" name="l01075"></a><span class="lineno"> 1075</span>    }</div>
<div class="line"><a id="l01076" name="l01076"></a><span class="lineno"> 1076</span> </div>
<div class="line"><a id="l01077" name="l01077"></a><span class="lineno"> 1077</span>    <a class="code hl_typedef" href="_base_type_8h.html#ab685845059e8a2c92743427d9a698c70">Real</a> turnSpeedModifier = 1.0f;<span class="comment">// Just like how recentering turns you half speed, sweeping can change your turn speed</span></div>
<div class="line"><a id="l01078" name="l01078"></a><span class="lineno"> 1078</span>    </div>
<div class="line"><a id="l01079" name="l01079"></a><span class="lineno"> 1079</span>    <a class="code hl_typedef" href="_base_type_8h.html#ab685845059e8a2c92743427d9a698c70">Real</a> relAngle = <a class="code hl_variable" href="_partition_manager_8h.html#a66c9e7cf318215602c669733b3c73a42">ThePartitionManager</a>-&gt;getRelativeAngle2D( obj, &amp;enemyPosition );</div>
<div class="line"><a id="l01080" name="l01080"></a><span class="lineno"> 1080</span>    </div>
<div class="line"><a id="l01081" name="l01081"></a><span class="lineno"> 1081</span>    <a class="code hl_typedef" href="_base_type_8h.html#ab685845059e8a2c92743427d9a698c70">Real</a> aimAngle = relAngle;</div>
<div class="line"><a id="l01082" name="l01082"></a><span class="lineno"> 1082</span>    <a class="code hl_typedef" href="_base_type_8h.html#ab685845059e8a2c92743427d9a698c70">Real</a> sweep = turret-&gt;<a class="code hl_function" href="class_turret_a_i.html#a02f93bfdd7b56bc36789d1f9f3f808e1">getTurretFireAngleSweepForWeaponSlot</a>( slot );</div>
<div class="line"><a id="l01083" name="l01083"></a><span class="lineno"> 1083</span>    <span class="keywordflow">if</span> (sweep &gt; 0.0f &amp;&amp; turret-&gt;<a class="code hl_function" href="class_turret_a_i.html#a957aa9e08679051a856f61dd5faddb02">friend_isSweepEnabled</a>())</div>
<div class="line"><a id="l01084" name="l01084"></a><span class="lineno"> 1084</span>    {</div>
<div class="line"><a id="l01085" name="l01085"></a><span class="lineno"> 1085</span>        <span class="keywordflow">if</span> (turret-&gt;<a class="code hl_function" href="class_turret_a_i.html#a598f7c625d5f90ce7cc70dac64f3860b">friend_getPositiveSweep</a>())</div>
<div class="line"><a id="l01086" name="l01086"></a><span class="lineno"> 1086</span>            aimAngle += sweep;</div>
<div class="line"><a id="l01087" name="l01087"></a><span class="lineno"> 1087</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l01088" name="l01088"></a><span class="lineno"> 1088</span>            aimAngle -= sweep;</div>
<div class="line"><a id="l01089" name="l01089"></a><span class="lineno"> 1089</span> </div>
<div class="line"><a id="l01090" name="l01090"></a><span class="lineno"> 1090</span>        turnSpeedModifier = turret-&gt;<a class="code hl_function" href="class_turret_a_i.html#a419a9b1f86a076eb81b5c43c443647d1">getTurretSweepSpeedModifierForWeaponSlot</a>( slot );</div>
<div class="line"><a id="l01091" name="l01091"></a><span class="lineno"> 1091</span>    }</div>
<div class="line"><a id="l01092" name="l01092"></a><span class="lineno"> 1092</span> </div>
<div class="line"><a id="l01093" name="l01093"></a><span class="lineno"> 1093</span>    <span class="keyword">const</span> <a class="code hl_typedef" href="_base_type_8h.html#ab685845059e8a2c92743427d9a698c70">Real</a> REL_THRESH = 0.035f; <span class="comment">// about 2 degrees. (getRelativeAngle2D is current only accurate to about 1.25 degrees)</span></div>
<div class="line"><a id="l01094" name="l01094"></a><span class="lineno"> 1094</span>    <a class="code hl_typedef" href="_base_type_8h.html#a76a8b016e5ad61faf9062cc387df5016">Bool</a> turnAlignedToNemesis = turret-&gt;<a class="code hl_function" href="class_turret_a_i.html#a1b5c663dc277d8d6c3ac157ddd5c98cf">friend_turnTowardsAngle</a>(aimAngle, turnSpeedModifier, REL_THRESH);</div>
<div class="line"><a id="l01095" name="l01095"></a><span class="lineno"> 1095</span> </div>
<div class="line"><a id="l01096" name="l01096"></a><span class="lineno"> 1096</span>    <span class="comment">// this section we do even if sweep is &quot;disabled&quot;, so that we can start firing</span></div>
<div class="line"><a id="l01097" name="l01097"></a><span class="lineno"> 1097</span>    <span class="comment">// once we get into sweep &quot;range&quot;</span></div>
<div class="line"><a id="l01098" name="l01098"></a><span class="lineno"> 1098</span>    <span class="keywordflow">if</span> (sweep &gt; 0.0f)</div>
<div class="line"><a id="l01099" name="l01099"></a><span class="lineno"> 1099</span>    {</div>
<div class="line"><a id="l01100" name="l01100"></a><span class="lineno"> 1100</span>        <span class="keywordflow">if</span> (turnAlignedToNemesis)</div>
<div class="line"><a id="l01101" name="l01101"></a><span class="lineno"> 1101</span>            turret-&gt;<a class="code hl_function" href="class_turret_a_i.html#a916864a91cfbeccadf50f4d76979e23d">friend_setPositiveSweep</a>(!turret-&gt;<a class="code hl_function" href="class_turret_a_i.html#a598f7c625d5f90ce7cc70dac64f3860b">friend_getPositiveSweep</a>());</div>
<div class="line"><a id="l01102" name="l01102"></a><span class="lineno"> 1102</span> </div>
<div class="line"><a id="l01103" name="l01103"></a><span class="lineno"> 1103</span>        <a class="code hl_typedef" href="_base_type_8h.html#ab685845059e8a2c92743427d9a698c70">Real</a> angleDiff = <a class="code hl_function" href="_game_common_8h.html#a6b82567dea14f55d2df66aece04b0510">normalizeAngle</a>(relAngle - turret-&gt;<a class="code hl_function" href="class_turret_a_i.html#a2ed4dedce5f8f03dece4f8a06db3a37f">getTurretAngle</a>());</div>
<div class="line"><a id="l01104" name="l01104"></a><span class="lineno"> 1104</span>        turnAlignedToNemesis = (fabs(angleDiff) &lt; sweep);</div>
<div class="line"><a id="l01105" name="l01105"></a><span class="lineno"> 1105</span>    }</div>
<div class="line"><a id="l01106" name="l01106"></a><span class="lineno"> 1106</span> </div>
<div class="line"><a id="l01107" name="l01107"></a><span class="lineno"> 1107</span>    <a class="code hl_typedef" href="_base_type_8h.html#a76a8b016e5ad61faf9062cc387df5016">Bool</a> pitchAlignedToNemesis = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01108" name="l01108"></a><span class="lineno"> 1108</span> </div>
<div class="line"><a id="l01109" name="l01109"></a><span class="lineno"> 1109</span>    <span class="comment">// Now do pitch</span></div>
<div class="line"><a id="l01110" name="l01110"></a><span class="lineno"> 1110</span>    <span class="keywordflow">if</span>( turret-&gt;<a class="code hl_function" href="class_turret_a_i.html#a787a9243413b9ad690519934a43f97aa">isAllowsPitch</a>() )</div>
<div class="line"><a id="l01111" name="l01111"></a><span class="lineno"> 1111</span>    {</div>
<div class="line"><a id="l01112" name="l01112"></a><span class="lineno"> 1112</span>        <a class="code hl_typedef" href="_base_type_8h.html#ab685845059e8a2c92743427d9a698c70">Real</a> desiredPitch = 0;</div>
<div class="line"><a id="l01113" name="l01113"></a><span class="lineno"> 1113</span> </div>
<div class="line"><a id="l01114" name="l01114"></a><span class="lineno"> 1114</span>        <span class="comment">// Some turrets want to fire at a set pitch, and some want to fire straight to the target</span></div>
<div class="line"><a id="l01115" name="l01115"></a><span class="lineno"> 1115</span>        <span class="keywordflow">if</span>( turret-&gt;<a class="code hl_function" href="class_turret_a_i.html#aa0c4709722d94b8c7cdd61b12a80c85b">getFirePitch</a>() &gt; 0 )</div>
<div class="line"><a id="l01116" name="l01116"></a><span class="lineno"> 1116</span>        {</div>
<div class="line"><a id="l01117" name="l01117"></a><span class="lineno"> 1117</span>            desiredPitch = turret-&gt;<a class="code hl_function" href="class_turret_a_i.html#aa0c4709722d94b8c7cdd61b12a80c85b">getFirePitch</a>();</div>
<div class="line"><a id="l01118" name="l01118"></a><span class="lineno"> 1118</span>        }</div>
<div class="line"><a id="l01119" name="l01119"></a><span class="lineno"> 1119</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l01120" name="l01120"></a><span class="lineno"> 1120</span>        {</div>
<div class="line"><a id="l01121" name="l01121"></a><span class="lineno"> 1121</span>            <span class="comment">// Find the pitch to the target, but unlike Turn, we can&#39;t go 360 so bind at 0;</span></div>
<div class="line"><a id="l01122" name="l01122"></a><span class="lineno"> 1122</span>            <a class="code hl_struct" href="struct_coord3_d.html">Coord3D</a> v;</div>
<div class="line"><a id="l01123" name="l01123"></a><span class="lineno"> 1123</span>            <a class="code hl_variable" href="_partition_manager_8h.html#a66c9e7cf318215602c669733b3c73a42">ThePartitionManager</a>-&gt;getVectorTo(obj, &amp;enemyPosition, <a class="code hl_enumvalue" href="_partition_manager_8h.html#a2e6ec3d40f55e0e956ddef5d9896d822a6af14b0a580af5465bc17920b8a65f89">FROM_CENTER_3D</a>, v);</div>
<div class="line"><a id="l01124" name="l01124"></a><span class="lineno"> 1124</span> </div>
<div class="line"><a id="l01125" name="l01125"></a><span class="lineno"> 1125</span>            <span class="comment">//GetVectorTo only takes Object as the first, but we want the angle from our Weapon to the</span></div>
<div class="line"><a id="l01126" name="l01126"></a><span class="lineno"> 1126</span>            <span class="comment">// target, not us to the target.  Raise our side to get the line to make sense.</span></div>
<div class="line"><a id="l01127" name="l01127"></a><span class="lineno"> 1127</span>            v.<a class="code hl_variable" href="struct_coord3_d.html#a8553013d0fabd891803924a4df2c0a8d">z</a> -= obj-&gt;<a class="code hl_function" href="class_object.html#a479266462a8ceb0be975d351f259bfa4">getGeometryInfo</a>().<a class="code hl_function" href="class_geometry_info.html#a6981640d27eec0ed9cd10b0bed1ac828">getMaxHeightAbovePosition</a>() / 2; <span class="comment">// I kinda hate our logic/client split.  </span></div>
<div class="line"><a id="l01128" name="l01128"></a><span class="lineno"> 1128</span>            <span class="comment">//The point to fire from should be intrinsic to the turret, but in reality it is very slow to look it up.</span></div>
<div class="line"><a id="l01129" name="l01129"></a><span class="lineno"> 1129</span> </div>
<div class="line"><a id="l01130" name="l01130"></a><span class="lineno"> 1130</span>            <a class="code hl_typedef" href="_base_type_8h.html#ab685845059e8a2c92743427d9a698c70">Real</a> actualPitch;</div>
<div class="line"><a id="l01131" name="l01131"></a><span class="lineno"> 1131</span>            <span class="keywordflow">if</span>( v.<a class="code hl_function" href="struct_coord3_d.html#a795c89b1014410c81a1463f4e1a974af">length</a>() &gt; 0 )</div>
<div class="line"><a id="l01132" name="l01132"></a><span class="lineno"> 1132</span>                actualPitch = <a class="code hl_function" href="_trig_8cpp.html#ae81be8cc4eb67a66a24a91da659d330e">ASin</a>( v.<a class="code hl_variable" href="struct_coord3_d.html#a8553013d0fabd891803924a4df2c0a8d">z</a> / v.<a class="code hl_function" href="struct_coord3_d.html#a795c89b1014410c81a1463f4e1a974af">length</a>() ); </div>
<div class="line"><a id="l01133" name="l01133"></a><span class="lineno"> 1133</span>            <span class="keywordflow">else</span></div>
<div class="line"><a id="l01134" name="l01134"></a><span class="lineno"> 1134</span>                actualPitch = 0;<span class="comment">// Don&#39;t point at NAN, just point at 0 if they are right on us</span></div>
<div class="line"><a id="l01135" name="l01135"></a><span class="lineno"> 1135</span> </div>
<div class="line"><a id="l01136" name="l01136"></a><span class="lineno"> 1136</span>            desiredPitch = actualPitch;</div>
<div class="line"><a id="l01137" name="l01137"></a><span class="lineno"> 1137</span>            <span class="keywordflow">if</span>( desiredPitch &lt; turret-&gt;getMinPitch() )</div>
<div class="line"><a id="l01138" name="l01138"></a><span class="lineno"> 1138</span>            {</div>
<div class="line"><a id="l01139" name="l01139"></a><span class="lineno"> 1139</span>                desiredPitch = turret-&gt;<a class="code hl_function" href="class_turret_a_i.html#a0039a41b0c42eca38b383582bd5195eb">getMinPitch</a>();</div>
<div class="line"><a id="l01140" name="l01140"></a><span class="lineno"> 1140</span>            }</div>
<div class="line"><a id="l01141" name="l01141"></a><span class="lineno"> 1141</span>            <span class="keywordflow">if</span> (turret-&gt;<a class="code hl_function" href="class_turret_a_i.html#adb0c48853562697c940fab99627ecadb">getGroundUnitPitch</a>() &gt; 0) {</div>
<div class="line"><a id="l01142" name="l01142"></a><span class="lineno"> 1142</span>                <a class="code hl_typedef" href="_base_type_8h.html#a76a8b016e5ad61faf9062cc387df5016">Bool</a> adjust = <span class="keyword">false</span>;</div>
<div class="line"><a id="l01143" name="l01143"></a><span class="lineno"> 1143</span>                <span class="keywordflow">if</span> (!enemy) {</div>
<div class="line"><a id="l01144" name="l01144"></a><span class="lineno"> 1144</span>                    adjust = <span class="keyword">true</span>; <span class="comment">// adjust for ground targets.</span></div>
<div class="line"><a id="l01145" name="l01145"></a><span class="lineno"> 1145</span>                }</div>
<div class="line"><a id="l01146" name="l01146"></a><span class="lineno"> 1146</span>                <span class="keywordflow">if</span> (enemy &amp;&amp; enemy-&gt;<a class="code hl_function" href="class_thing.html#a7978985fe2e1e1b1b91bb822f62df5e9">isKindOf</a>(<a class="code hl_enumvalue" href="_kind_of_8h.html#a10872f4a2f419ad52b17492586d5a44ba6233ebfa55eca2ce51104aa269e7eeff">KINDOF_IMMOBILE</a>)) {</div>
<div class="line"><a id="l01147" name="l01147"></a><span class="lineno"> 1147</span>                    adjust = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01148" name="l01148"></a><span class="lineno"> 1148</span>                }</div>
<div class="line"><a id="l01149" name="l01149"></a><span class="lineno"> 1149</span>                <span class="keywordflow">if</span> (enemyAI &amp;&amp; enemyAI-&gt;<a class="code hl_function" href="class_a_i_update_interface.html#a434bf8fcc2bb15c3ccec02bf5b597cfd">isDoingGroundMovement</a>()) {</div>
<div class="line"><a id="l01150" name="l01150"></a><span class="lineno"> 1150</span>                    adjust = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01151" name="l01151"></a><span class="lineno"> 1151</span>                }</div>
<div class="line"><a id="l01152" name="l01152"></a><span class="lineno"> 1152</span>                <span class="keywordflow">if</span> (adjust) {</div>
<div class="line"><a id="l01153" name="l01153"></a><span class="lineno"> 1153</span>                    <a class="code hl_typedef" href="_base_type_8h.html#ab685845059e8a2c92743427d9a698c70">Real</a> range = curWeapon-&gt;<a class="code hl_function" href="class_weapon.html#a6e60fdd7d4cdd28a6d03149190d64457">getAttackRange</a>(obj);</div>
<div class="line"><a id="l01154" name="l01154"></a><span class="lineno"> 1154</span>                    <a class="code hl_typedef" href="_base_type_8h.html#ab685845059e8a2c92743427d9a698c70">Real</a> dist = v.<a class="code hl_function" href="struct_coord3_d.html#a795c89b1014410c81a1463f4e1a974af">length</a>();</div>
<div class="line"><a id="l01155" name="l01155"></a><span class="lineno"> 1155</span>                    <span class="keywordflow">if</span> (range&lt;1) range = 1; <span class="comment">// paranoia. jba.        </span></div>
<div class="line"><a id="l01156" name="l01156"></a><span class="lineno"> 1156</span>                    <span class="comment">// As the unit gets closer, reduce the pitch so we don&#39;t shoot over him.</span></div>
<div class="line"><a id="l01157" name="l01157"></a><span class="lineno"> 1157</span>                    <a class="code hl_typedef" href="_base_type_8h.html#ab685845059e8a2c92743427d9a698c70">Real</a> groundPitch = turret-&gt;<a class="code hl_function" href="class_turret_a_i.html#adb0c48853562697c940fab99627ecadb">getGroundUnitPitch</a>() * (dist/range);</div>
<div class="line"><a id="l01158" name="l01158"></a><span class="lineno"> 1158</span>                    desiredPitch = actualPitch+groundPitch;</div>
<div class="line"><a id="l01159" name="l01159"></a><span class="lineno"> 1159</span>                    <span class="keywordflow">if</span> (desiredPitch &lt; turret-&gt;getMinPitch()) {</div>
<div class="line"><a id="l01160" name="l01160"></a><span class="lineno"> 1160</span>                        desiredPitch = turret-&gt;<a class="code hl_function" href="class_turret_a_i.html#a0039a41b0c42eca38b383582bd5195eb">getMinPitch</a>();</div>
<div class="line"><a id="l01161" name="l01161"></a><span class="lineno"> 1161</span>                    }</div>
<div class="line"><a id="l01162" name="l01162"></a><span class="lineno"> 1162</span>                }</div>
<div class="line"><a id="l01163" name="l01163"></a><span class="lineno"> 1163</span>            }</div>
<div class="line"><a id="l01164" name="l01164"></a><span class="lineno"> 1164</span> </div>
<div class="line"><a id="l01165" name="l01165"></a><span class="lineno"> 1165</span>        }</div>
<div class="line"><a id="l01166" name="l01166"></a><span class="lineno"> 1166</span> </div>
<div class="line"><a id="l01167" name="l01167"></a><span class="lineno"> 1167</span>        pitchAlignedToNemesis = turret-&gt;<a class="code hl_function" href="class_turret_a_i.html#ae9db9e792e1b0e0a52ddc9cf16a95001">friend_turnTowardsPitch</a>(desiredPitch, 1.0f);</div>
<div class="line"><a id="l01168" name="l01168"></a><span class="lineno"> 1168</span>    }</div>
<div class="line"><a id="l01169" name="l01169"></a><span class="lineno"> 1169</span> </div>
<div class="line"><a id="l01170" name="l01170"></a><span class="lineno"> 1170</span>    <span class="comment">// For now, we require that we&#39;re within range before we can successfully exit the AIM state, </span></div>
<div class="line"><a id="l01171" name="l01171"></a><span class="lineno"> 1171</span>    <span class="comment">// and move into the FIRE state.</span></div>
<div class="line"><a id="l01172" name="l01172"></a><span class="lineno"> 1172</span>    <span class="keywordflow">if</span> (turnAlignedToNemesis &amp;&amp; pitchAlignedToNemesis &amp;&amp; </div>
<div class="line"><a id="l01173" name="l01173"></a><span class="lineno"> 1173</span>        ((enemyForDistanceCheckOnly &amp;&amp; curWeapon-&gt;<a class="code hl_function" href="class_weapon.html#a6da7f6ad978fdfbc78f9d475e029c10f">isWithinAttackRange</a>(obj, enemyForDistanceCheckOnly)) || </div>
<div class="line"><a id="l01174" name="l01174"></a><span class="lineno"> 1174</span>         (!enemyForDistanceCheckOnly &amp;&amp; curWeapon-&gt;<a class="code hl_function" href="class_weapon.html#a6da7f6ad978fdfbc78f9d475e029c10f">isWithinAttackRange</a>(obj, &amp;enemyPosition))))</div>
<div class="line"><a id="l01175" name="l01175"></a><span class="lineno"> 1175</span>    {</div>
<div class="line"><a id="l01176" name="l01176"></a><span class="lineno"> 1176</span><span class="preprocessor">#ifdef INTER_TURRET_DELAY</span></div>
<div class="line"><a id="l01177" name="l01177"></a><span class="lineno"> 1177</span>        <span class="keywordflow">if</span> (m_extraDelay &gt; 0)</div>
<div class="line"><a id="l01178" name="l01178"></a><span class="lineno"> 1178</span>        {</div>
<div class="line"><a id="l01179" name="l01179"></a><span class="lineno"> 1179</span>            --m_extraDelay;</div>
<div class="line"><a id="l01180" name="l01180"></a><span class="lineno"> 1180</span>        }</div>
<div class="line"><a id="l01181" name="l01181"></a><span class="lineno"> 1181</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l01182" name="l01182"></a><span class="lineno"> 1182</span>        {</div>
<div class="line"><a id="l01183" name="l01183"></a><span class="lineno"> 1183</span>            m_extraDelay = turret-&gt;friend_getInterTurretDelay();</div>
<div class="line"><a id="l01184" name="l01184"></a><span class="lineno"> 1184</span>            <span class="keywordflow">if</span> (m_extraDelay == <a class="code hl_variable" href="_turret_a_i_8cpp.html#a1dca90a55fc8696d5c02b886be43916f">WAIT_INDEFINITELY</a>)</div>
<div class="line"><a id="l01185" name="l01185"></a><span class="lineno"> 1185</span>            {</div>
<div class="line"><a id="l01186" name="l01186"></a><span class="lineno"> 1186</span>                m_extraDelay = 0;</div>
<div class="line"><a id="l01187" name="l01187"></a><span class="lineno"> 1187</span>                <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="_state_machine_8h.html#a85691a8a74800ef33464a702eb251d88aef9ef5d8f83fb758af6a2c17d558d503">STATE_CONTINUE</a>;</div>
<div class="line"><a id="l01188" name="l01188"></a><span class="lineno"> 1188</span>            }</div>
<div class="line"><a id="l01189" name="l01189"></a><span class="lineno"> 1189</span>        }</div>
<div class="line"><a id="l01190" name="l01190"></a><span class="lineno"> 1190</span>        <span class="keywordflow">if</span> (m_extraDelay != 0)</div>
<div class="line"><a id="l01191" name="l01191"></a><span class="lineno"> 1191</span>        {</div>
<div class="line"><a id="l01192" name="l01192"></a><span class="lineno"> 1192</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="_state_machine_8h.html#a85691a8a74800ef33464a702eb251d88aef9ef5d8f83fb758af6a2c17d558d503">STATE_CONTINUE</a>;</div>
<div class="line"><a id="l01193" name="l01193"></a><span class="lineno"> 1193</span>        }</div>
<div class="line"><a id="l01194" name="l01194"></a><span class="lineno"> 1194</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01195" name="l01195"></a><span class="lineno"> 1195</span>        <span class="keywordflow">if</span> (preventing || nothingInRange)</div>
<div class="line"><a id="l01196" name="l01196"></a><span class="lineno"> 1196</span>        {</div>
<div class="line"><a id="l01197" name="l01197"></a><span class="lineno"> 1197</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="_state_machine_8h.html#a85691a8a74800ef33464a702eb251d88aef9ef5d8f83fb758af6a2c17d558d503">STATE_CONTINUE</a>;</div>
<div class="line"><a id="l01198" name="l01198"></a><span class="lineno"> 1198</span>        }</div>
<div class="line"><a id="l01199" name="l01199"></a><span class="lineno"> 1199</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="_state_machine_8h.html#a85691a8a74800ef33464a702eb251d88a95fdd6b02cbc698e4bd1a4eafe1661ff">STATE_SUCCESS</a>;</div>
<div class="line"><a id="l01200" name="l01200"></a><span class="lineno"> 1200</span>    }</div>
<div class="line"><a id="l01201" name="l01201"></a><span class="lineno"> 1201</span> </div>
<div class="line"><a id="l01202" name="l01202"></a><span class="lineno"> 1202</span>    <span class="comment">// stay in aiming state until directed to do something else</span></div>
<div class="line"><a id="l01203" name="l01203"></a><span class="lineno"> 1203</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="_state_machine_8h.html#a85691a8a74800ef33464a702eb251d88aef9ef5d8f83fb758af6a2c17d558d503">STATE_CONTINUE</a>;</div>
<div class="line"><a id="l01204" name="l01204"></a><span class="lineno"> 1204</span>}</div>
</div>
<div class="line"><a id="l01205" name="l01205"></a><span class="lineno"> 1205</span> </div>
<div class="line"><a id="l01206" name="l01206"></a><span class="lineno"> 1206</span><span class="comment">//-------------------------------------------------------------------------------------------------</span></div>
<div class="foldopen" id="foldopen01207" data-start="{" data-end="}">
<div class="line"><a id="l01207" name="l01207"></a><span class="lineno"><a class="line" href="class_turret_a_i_aim_turret_state.html#a2f04b9dca6bbf080188885275b77f3df"> 1207</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="class_turret_a_i_aim_turret_state.html#a2f04b9dca6bbf080188885275b77f3df">TurretAIAimTurretState::onExit</a>( <a class="code hl_enumeration" href="_state_machine_8h.html#a282ec4feb42cb509634f088011b687b5">StateExitType</a> status )</div>
<div class="line"><a id="l01208" name="l01208"></a><span class="lineno"> 1208</span>{</div>
<div class="line"><a id="l01209" name="l01209"></a><span class="lineno"> 1209</span>}</div>
</div>
<div class="line"><a id="l01210" name="l01210"></a><span class="lineno"> 1210</span> </div>
<div class="line"><a id="l01211" name="l01211"></a><span class="lineno"> 1211</span><span class="comment">//-------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l01212" name="l01212"></a><span class="lineno"> 1212</span><span class="comment">//-------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l01213" name="l01213"></a><span class="lineno"> 1213</span><span class="comment">//-------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l01214" name="l01214"></a><span class="lineno"> 1214</span> </div>
<div class="line"><a id="l01215" name="l01215"></a><span class="lineno"> 1215</span><span class="comment">//----------------------------------------------------------------------------------------------------------</span></div>
<div class="foldopen" id="foldopen01216" data-start="{" data-end="}">
<div class="line"><a id="l01216" name="l01216"></a><span class="lineno"><a class="line" href="class_turret_a_i_recenter_turret_state.html#a109939f80d952659355adf3fed833092"> 1216</a></span><a class="code hl_enumeration" href="_state_machine_8h.html#a85691a8a74800ef33464a702eb251d88">StateReturnType</a> <a class="code hl_function" href="class_turret_a_i_recenter_turret_state.html#a109939f80d952659355adf3fed833092">TurretAIRecenterTurretState::onEnter</a>()</div>
<div class="line"><a id="l01217" name="l01217"></a><span class="lineno"> 1217</span>{</div>
<div class="line"><a id="l01218" name="l01218"></a><span class="lineno"> 1218</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="_state_machine_8h.html#a85691a8a74800ef33464a702eb251d88aef9ef5d8f83fb758af6a2c17d558d503">STATE_CONTINUE</a>;</div>
<div class="line"><a id="l01219" name="l01219"></a><span class="lineno"> 1219</span>}</div>
</div>
<div class="line"><a id="l01220" name="l01220"></a><span class="lineno"> 1220</span> </div>
<div class="line"><a id="l01221" name="l01221"></a><span class="lineno"> 1221</span><span class="comment">//-------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l01225" name="l01225"></a><span class="lineno"> 1225</span> </div>
<div class="foldopen" id="foldopen01226" data-start="{" data-end="}">
<div class="line"><a id="l01226" name="l01226"></a><span class="lineno"><a class="line" href="class_turret_a_i_recenter_turret_state.html#a32c25d7ea0fd0856cf6b7f24870c5a5b"> 1226</a></span><a class="code hl_enumeration" href="_state_machine_8h.html#a85691a8a74800ef33464a702eb251d88">StateReturnType</a> <a class="code hl_function" href="class_turret_a_i_recenter_turret_state.html#a32c25d7ea0fd0856cf6b7f24870c5a5b">TurretAIRecenterTurretState::update</a>()</div>
<div class="line"><a id="l01227" name="l01227"></a><span class="lineno"> 1227</span>{</div>
<div class="line"><a id="l01228" name="l01228"></a><span class="lineno"> 1228</span>    <span class="comment">//DEBUG_LOG((&quot;TurretAIRecenterTurretState frame %d: %08lx\n&quot;,TheGameLogic-&gt;getFrame(),getTurretAI()-&gt;getOwner()));</span></div>
<div class="line"><a id="l01229" name="l01229"></a><span class="lineno"> 1229</span> </div>
<div class="line"><a id="l01230" name="l01230"></a><span class="lineno"> 1230</span> </div>
<div class="line"><a id="l01231" name="l01231"></a><span class="lineno"> 1231</span>  <span class="keywordflow">if</span>( <a class="code hl_function" href="class_state.html#abd7940ecb1e1df8d9218e2e03d204fc0">getMachineOwner</a>()-&gt;testStatus( <a class="code hl_enumvalue" href="_object_status_types_8h.html#a582a0a1fdc9ebd748af0895c66e3e137ae5ead45142ec58439897171f94a8b54b">OBJECT_STATUS_UNDER_CONSTRUCTION</a>))</div>
<div class="line"><a id="l01232" name="l01232"></a><span class="lineno"> 1232</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="_state_machine_8h.html#a85691a8a74800ef33464a702eb251d88aef9ef5d8f83fb758af6a2c17d558d503">STATE_CONTINUE</a>;<span class="comment">//ML so that under-construction base-defenses do not re-center while under construction</span></div>
<div class="line"><a id="l01233" name="l01233"></a><span class="lineno"> 1233</span> </div>
<div class="line"><a id="l01234" name="l01234"></a><span class="lineno"> 1234</span> </div>
<div class="line"><a id="l01235" name="l01235"></a><span class="lineno"> 1235</span>    <a class="code hl_class" href="class_turret_a_i.html">TurretAI</a>* turret = <a class="code hl_function" href="class_turret_state.html#a97dd4a49c7bd787b784061142a7db8b6">getTurretAI</a>();</div>
<div class="line"><a id="l01236" name="l01236"></a><span class="lineno"> 1236</span>    <a class="code hl_typedef" href="_base_type_8h.html#a76a8b016e5ad61faf9062cc387df5016">Bool</a> angleAligned = turret-&gt;<a class="code hl_function" href="class_turret_a_i.html#a1b5c663dc277d8d6c3ac157ddd5c98cf">friend_turnTowardsAngle</a>(turret-&gt;<a class="code hl_function" href="class_turret_a_i.html#abf799c851a82533efc156fea27f43c04">getNaturalTurretAngle</a>(), 0.5f, 0.0f);</div>
<div class="line"><a id="l01237" name="l01237"></a><span class="lineno"> 1237</span>    <a class="code hl_typedef" href="_base_type_8h.html#a76a8b016e5ad61faf9062cc387df5016">Bool</a> pitchAligned = turret-&gt;<a class="code hl_function" href="class_turret_a_i.html#ae9db9e792e1b0e0a52ddc9cf16a95001">friend_turnTowardsPitch</a>(turret-&gt;<a class="code hl_function" href="class_turret_a_i.html#a6e0b4fdb66cb26910e8403fa86a128f5">getNaturalTurretPitch</a>(), 0.5f);</div>
<div class="line"><a id="l01238" name="l01238"></a><span class="lineno"> 1238</span> </div>
<div class="line"><a id="l01239" name="l01239"></a><span class="lineno"> 1239</span>    <span class="keywordflow">if</span>( angleAligned &amp;&amp; pitchAligned )</div>
<div class="line"><a id="l01240" name="l01240"></a><span class="lineno"> 1240</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="_state_machine_8h.html#a85691a8a74800ef33464a702eb251d88a95fdd6b02cbc698e4bd1a4eafe1661ff">STATE_SUCCESS</a>;</div>
<div class="line"><a id="l01241" name="l01241"></a><span class="lineno"> 1241</span> </div>
<div class="line"><a id="l01242" name="l01242"></a><span class="lineno"> 1242</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="_state_machine_8h.html#a85691a8a74800ef33464a702eb251d88aef9ef5d8f83fb758af6a2c17d558d503">STATE_CONTINUE</a>;</div>
<div class="line"><a id="l01243" name="l01243"></a><span class="lineno"> 1243</span>}</div>
</div>
<div class="line"><a id="l01244" name="l01244"></a><span class="lineno"> 1244</span> </div>
<div class="line"><a id="l01245" name="l01245"></a><span class="lineno"> 1245</span><span class="comment">//-------------------------------------------------------------------------------------------------</span></div>
<div class="foldopen" id="foldopen01249" data-start="{" data-end="}">
<div class="line"><a id="l01249" name="l01249"></a><span class="lineno"><a class="line" href="class_turret_a_i_recenter_turret_state.html#ade85b8da9b0022e59f54eb988a3e2377"> 1249</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="class_turret_a_i_recenter_turret_state.html#ade85b8da9b0022e59f54eb988a3e2377">TurretAIRecenterTurretState::onExit</a>( <a class="code hl_enumeration" href="_state_machine_8h.html#a282ec4feb42cb509634f088011b687b5">StateExitType</a> status )</div>
<div class="line"><a id="l01250" name="l01250"></a><span class="lineno"> 1250</span>{</div>
<div class="line"><a id="l01251" name="l01251"></a><span class="lineno"> 1251</span>}</div>
</div>
<div class="line"><a id="l01252" name="l01252"></a><span class="lineno"> 1252</span> </div>
<div class="line"><a id="l01253" name="l01253"></a><span class="lineno"> 1253</span><span class="comment">//----------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l01254" name="l01254"></a><span class="lineno"> 1254</span><span class="comment">//----------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l01255" name="l01255"></a><span class="lineno"> 1255</span><span class="comment">//----------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l01256" name="l01256"></a><span class="lineno"> 1256</span> </div>
<div class="line"><a id="l01257" name="l01257"></a><span class="lineno"> 1257</span><span class="comment">// ------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l01259" name="l01259"></a><span class="lineno"> 1259</span><span class="comment">// ------------------------------------------------------------------------------------------------</span></div>
<div class="foldopen" id="foldopen01260" data-start="{" data-end="}">
<div class="line"><a id="l01260" name="l01260"></a><span class="lineno"><a class="line" href="class_turret_a_i_idle_state.html#a73c8e6a452f723a543fcca80ba4e5054"> 1260</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="class_turret_a_i_idle_state.html#a73c8e6a452f723a543fcca80ba4e5054">TurretAIIdleState::crc</a>( <a class="code hl_class" href="class_xfer.html">Xfer</a> *<a class="code hl_function" href="class_turret_a_i_idle_state.html#a34408862e0952269f5ae1e50fbf169e6">xfer</a> )</div>
<div class="line"><a id="l01261" name="l01261"></a><span class="lineno"> 1261</span>{</div>
<div class="line"><a id="l01262" name="l01262"></a><span class="lineno"> 1262</span>}  <span class="comment">// end crc</span></div>
</div>
<div class="line"><a id="l01263" name="l01263"></a><span class="lineno"> 1263</span> </div>
<div class="line"><a id="l01264" name="l01264"></a><span class="lineno"> 1264</span><span class="comment">// ------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l01266" name="l01266"></a><span class="lineno"> 1266</span><span class="comment">// ------------------------------------------------------------------------------------------------</span></div>
<div class="foldopen" id="foldopen01267" data-start="{" data-end="}">
<div class="line"><a id="l01267" name="l01267"></a><span class="lineno"><a class="line" href="class_turret_a_i_idle_state.html#a34408862e0952269f5ae1e50fbf169e6"> 1267</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="class_turret_a_i_idle_state.html#a34408862e0952269f5ae1e50fbf169e6">TurretAIIdleState::xfer</a>( <a class="code hl_class" href="class_xfer.html">Xfer</a> *<a class="code hl_function" href="class_turret_a_i_idle_state.html#a34408862e0952269f5ae1e50fbf169e6">xfer</a> )</div>
<div class="line"><a id="l01268" name="l01268"></a><span class="lineno"> 1268</span>{</div>
<div class="line"><a id="l01269" name="l01269"></a><span class="lineno"> 1269</span>  <span class="comment">// version</span></div>
<div class="line"><a id="l01270" name="l01270"></a><span class="lineno"> 1270</span>  <a class="code hl_typedef" href="_xfer_8h.html#a5290038bf1e80fe9b1a9e415814ddc13">XferVersion</a> currentVersion = 1;</div>
<div class="line"><a id="l01271" name="l01271"></a><span class="lineno"> 1271</span>  <a class="code hl_typedef" href="_xfer_8h.html#a5290038bf1e80fe9b1a9e415814ddc13">XferVersion</a> version = currentVersion;</div>
<div class="line"><a id="l01272" name="l01272"></a><span class="lineno"> 1272</span>  <a class="code hl_function" href="class_turret_a_i_idle_state.html#a34408862e0952269f5ae1e50fbf169e6">xfer</a>-&gt;xferVersion( &amp;version, currentVersion );</div>
<div class="line"><a id="l01273" name="l01273"></a><span class="lineno"> 1273</span> </div>
<div class="line"><a id="l01274" name="l01274"></a><span class="lineno"> 1274</span>    <a class="code hl_function" href="class_turret_a_i_idle_state.html#a34408862e0952269f5ae1e50fbf169e6">xfer</a>-&gt;xferUnsignedInt(&amp;m_nextIdleScan);</div>
<div class="line"><a id="l01275" name="l01275"></a><span class="lineno"> 1275</span>}  <span class="comment">// end xfer</span></div>
</div>
<div class="line"><a id="l01276" name="l01276"></a><span class="lineno"> 1276</span> </div>
<div class="line"><a id="l01277" name="l01277"></a><span class="lineno"> 1277</span><span class="comment">// ------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l01279" name="l01279"></a><span class="lineno"> 1279</span><span class="comment">// ------------------------------------------------------------------------------------------------</span></div>
<div class="foldopen" id="foldopen01280" data-start="{" data-end="}">
<div class="line"><a id="l01280" name="l01280"></a><span class="lineno"><a class="line" href="class_turret_a_i_idle_state.html#a152aedf8bc3c1faa8e070024331b74d2"> 1280</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="class_turret_a_i_idle_state.html#a152aedf8bc3c1faa8e070024331b74d2">TurretAIIdleState::loadPostProcess</a>( <span class="keywordtype">void</span> )</div>
<div class="line"><a id="l01281" name="l01281"></a><span class="lineno"> 1281</span>{</div>
<div class="line"><a id="l01282" name="l01282"></a><span class="lineno"> 1282</span>}  <span class="comment">// end loadPostProcess</span></div>
</div>
<div class="line"><a id="l01283" name="l01283"></a><span class="lineno"> 1283</span> </div>
<div class="line"><a id="l01284" name="l01284"></a><span class="lineno"> 1284</span><span class="comment">//----------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l01285" name="l01285"></a><span class="lineno"> 1285</span><span class="keywordtype">void</span> TurretAIIdleState::resetIdleScan()</div>
<div class="line"><a id="l01286" name="l01286"></a><span class="lineno"> 1286</span>{</div>
<div class="line"><a id="l01287" name="l01287"></a><span class="lineno"> 1287</span>    <a class="code hl_typedef" href="_base_type_8h.html#accf2bdf590f4e906ebad9216ebb7c698">UnsignedInt</a> now = <a class="code hl_variable" href="_game_logic_8h.html#a9848d8d95263edf086306e6eb3d3c9bc">TheGameLogic</a>-&gt;getFrame();</div>
<div class="line"><a id="l01288" name="l01288"></a><span class="lineno"> 1288</span>    <a class="code hl_typedef" href="_base_type_8h.html#accf2bdf590f4e906ebad9216ebb7c698">UnsignedInt</a> delay = <a class="code hl_define" href="_logic_random_value_8h.html#a08fef680b145104e4eba32092fe8809b">GameLogicRandomValue</a>(<a class="code hl_function" href="class_turret_state.html#a97dd4a49c7bd787b784061142a7db8b6">getTurretAI</a>()-&gt;getMinIdleScanInterval(), <a class="code hl_function" href="class_turret_state.html#a97dd4a49c7bd787b784061142a7db8b6">getTurretAI</a>()-&gt;getMaxIdleScanInterval());</div>
<div class="line"><a id="l01289" name="l01289"></a><span class="lineno"> 1289</span>    m_nextIdleScan = now + delay;</div>
<div class="line"><a id="l01290" name="l01290"></a><span class="lineno"> 1290</span>}</div>
<div class="line"><a id="l01291" name="l01291"></a><span class="lineno"> 1291</span> </div>
<div class="line"><a id="l01292" name="l01292"></a><span class="lineno"> 1292</span><span class="comment">//----------------------------------------------------------------------------------------------------------</span></div>
<div class="foldopen" id="foldopen01293" data-start="{" data-end="}">
<div class="line"><a id="l01293" name="l01293"></a><span class="lineno"><a class="line" href="class_turret_a_i_idle_state.html#a97a0ecbe1adca77e08944c94c8ee2ad9"> 1293</a></span><a class="code hl_enumeration" href="_state_machine_8h.html#a85691a8a74800ef33464a702eb251d88">StateReturnType</a> <a class="code hl_function" href="class_turret_a_i_idle_state.html#a97a0ecbe1adca77e08944c94c8ee2ad9">TurretAIIdleState::onEnter</a>()</div>
<div class="line"><a id="l01294" name="l01294"></a><span class="lineno"> 1294</span>{</div>
<div class="line"><a id="l01295" name="l01295"></a><span class="lineno"> 1295</span>    <a class="code hl_class" href="class_a_i_update_interface.html">AIUpdateInterface</a> *ai = <a class="code hl_function" href="class_state.html#abd7940ecb1e1df8d9218e2e03d204fc0">getMachineOwner</a>()-&gt;<a class="code hl_function" href="class_object.html#ad67789da3db49c3827e5a2abf8fe68a0">getAIUpdateInterface</a>();</div>
<div class="line"><a id="l01296" name="l01296"></a><span class="lineno"> 1296</span>    <span class="keywordflow">if</span> (ai) </div>
<div class="line"><a id="l01297" name="l01297"></a><span class="lineno"> 1297</span>    {</div>
<div class="line"><a id="l01298" name="l01298"></a><span class="lineno"> 1298</span>        ai-&gt;<a class="code hl_function" href="class_a_i_update_interface.html#a082265a9db6050f165d908639109a62b">resetNextMoodCheckTime</a>();</div>
<div class="line"><a id="l01299" name="l01299"></a><span class="lineno"> 1299</span>        <span class="keywordflow">if</span> (ai-&gt;<a class="code hl_function" href="class_a_i_update_interface.html#ae1ba6f219bacdb670854ae4591c9facd">friend_getTurretSync</a>() == <a class="code hl_function" href="class_turret_state.html#a97dd4a49c7bd787b784061142a7db8b6">getTurretAI</a>()-&gt;friend_getWhichTurret())</div>
<div class="line"><a id="l01300" name="l01300"></a><span class="lineno"> 1300</span>            ai-&gt;<a class="code hl_function" href="class_a_i_update_interface.html#a6cdad474104f939c244e04e37cb09003">friend_setTurretSync</a>(<a class="code hl_enumvalue" href="_game_common_8h.html#a2c9fbc25cab9611d85ec37db5eaa5cfca7afaf0c608f85e182804c30115785c8b">TURRET_INVALID</a>);</div>
<div class="line"><a id="l01301" name="l01301"></a><span class="lineno"> 1301</span>    } <span class="comment">// ai doesn&#39;t exist if the object was just created this frame.</span></div>
<div class="line"><a id="l01302" name="l01302"></a><span class="lineno"> 1302</span>    </div>
<div class="line"><a id="l01303" name="l01303"></a><span class="lineno"> 1303</span>    resetIdleScan();</div>
<div class="line"><a id="l01304" name="l01304"></a><span class="lineno"> 1304</span> </div>
<div class="line"><a id="l01305" name="l01305"></a><span class="lineno"> 1305</span>    <a class="code hl_class" href="class_turret_a_i.html">TurretAI</a>* turret = <a class="code hl_function" href="class_turret_state.html#a97dd4a49c7bd787b784061142a7db8b6">getTurretAI</a>();</div>
<div class="line"><a id="l01306" name="l01306"></a><span class="lineno"> 1306</span>    <span class="keywordflow">return</span> frameToSleepTime(turret-&gt;<a class="code hl_function" href="class_turret_a_i.html#a32542db353d40f7e138c225a13b12da5">friend_getNextIdleMoodTargetFrame</a>(), m_nextIdleScan);</div>
<div class="line"><a id="l01307" name="l01307"></a><span class="lineno"> 1307</span>}</div>
</div>
<div class="line"><a id="l01308" name="l01308"></a><span class="lineno"> 1308</span> </div>
<div class="line"><a id="l01309" name="l01309"></a><span class="lineno"> 1309</span><span class="comment">//----------------------------------------------------------------------------------------------------------</span></div>
<div class="foldopen" id="foldopen01310" data-start="{" data-end="}">
<div class="line"><a id="l01310" name="l01310"></a><span class="lineno"><a class="line" href="class_turret_a_i_idle_state.html#ac9fb0f89599e632019729c9c0114543a"> 1310</a></span><a class="code hl_enumeration" href="_state_machine_8h.html#a85691a8a74800ef33464a702eb251d88">StateReturnType</a> <a class="code hl_function" href="class_turret_a_i_idle_state.html#ac9fb0f89599e632019729c9c0114543a">TurretAIIdleState::update</a>()</div>
<div class="line"><a id="l01311" name="l01311"></a><span class="lineno"> 1311</span>{</div>
<div class="line"><a id="l01312" name="l01312"></a><span class="lineno"> 1312</span>    <span class="comment">//DEBUG_LOG((&quot;TurretAIIdleState frame %d: %08lx\n&quot;,TheGameLogic-&gt;getFrame(),getTurretAI()-&gt;getOwner()));</span></div>
<div class="line"><a id="l01313" name="l01313"></a><span class="lineno"> 1313</span> </div>
<div class="line"><a id="l01314" name="l01314"></a><span class="lineno"> 1314</span>    <a class="code hl_typedef" href="_base_type_8h.html#accf2bdf590f4e906ebad9216ebb7c698">UnsignedInt</a> now = <a class="code hl_variable" href="_game_logic_8h.html#a9848d8d95263edf086306e6eb3d3c9bc">TheGameLogic</a>-&gt;getFrame();</div>
<div class="line"><a id="l01315" name="l01315"></a><span class="lineno"> 1315</span>    <span class="keywordflow">if</span> (now &gt;= m_nextIdleScan)</div>
<div class="line"><a id="l01316" name="l01316"></a><span class="lineno"> 1316</span>    {</div>
<div class="line"><a id="l01317" name="l01317"></a><span class="lineno"> 1317</span>        <span class="comment">// this is redundant, since we&#39;re exiting the state, and will reset </span></div>
<div class="line"><a id="l01318" name="l01318"></a><span class="lineno"> 1318</span>        <span class="comment">// it again in onEnter next time (srj)</span></div>
<div class="line"><a id="l01319" name="l01319"></a><span class="lineno"> 1319</span>        <span class="comment">// resetIdleScan();</span></div>
<div class="line"><a id="l01320" name="l01320"></a><span class="lineno"> 1320</span> </div>
<div class="line"><a id="l01321" name="l01321"></a><span class="lineno"> 1321</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="_state_machine_8h.html#a85691a8a74800ef33464a702eb251d88ad2792877a5254ceb07b53a001f8e9987">STATE_FAILURE</a>;</div>
<div class="line"><a id="l01322" name="l01322"></a><span class="lineno"> 1322</span>    }</div>
<div class="line"><a id="l01323" name="l01323"></a><span class="lineno"> 1323</span> </div>
<div class="line"><a id="l01324" name="l01324"></a><span class="lineno"> 1324</span>    <a class="code hl_class" href="class_turret_a_i.html">TurretAI</a>* turret = <a class="code hl_function" href="class_turret_state.html#a97dd4a49c7bd787b784061142a7db8b6">getTurretAI</a>();</div>
<div class="line"><a id="l01325" name="l01325"></a><span class="lineno"> 1325</span>    turret-&gt;<a class="code hl_function" href="class_turret_a_i.html#aa7c2a1cee790931324fc30f7ca0a75aa">friend_checkForIdleMoodTarget</a>();</div>
<div class="line"><a id="l01326" name="l01326"></a><span class="lineno"> 1326</span> </div>
<div class="line"><a id="l01327" name="l01327"></a><span class="lineno"> 1327</span>    <span class="keywordflow">return</span> frameToSleepTime(turret-&gt;<a class="code hl_function" href="class_turret_a_i.html#a32542db353d40f7e138c225a13b12da5">friend_getNextIdleMoodTargetFrame</a>(), m_nextIdleScan);</div>
<div class="line"><a id="l01328" name="l01328"></a><span class="lineno"> 1328</span>}</div>
</div>
<div class="line"><a id="l01329" name="l01329"></a><span class="lineno"> 1329</span> </div>
<div class="line"><a id="l01330" name="l01330"></a><span class="lineno"> 1330</span><span class="comment">//----------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l01331" name="l01331"></a><span class="lineno"> 1331</span><span class="comment">//----------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l01332" name="l01332"></a><span class="lineno"> 1332</span><span class="comment">//----------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l01333" name="l01333"></a><span class="lineno"> 1333</span> </div>
<div class="line"><a id="l01334" name="l01334"></a><span class="lineno"> 1334</span><span class="comment">// ------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l01336" name="l01336"></a><span class="lineno"> 1336</span><span class="comment">// ------------------------------------------------------------------------------------------------</span></div>
<div class="foldopen" id="foldopen01337" data-start="{" data-end="}">
<div class="line"><a id="l01337" name="l01337"></a><span class="lineno"><a class="line" href="class_turret_a_i_idle_scan_state.html#a67eb97b2dab28cd5e7aa76016da42670"> 1337</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="class_turret_a_i_idle_scan_state.html#a67eb97b2dab28cd5e7aa76016da42670">TurretAIIdleScanState::crc</a>( <a class="code hl_class" href="class_xfer.html">Xfer</a> *<a class="code hl_function" href="class_turret_a_i_idle_scan_state.html#a773c2dd88770e3a5df446e82f56ab1a6">xfer</a> )</div>
<div class="line"><a id="l01338" name="l01338"></a><span class="lineno"> 1338</span>{</div>
<div class="line"><a id="l01339" name="l01339"></a><span class="lineno"> 1339</span>}  <span class="comment">// end crc</span></div>
</div>
<div class="line"><a id="l01340" name="l01340"></a><span class="lineno"> 1340</span> </div>
<div class="line"><a id="l01341" name="l01341"></a><span class="lineno"> 1341</span><span class="comment">// ------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l01343" name="l01343"></a><span class="lineno"> 1343</span><span class="comment">// ------------------------------------------------------------------------------------------------</span></div>
<div class="foldopen" id="foldopen01344" data-start="{" data-end="}">
<div class="line"><a id="l01344" name="l01344"></a><span class="lineno"><a class="line" href="class_turret_a_i_idle_scan_state.html#a773c2dd88770e3a5df446e82f56ab1a6"> 1344</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="class_turret_a_i_idle_scan_state.html#a773c2dd88770e3a5df446e82f56ab1a6">TurretAIIdleScanState::xfer</a>( <a class="code hl_class" href="class_xfer.html">Xfer</a> *<a class="code hl_function" href="class_turret_a_i_idle_scan_state.html#a773c2dd88770e3a5df446e82f56ab1a6">xfer</a> )</div>
<div class="line"><a id="l01345" name="l01345"></a><span class="lineno"> 1345</span>{</div>
<div class="line"><a id="l01346" name="l01346"></a><span class="lineno"> 1346</span>  <span class="comment">// version</span></div>
<div class="line"><a id="l01347" name="l01347"></a><span class="lineno"> 1347</span>  <a class="code hl_typedef" href="_xfer_8h.html#a5290038bf1e80fe9b1a9e415814ddc13">XferVersion</a> currentVersion = 1;</div>
<div class="line"><a id="l01348" name="l01348"></a><span class="lineno"> 1348</span>  <a class="code hl_typedef" href="_xfer_8h.html#a5290038bf1e80fe9b1a9e415814ddc13">XferVersion</a> version = currentVersion;</div>
<div class="line"><a id="l01349" name="l01349"></a><span class="lineno"> 1349</span>  <a class="code hl_function" href="class_turret_a_i_idle_scan_state.html#a773c2dd88770e3a5df446e82f56ab1a6">xfer</a>-&gt;xferVersion( &amp;version, currentVersion );</div>
<div class="line"><a id="l01350" name="l01350"></a><span class="lineno"> 1350</span> </div>
<div class="line"><a id="l01351" name="l01351"></a><span class="lineno"> 1351</span>    <a class="code hl_function" href="class_turret_a_i_idle_scan_state.html#a773c2dd88770e3a5df446e82f56ab1a6">xfer</a>-&gt;xferReal(&amp;m_desiredAngle);</div>
<div class="line"><a id="l01352" name="l01352"></a><span class="lineno"> 1352</span>}  <span class="comment">// end xfer</span></div>
</div>
<div class="line"><a id="l01353" name="l01353"></a><span class="lineno"> 1353</span> </div>
<div class="line"><a id="l01354" name="l01354"></a><span class="lineno"> 1354</span><span class="comment">// ------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l01356" name="l01356"></a><span class="lineno"> 1356</span><span class="comment">// ------------------------------------------------------------------------------------------------</span></div>
<div class="foldopen" id="foldopen01357" data-start="{" data-end="}">
<div class="line"><a id="l01357" name="l01357"></a><span class="lineno"><a class="line" href="class_turret_a_i_idle_scan_state.html#af0c64d41b776d475851654049a08b75c"> 1357</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="class_turret_a_i_idle_scan_state.html#af0c64d41b776d475851654049a08b75c">TurretAIIdleScanState::loadPostProcess</a>( <span class="keywordtype">void</span> )</div>
<div class="line"><a id="l01358" name="l01358"></a><span class="lineno"> 1358</span>{</div>
<div class="line"><a id="l01359" name="l01359"></a><span class="lineno"> 1359</span>}  <span class="comment">// end loadPostProcess</span></div>
</div>
<div class="line"><a id="l01360" name="l01360"></a><span class="lineno"> 1360</span> </div>
<div class="line"><a id="l01361" name="l01361"></a><span class="lineno"> 1361</span><span class="comment">//----------------------------------------------------------------------------------------------------------</span></div>
<div class="foldopen" id="foldopen01362" data-start="{" data-end="}">
<div class="line"><a id="l01362" name="l01362"></a><span class="lineno"><a class="line" href="class_turret_a_i_idle_scan_state.html#a906db64d9921b0ba49d6501fe6706bdf"> 1362</a></span><a class="code hl_enumeration" href="_state_machine_8h.html#a85691a8a74800ef33464a702eb251d88">StateReturnType</a> <a class="code hl_function" href="class_turret_a_i_idle_scan_state.html#a906db64d9921b0ba49d6501fe6706bdf">TurretAIIdleScanState::onEnter</a>()</div>
<div class="line"><a id="l01363" name="l01363"></a><span class="lineno"> 1363</span>{</div>
<div class="line"><a id="l01364" name="l01364"></a><span class="lineno"> 1364</span>    <a class="code hl_typedef" href="_base_type_8h.html#ab685845059e8a2c92743427d9a698c70">Real</a> minA = <a class="code hl_function" href="class_turret_state.html#a97dd4a49c7bd787b784061142a7db8b6">getTurretAI</a>()-&gt;<a class="code hl_function" href="class_turret_a_i.html#a535929abd9f24f52db15e5ab79a017c9">getMinIdleScanAngle</a>();</div>
<div class="line"><a id="l01365" name="l01365"></a><span class="lineno"> 1365</span>    <a class="code hl_typedef" href="_base_type_8h.html#ab685845059e8a2c92743427d9a698c70">Real</a> maxA = <a class="code hl_function" href="class_turret_state.html#a97dd4a49c7bd787b784061142a7db8b6">getTurretAI</a>()-&gt;<a class="code hl_function" href="class_turret_a_i.html#a88a75fe1f82c4d88661e279ea476b49b">getMaxIdleScanAngle</a>();</div>
<div class="line"><a id="l01366" name="l01366"></a><span class="lineno"> 1366</span>    <span class="keywordflow">if</span> (minA == 0.0f &amp;&amp; maxA == 0.0f)</div>
<div class="line"><a id="l01367" name="l01367"></a><span class="lineno"> 1367</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="_state_machine_8h.html#a85691a8a74800ef33464a702eb251d88a95fdd6b02cbc698e4bd1a4eafe1661ff">STATE_SUCCESS</a>;</div>
<div class="line"><a id="l01368" name="l01368"></a><span class="lineno"> 1368</span> </div>
<div class="line"><a id="l01369" name="l01369"></a><span class="lineno"> 1369</span>    m_desiredAngle = minA + <a class="code hl_define" href="_logic_random_value_8h.html#a237de257a4f07273c0d3ea5f43fdc84b">GameLogicRandomValueReal</a>(0, maxA - minA);</div>
<div class="line"><a id="l01370" name="l01370"></a><span class="lineno"> 1370</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="_logic_random_value_8h.html#a08fef680b145104e4eba32092fe8809b">GameLogicRandomValue</a>( 0, 1 ) == 0)</div>
<div class="line"><a id="l01371" name="l01371"></a><span class="lineno"> 1371</span>        m_desiredAngle = -m_desiredAngle;</div>
<div class="line"><a id="l01372" name="l01372"></a><span class="lineno"> 1372</span> </div>
<div class="line"><a id="l01373" name="l01373"></a><span class="lineno"> 1373</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="_state_machine_8h.html#a85691a8a74800ef33464a702eb251d88aef9ef5d8f83fb758af6a2c17d558d503">STATE_CONTINUE</a>;</div>
<div class="line"><a id="l01374" name="l01374"></a><span class="lineno"> 1374</span>}</div>
</div>
<div class="line"><a id="l01375" name="l01375"></a><span class="lineno"> 1375</span> </div>
<div class="line"><a id="l01376" name="l01376"></a><span class="lineno"> 1376</span><span class="comment">//-------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l01380" name="l01380"></a><span class="lineno"> 1380</span> </div>
<div class="foldopen" id="foldopen01381" data-start="{" data-end="}">
<div class="line"><a id="l01381" name="l01381"></a><span class="lineno"><a class="line" href="class_turret_a_i_idle_scan_state.html#a2b317055ad47b0c9b602fdbc908e5c54"> 1381</a></span><a class="code hl_enumeration" href="_state_machine_8h.html#a85691a8a74800ef33464a702eb251d88">StateReturnType</a> <a class="code hl_function" href="class_turret_a_i_idle_scan_state.html#a2b317055ad47b0c9b602fdbc908e5c54">TurretAIIdleScanState::update</a>()</div>
<div class="line"><a id="l01382" name="l01382"></a><span class="lineno"> 1382</span>{</div>
<div class="line"><a id="l01383" name="l01383"></a><span class="lineno"> 1383</span>    <span class="comment">//DEBUG_LOG((&quot;TurretAIIdleScanState frame %d: %08lx\n&quot;,TheGameLogic-&gt;getFrame(),getTurretAI()-&gt;getOwner()));</span></div>
<div class="line"><a id="l01384" name="l01384"></a><span class="lineno"> 1384</span> </div>
<div class="line"><a id="l01385" name="l01385"></a><span class="lineno"> 1385</span>  <span class="keywordflow">if</span>( <a class="code hl_function" href="class_state.html#abd7940ecb1e1df8d9218e2e03d204fc0">getMachineOwner</a>()-&gt;testStatus( <a class="code hl_enumvalue" href="_object_status_types_8h.html#a582a0a1fdc9ebd748af0895c66e3e137ae5ead45142ec58439897171f94a8b54b">OBJECT_STATUS_UNDER_CONSTRUCTION</a>))</div>
<div class="line"><a id="l01386" name="l01386"></a><span class="lineno"> 1386</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="_state_machine_8h.html#a85691a8a74800ef33464a702eb251d88aef9ef5d8f83fb758af6a2c17d558d503">STATE_CONTINUE</a>;<span class="comment">//ML so that under-construction base-defenses do not idle-scan while under construction</span></div>
<div class="line"><a id="l01387" name="l01387"></a><span class="lineno"> 1387</span> </div>
<div class="line"><a id="l01388" name="l01388"></a><span class="lineno"> 1388</span>    <a class="code hl_typedef" href="_base_type_8h.html#a76a8b016e5ad61faf9062cc387df5016">Bool</a> angleAligned = <a class="code hl_function" href="class_turret_state.html#a97dd4a49c7bd787b784061142a7db8b6">getTurretAI</a>()-&gt;<a class="code hl_function" href="class_turret_a_i.html#a1b5c663dc277d8d6c3ac157ddd5c98cf">friend_turnTowardsAngle</a>(<a class="code hl_function" href="class_turret_state.html#a97dd4a49c7bd787b784061142a7db8b6">getTurretAI</a>()-&gt;getNaturalTurretAngle() + m_desiredAngle, 0.5f, 0.0f);</div>
<div class="line"><a id="l01389" name="l01389"></a><span class="lineno"> 1389</span>    <a class="code hl_typedef" href="_base_type_8h.html#a76a8b016e5ad61faf9062cc387df5016">Bool</a> pitchAligned = <a class="code hl_function" href="class_turret_state.html#a97dd4a49c7bd787b784061142a7db8b6">getTurretAI</a>()-&gt;<a class="code hl_function" href="class_turret_a_i.html#ae9db9e792e1b0e0a52ddc9cf16a95001">friend_turnTowardsPitch</a>(<a class="code hl_function" href="class_turret_state.html#a97dd4a49c7bd787b784061142a7db8b6">getTurretAI</a>()-&gt;getNaturalTurretPitch(), 0.5f);</div>
<div class="line"><a id="l01390" name="l01390"></a><span class="lineno"> 1390</span> </div>
<div class="line"><a id="l01391" name="l01391"></a><span class="lineno"> 1391</span>    <span class="keywordflow">if</span>( angleAligned &amp;&amp; pitchAligned )</div>
<div class="line"><a id="l01392" name="l01392"></a><span class="lineno"> 1392</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="_state_machine_8h.html#a85691a8a74800ef33464a702eb251d88a95fdd6b02cbc698e4bd1a4eafe1661ff">STATE_SUCCESS</a>;</div>
<div class="line"><a id="l01393" name="l01393"></a><span class="lineno"> 1393</span> </div>
<div class="line"><a id="l01394" name="l01394"></a><span class="lineno"> 1394</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="_state_machine_8h.html#a85691a8a74800ef33464a702eb251d88aef9ef5d8f83fb758af6a2c17d558d503">STATE_CONTINUE</a>;</div>
<div class="line"><a id="l01395" name="l01395"></a><span class="lineno"> 1395</span>}</div>
</div>
<div class="line"><a id="l01396" name="l01396"></a><span class="lineno"> 1396</span> </div>
<div class="line"><a id="l01397" name="l01397"></a><span class="lineno"> 1397</span><span class="comment">//-------------------------------------------------------------------------------------------------</span></div>
<div class="foldopen" id="foldopen01401" data-start="{" data-end="}">
<div class="line"><a id="l01401" name="l01401"></a><span class="lineno"><a class="line" href="class_turret_a_i_idle_scan_state.html#ae78e96385fb0dee09320eac1d8e04a2c"> 1401</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="class_turret_a_i_idle_scan_state.html#ae78e96385fb0dee09320eac1d8e04a2c">TurretAIIdleScanState::onExit</a>( <a class="code hl_enumeration" href="_state_machine_8h.html#a282ec4feb42cb509634f088011b687b5">StateExitType</a> status )</div>
<div class="line"><a id="l01402" name="l01402"></a><span class="lineno"> 1402</span>{</div>
<div class="line"><a id="l01403" name="l01403"></a><span class="lineno"> 1403</span>}</div>
</div>
<div class="line"><a id="l01404" name="l01404"></a><span class="lineno"> 1404</span> </div>
<div class="line"><a id="l01405" name="l01405"></a><span class="lineno"> 1405</span><span class="comment">//----------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l01406" name="l01406"></a><span class="lineno"> 1406</span><span class="comment">//----------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l01407" name="l01407"></a><span class="lineno"> 1407</span><span class="comment">//----------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l01408" name="l01408"></a><span class="lineno"> 1408</span> </div>
<div class="line"><a id="l01409" name="l01409"></a><span class="lineno"> 1409</span><span class="comment">// ------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l01411" name="l01411"></a><span class="lineno"> 1411</span><span class="comment">// ------------------------------------------------------------------------------------------------</span></div>
<div class="foldopen" id="foldopen01412" data-start="{" data-end="}">
<div class="line"><a id="l01412" name="l01412"></a><span class="lineno"><a class="line" href="class_turret_a_i_hold_turret_state.html#ad09f081124f5d7a09aa3fa9a7fc75815"> 1412</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="class_turret_a_i_hold_turret_state.html#ad09f081124f5d7a09aa3fa9a7fc75815">TurretAIHoldTurretState::crc</a>( <a class="code hl_class" href="class_xfer.html">Xfer</a> *<a class="code hl_function" href="class_turret_a_i_hold_turret_state.html#a59042109d129b63e771a798bc61b6bd6">xfer</a> )</div>
<div class="line"><a id="l01413" name="l01413"></a><span class="lineno"> 1413</span>{</div>
<div class="line"><a id="l01414" name="l01414"></a><span class="lineno"> 1414</span>}  <span class="comment">// end crc</span></div>
</div>
<div class="line"><a id="l01415" name="l01415"></a><span class="lineno"> 1415</span> </div>
<div class="line"><a id="l01416" name="l01416"></a><span class="lineno"> 1416</span><span class="comment">// ------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l01418" name="l01418"></a><span class="lineno"> 1418</span><span class="comment">// ------------------------------------------------------------------------------------------------</span></div>
<div class="foldopen" id="foldopen01419" data-start="{" data-end="}">
<div class="line"><a id="l01419" name="l01419"></a><span class="lineno"><a class="line" href="class_turret_a_i_hold_turret_state.html#a59042109d129b63e771a798bc61b6bd6"> 1419</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="class_turret_a_i_hold_turret_state.html#a59042109d129b63e771a798bc61b6bd6">TurretAIHoldTurretState::xfer</a>( <a class="code hl_class" href="class_xfer.html">Xfer</a> *<a class="code hl_function" href="class_turret_a_i_hold_turret_state.html#a59042109d129b63e771a798bc61b6bd6">xfer</a> )</div>
<div class="line"><a id="l01420" name="l01420"></a><span class="lineno"> 1420</span>{</div>
<div class="line"><a id="l01421" name="l01421"></a><span class="lineno"> 1421</span>  <span class="comment">// version</span></div>
<div class="line"><a id="l01422" name="l01422"></a><span class="lineno"> 1422</span>  <a class="code hl_typedef" href="_xfer_8h.html#a5290038bf1e80fe9b1a9e415814ddc13">XferVersion</a> currentVersion = 1;</div>
<div class="line"><a id="l01423" name="l01423"></a><span class="lineno"> 1423</span>  <a class="code hl_typedef" href="_xfer_8h.html#a5290038bf1e80fe9b1a9e415814ddc13">XferVersion</a> version = currentVersion;</div>
<div class="line"><a id="l01424" name="l01424"></a><span class="lineno"> 1424</span>  <a class="code hl_function" href="class_turret_a_i_hold_turret_state.html#a59042109d129b63e771a798bc61b6bd6">xfer</a>-&gt;xferVersion( &amp;version, currentVersion );</div>
<div class="line"><a id="l01425" name="l01425"></a><span class="lineno"> 1425</span> </div>
<div class="line"><a id="l01426" name="l01426"></a><span class="lineno"> 1426</span>    <a class="code hl_function" href="class_turret_a_i_hold_turret_state.html#a59042109d129b63e771a798bc61b6bd6">xfer</a>-&gt;xferUnsignedInt(&amp;m_timestamp);</div>
<div class="line"><a id="l01427" name="l01427"></a><span class="lineno"> 1427</span>}  <span class="comment">// end xfer</span></div>
</div>
<div class="line"><a id="l01428" name="l01428"></a><span class="lineno"> 1428</span> </div>
<div class="line"><a id="l01429" name="l01429"></a><span class="lineno"> 1429</span><span class="comment">// ------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l01431" name="l01431"></a><span class="lineno"> 1431</span><span class="comment">// ------------------------------------------------------------------------------------------------</span></div>
<div class="foldopen" id="foldopen01432" data-start="{" data-end="}">
<div class="line"><a id="l01432" name="l01432"></a><span class="lineno"><a class="line" href="class_turret_a_i_hold_turret_state.html#a385e75ecd1ce6e5d4429ffbc7ac5d79e"> 1432</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="class_turret_a_i_hold_turret_state.html#a385e75ecd1ce6e5d4429ffbc7ac5d79e">TurretAIHoldTurretState::loadPostProcess</a>( <span class="keywordtype">void</span> )</div>
<div class="line"><a id="l01433" name="l01433"></a><span class="lineno"> 1433</span>{</div>
<div class="line"><a id="l01434" name="l01434"></a><span class="lineno"> 1434</span>}  <span class="comment">// end loadPostProcess</span></div>
</div>
<div class="line"><a id="l01435" name="l01435"></a><span class="lineno"> 1435</span> </div>
<div class="line"><a id="l01436" name="l01436"></a><span class="lineno"> 1436</span><span class="comment">//----------------------------------------------------------------------------------------------------------</span></div>
<div class="foldopen" id="foldopen01437" data-start="{" data-end="}">
<div class="line"><a id="l01437" name="l01437"></a><span class="lineno"><a class="line" href="class_turret_a_i_hold_turret_state.html#a8655a85fdf4bda31afac071dd54b8cb3"> 1437</a></span><a class="code hl_enumeration" href="_state_machine_8h.html#a85691a8a74800ef33464a702eb251d88">StateReturnType</a> <a class="code hl_function" href="class_turret_a_i_hold_turret_state.html#a8655a85fdf4bda31afac071dd54b8cb3">TurretAIHoldTurretState::onEnter</a>()</div>
<div class="line"><a id="l01438" name="l01438"></a><span class="lineno"> 1438</span>{</div>
<div class="line"><a id="l01439" name="l01439"></a><span class="lineno"> 1439</span>    m_timestamp = <a class="code hl_variable" href="_game_logic_8h.html#a9848d8d95263edf086306e6eb3d3c9bc">TheGameLogic</a>-&gt;getFrame() + <a class="code hl_function" href="class_turret_state.html#a97dd4a49c7bd787b784061142a7db8b6">getTurretAI</a>()-&gt;<a class="code hl_function" href="class_turret_a_i.html#ab07bf95f1e024cfa289f329fb0d61059">getRecenterTime</a>();</div>
<div class="line"><a id="l01440" name="l01440"></a><span class="lineno"> 1440</span> </div>
<div class="line"><a id="l01441" name="l01441"></a><span class="lineno"> 1441</span>    <a class="code hl_class" href="class_turret_a_i.html">TurretAI</a>* turret = <a class="code hl_function" href="class_turret_state.html#a97dd4a49c7bd787b784061142a7db8b6">getTurretAI</a>();</div>
<div class="line"><a id="l01442" name="l01442"></a><span class="lineno"> 1442</span>    <span class="keywordflow">return</span> frameToSleepTime(turret-&gt;<a class="code hl_function" href="class_turret_a_i.html#a32542db353d40f7e138c225a13b12da5">friend_getNextIdleMoodTargetFrame</a>(), m_timestamp);</div>
<div class="line"><a id="l01443" name="l01443"></a><span class="lineno"> 1443</span>}</div>
</div>
<div class="line"><a id="l01444" name="l01444"></a><span class="lineno"> 1444</span> </div>
<div class="line"><a id="l01445" name="l01445"></a><span class="lineno"> 1445</span><span class="comment">//-------------------------------------------------------------------------------------------------</span></div>
<div class="foldopen" id="foldopen01446" data-start="{" data-end="}">
<div class="line"><a id="l01446" name="l01446"></a><span class="lineno"><a class="line" href="class_turret_a_i_hold_turret_state.html#af378c76249921586439f585524d175b4"> 1446</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="class_turret_a_i_hold_turret_state.html#af378c76249921586439f585524d175b4">TurretAIHoldTurretState::onExit</a>( <a class="code hl_enumeration" href="_state_machine_8h.html#a282ec4feb42cb509634f088011b687b5">StateExitType</a> status )</div>
<div class="line"><a id="l01447" name="l01447"></a><span class="lineno"> 1447</span>{</div>
<div class="line"><a id="l01448" name="l01448"></a><span class="lineno"> 1448</span>}</div>
</div>
<div class="line"><a id="l01449" name="l01449"></a><span class="lineno"> 1449</span> </div>
<div class="line"><a id="l01450" name="l01450"></a><span class="lineno"> 1450</span><span class="comment">//----------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l01454" name="l01454"></a><span class="lineno"> 1454</span> </div>
<div class="foldopen" id="foldopen01455" data-start="{" data-end="}">
<div class="line"><a id="l01455" name="l01455"></a><span class="lineno"><a class="line" href="class_turret_a_i_hold_turret_state.html#a5871041ad14ed36bf3bdc1532de41cb2"> 1455</a></span><a class="code hl_enumeration" href="_state_machine_8h.html#a85691a8a74800ef33464a702eb251d88">StateReturnType</a> <a class="code hl_function" href="class_turret_a_i_hold_turret_state.html#a5871041ad14ed36bf3bdc1532de41cb2">TurretAIHoldTurretState::update</a>()</div>
<div class="line"><a id="l01456" name="l01456"></a><span class="lineno"> 1456</span>{</div>
<div class="line"><a id="l01457" name="l01457"></a><span class="lineno"> 1457</span>    <span class="comment">//DEBUG_LOG((&quot;TurretAIHoldTurretState frame %d: %08lx\n&quot;,TheGameLogic-&gt;getFrame(),getTurretAI()-&gt;getOwner()));</span></div>
<div class="line"><a id="l01458" name="l01458"></a><span class="lineno"> 1458</span> </div>
<div class="line"><a id="l01459" name="l01459"></a><span class="lineno"> 1459</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="_game_logic_8h.html#a9848d8d95263edf086306e6eb3d3c9bc">TheGameLogic</a>-&gt;getFrame() &gt;= m_timestamp)</div>
<div class="line"><a id="l01460" name="l01460"></a><span class="lineno"> 1460</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="_state_machine_8h.html#a85691a8a74800ef33464a702eb251d88a95fdd6b02cbc698e4bd1a4eafe1661ff">STATE_SUCCESS</a>;</div>
<div class="line"><a id="l01461" name="l01461"></a><span class="lineno"> 1461</span> </div>
<div class="line"><a id="l01462" name="l01462"></a><span class="lineno"> 1462</span>    <a class="code hl_class" href="class_turret_a_i.html">TurretAI</a>* turret = <a class="code hl_function" href="class_turret_state.html#a97dd4a49c7bd787b784061142a7db8b6">getTurretAI</a>();</div>
<div class="line"><a id="l01463" name="l01463"></a><span class="lineno"> 1463</span>    turret-&gt;<a class="code hl_function" href="class_turret_a_i.html#aa7c2a1cee790931324fc30f7ca0a75aa">friend_checkForIdleMoodTarget</a>();</div>
<div class="line"><a id="l01464" name="l01464"></a><span class="lineno"> 1464</span> </div>
<div class="line"><a id="l01465" name="l01465"></a><span class="lineno"> 1465</span>    <span class="keywordflow">return</span> frameToSleepTime(turret-&gt;<a class="code hl_function" href="class_turret_a_i.html#a32542db353d40f7e138c225a13b12da5">friend_getNextIdleMoodTargetFrame</a>(), m_timestamp);</div>
<div class="line"><a id="l01466" name="l01466"></a><span class="lineno"> 1466</span>}</div>
</div>
<div class="ttc" id="a_a_i_state_machine_8h_html_acebbc97b19c340871ae15c5765948944"><div class="ttname"><a href="_a_i_state_machine_8h.html#acebbc97b19c340871ae15c5765948944">outOfWeaponRangeObject</a></div><div class="ttdeci">Bool outOfWeaponRangeObject(State *thisState, void *userData)</div><div class="ttdef"><b>Definition</b> <a href="_a_i_states_8cpp_source.html#l01103">AIStates.cpp:1103</a></div></div>
<div class="ttc" id="a_a_i_update_8h_html"><div class="ttname"><a href="_a_i_update_8h.html">AIUpdate.h</a></div></div>
<div class="ttc" id="a_a_i_update_8h_html_a1e4122c04754d47b9d2cb68d284078ecaca539312cfffb62faeaeb96f2eeaa7d6"><div class="ttname"><a href="_a_i_update_8h.html#a1e4122c04754d47b9d2cb68d284078ecaca539312cfffb62faeaeb96f2eeaa7d6">MAA_Affect_Range_IgnoreAll</a></div><div class="ttdeci">@ MAA_Affect_Range_IgnoreAll</div><div class="ttdef"><b>Definition</b> <a href="_a_i_update_8h_source.html#l00179">AIUpdate.h:179</a></div></div>
<div class="ttc" id="a_a_i_update_8h_html_a24c30b3634f983cb25dae485927e111ea180ad7d0ede525b45fa3648ece7d84eb"><div class="ttname"><a href="_a_i_update_8h.html#a24c30b3634f983cb25dae485927e111ea180ad7d0ede525b45fa3648ece7d84eb">MM_Action_Idle</a></div><div class="ttdeci">@ MM_Action_Idle</div><div class="ttdef"><b>Definition</b> <a href="_a_i_update_8h_source.html#l00165">AIUpdate.h:165</a></div></div>
<div class="ttc" id="a_base_type_8h_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="_base_type_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition</b> <a href="_base_type_8h_source.html#l00092">BaseType.h:92</a></div></div>
<div class="ttc" id="a_base_type_8h_html_a76a8b016e5ad61faf9062cc387df5016"><div class="ttname"><a href="_base_type_8h.html#a76a8b016e5ad61faf9062cc387df5016">Bool</a></div><div class="ttdeci">bool Bool</div><div class="ttdef"><b>Definition</b> <a href="_base_type_8h_source.html#l00132">BaseType.h:132</a></div></div>
<div class="ttc" id="a_base_type_8h_html_a7cc214a236ad3bb6ad435bdcf5262a3f"><div class="ttname"><a href="_base_type_8h.html#a7cc214a236ad3bb6ad435bdcf5262a3f">Int</a></div><div class="ttdeci">int Int</div><div class="ttdoc">Signed integer value.</div><div class="ttdef"><b>Definition</b> <a href="_base_type_8h_source.html#l00125">BaseType.h:125</a></div></div>
<div class="ttc" id="a_base_type_8h_html_aa8cecfc5c5c054d2875c03e77b7be15d"><div class="ttname"><a href="_base_type_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a></div><div class="ttdeci">#define TRUE</div><div class="ttdef"><b>Definition</b> <a href="_base_type_8h_source.html#l00109">BaseType.h:109</a></div></div>
<div class="ttc" id="a_base_type_8h_html_aa93f0eb578d23995850d61f7d61c55c1"><div class="ttname"><a href="_base_type_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a></div><div class="ttdeci">#define FALSE</div><div class="ttdef"><b>Definition</b> <a href="_base_type_8h_source.html#l00113">BaseType.h:113</a></div></div>
<div class="ttc" id="a_base_type_8h_html_ab685845059e8a2c92743427d9a698c70"><div class="ttname"><a href="_base_type_8h.html#ab685845059e8a2c92743427d9a698c70">Real</a></div><div class="ttdeci">float Real</div><div class="ttdef"><b>Definition</b> <a href="_base_type_8h_source.html#l00124">BaseType.h:124</a></div></div>
<div class="ttc" id="a_base_type_8h_html_accf2bdf590f4e906ebad9216ebb7c698"><div class="ttname"><a href="_base_type_8h.html#accf2bdf590f4e906ebad9216ebb7c698">UnsignedInt</a></div><div class="ttdeci">unsigned int UnsignedInt</div><div class="ttdef"><b>Definition</b> <a href="_base_type_8h_source.html#l00126">BaseType.h:126</a></div></div>
<div class="ttc" id="a_game_audio_8h_html"><div class="ttname"><a href="_game_audio_8h.html">GameAudio.h</a></div></div>
<div class="ttc" id="a_game_audio_8h_html_ac281ccd51f88bbbdc3fef71d1216227a"><div class="ttname"><a href="_game_audio_8h.html#ac281ccd51f88bbbdc3fef71d1216227a">TheAudio</a></div><div class="ttdeci">AudioManager * TheAudio</div><div class="ttdef"><b>Definition</b> <a href="_game_audio_8cpp_source.html#l00143">GameAudio.cpp:143</a></div></div>
<div class="ttc" id="a_game_common_8h_html_a22e8b92ca6bc75108f7e33ad51c7223ea8b86c845e38c077ca4161aff0774d1ef"><div class="ttname"><a href="_game_common_8h.html#a22e8b92ca6bc75108f7e33ad51c7223ea8b86c845e38c077ca4161aff0774d1ef">ATTACK_CONTINUED_TARGET_FORCED</a></div><div class="ttdeci">@ ATTACK_CONTINUED_TARGET_FORCED</div><div class="ttdef"><b>Definition</b> <a href="_game_common_8h_source.html#l00267">GameCommon.h:267</a></div></div>
<div class="ttc" id="a_game_common_8h_html_a22e8b92ca6bc75108f7e33ad51c7223eac8ba1ae50ecd78b2a65e4f3ba7387f7b"><div class="ttname"><a href="_game_common_8h.html#a22e8b92ca6bc75108f7e33ad51c7223eac8ba1ae50ecd78b2a65e4f3ba7387f7b">ATTACK_CONTINUED_TARGET</a></div><div class="ttdeci">@ ATTACK_CONTINUED_TARGET</div><div class="ttdef"><b>Definition</b> <a href="_game_common_8h_source.html#l00260">GameCommon.h:260</a></div></div>
<div class="ttc" id="a_game_common_8h_html_a2c9fbc25cab9611d85ec37db5eaa5cfc"><div class="ttname"><a href="_game_common_8h.html#a2c9fbc25cab9611d85ec37db5eaa5cfc">WhichTurretType</a></div><div class="ttdeci">WhichTurretType</div><div class="ttdef"><b>Definition</b> <a href="_game_common_8h_source.html#l00475">GameCommon.h:476</a></div></div>
<div class="ttc" id="a_game_common_8h_html_a2c9fbc25cab9611d85ec37db5eaa5cfca7afaf0c608f85e182804c30115785c8b"><div class="ttname"><a href="_game_common_8h.html#a2c9fbc25cab9611d85ec37db5eaa5cfca7afaf0c608f85e182804c30115785c8b">TURRET_INVALID</a></div><div class="ttdeci">@ TURRET_INVALID</div><div class="ttdef"><b>Definition</b> <a href="_game_common_8h_source.html#l00477">GameCommon.h:477</a></div></div>
<div class="ttc" id="a_game_common_8h_html_a6b82567dea14f55d2df66aece04b0510"><div class="ttname"><a href="_game_common_8h.html#a6b82567dea14f55d2df66aece04b0510">normalizeAngle</a></div><div class="ttdeci">Real normalizeAngle(Real angle)</div><div class="ttdef"><b>Definition</b> <a href="_game_common_8cpp_source.html#l00051">GameCommon.cpp:51</a></div></div>
<div class="ttc" id="a_game_common_8h_html_a80a13150ed5e8a5acfef387fd7fe43d6aa4c97af6efe4ef2a094b708ab7bac3d8"><div class="ttname"><a href="_game_common_8h.html#a80a13150ed5e8a5acfef387fd7fe43d6aa4c97af6efe4ef2a094b708ab7bac3d8">CMD_FROM_AI</a></div><div class="ttdeci">@ CMD_FROM_AI</div><div class="ttdef"><b>Definition</b> <a href="_game_common_8h_source.html#l00230">GameCommon.h:230</a></div></div>
<div class="ttc" id="a_game_common_8h_html_ae64879c915ec257e60e00046545e49e3a207c32b6a70af113abeaaf13f20f3623"><div class="ttname"><a href="_game_common_8h.html#ae64879c915ec257e60e00046545e49e3a207c32b6a70af113abeaaf13f20f3623">FOREVER</a></div><div class="ttdeci">@ FOREVER</div><div class="ttdef"><b>Definition</b> <a href="_game_common_8h_source.html#l00196">GameCommon.h:196</a></div></div>
<div class="ttc" id="a_game_common_8h_html_af11049d73d1907c0b187aab60365be0da4a9e0097d7d7fe0c18f7beceb60e3d8f"><div class="ttname"><a href="_game_common_8h.html#af11049d73d1907c0b187aab60365be0da4a9e0097d7d7fe0c18f7beceb60e3d8f">LOGICFRAMES_PER_SECOND</a></div><div class="ttdeci">@ LOGICFRAMES_PER_SECOND</div><div class="ttdef"><b>Definition</b> <a href="_game_common_8h_source.html#l00072">GameCommon.h:72</a></div></div>
<div class="ttc" id="a_game_engine_2_include_2_common_2_debug_8h_html_a13364d3761c832c4d537af00a7fdc933"><div class="ttname"><a href="_game_engine_2_include_2_common_2_debug_8h.html#a13364d3761c832c4d537af00a7fdc933">DEBUG_ASSERTCRASH</a></div><div class="ttdeci">#define DEBUG_ASSERTCRASH(c, m)</div><div class="ttdef"><b>Definition</b> <a href="_game_engine_2_include_2_common_2_debug_8h_source.html#l00193">Debug.h:193</a></div></div>
<div class="ttc" id="a_game_engine_2_include_2_common_2_debug_8h_html_ae61da6cb696f996c3bd4b129ce9407f6"><div class="ttname"><a href="_game_engine_2_include_2_common_2_debug_8h.html#ae61da6cb696f996c3bd4b129ce9407f6">DEBUG_CRASH</a></div><div class="ttdeci">#define DEBUG_CRASH(m)</div><div class="ttdef"><b>Definition</b> <a href="_game_engine_2_include_2_common_2_debug_8h_source.html#l00192">Debug.h:192</a></div></div>
<div class="ttc" id="a_game_engine_2_include_2_common_2_i_n_i_8h_html_a410a4da918cef9f9a2940ef84c075d08a25eba6f61542417a0ba17b3f377a8c3d"><div class="ttname"><a href="_game_engine_2_include_2_common_2_i_n_i_8h.html#a410a4da918cef9f9a2940ef84c075d08a25eba6f61542417a0ba17b3f377a8c3d">INI_INVALID_DATA</a></div><div class="ttdeci">@ INI_INVALID_DATA</div><div class="ttdef"><b>Definition</b> <a href="_game_engine_2_include_2_common_2_i_n_i_8h_source.html#l00079">INI.h:79</a></div></div>
<div class="ttc" id="a_game_logic_8h_html"><div class="ttname"><a href="_game_logic_8h.html">GameLogic.h</a></div></div>
<div class="ttc" id="a_game_logic_8h_html_a9848d8d95263edf086306e6eb3d3c9bc"><div class="ttname"><a href="_game_logic_8h.html#a9848d8d95263edf086306e6eb3d3c9bc">TheGameLogic</a></div><div class="ttdeci">GameLogic * TheGameLogic</div><div class="ttdoc">The GameLogic singleton instance.</div><div class="ttdef"><b>Definition</b> <a href="_game_logic_8cpp_source.html#l00146">GameLogic.cpp:146</a></div></div>
<div class="ttc" id="a_game_memory_8h_html_a35fee562c05ae9f944ce2568013ea71c"><div class="ttname"><a href="_game_memory_8h.html#a35fee562c05ae9f944ce2568013ea71c">newInstance</a></div><div class="ttdeci">#define newInstance(ARGCLASS)</div><div class="ttdef"><b>Definition</b> <a href="_game_memory_8h_source.html#l00204">GameMemory.h:204</a></div></div>
<div class="ttc" id="a_game_type_8h_html_a2af9bbdf6271d34dfabc5309aa88d79d"><div class="ttname"><a href="_game_type_8h.html#a2af9bbdf6271d34dfabc5309aa88d79d">WeaponSlotType</a></div><div class="ttdeci">WeaponSlotType</div><div class="ttdef"><b>Definition</b> <a href="_game_type_8h_source.html#l00173">GameType.h:174</a></div></div>
<div class="ttc" id="a_game_type_8h_html_a2af9bbdf6271d34dfabc5309aa88d79da97671b12829da5738fb4b7cbee5bcc9a"><div class="ttname"><a href="_game_type_8h.html#a2af9bbdf6271d34dfabc5309aa88d79da97671b12829da5738fb4b7cbee5bcc9a">WEAPONSLOT_COUNT</a></div><div class="ttdeci">@ WEAPONSLOT_COUNT</div><div class="ttdef"><b>Definition</b> <a href="_game_type_8h_source.html#l00179">GameType.h:179</a></div></div>
<div class="ttc" id="a_kind_of_8h_html_a10872f4a2f419ad52b17492586d5a44ba2351603429c1853dd6f9e98bca45bc6e"><div class="ttname"><a href="_kind_of_8h.html#a10872f4a2f419ad52b17492586d5a44ba2351603429c1853dd6f9e98bca45bc6e">KINDOF_BRIDGE</a></div><div class="ttdeci">@ KINDOF_BRIDGE</div><div class="ttdoc">a Bridge. (special structure)</div><div class="ttdef"><b>Definition</b> <a href="_kind_of_8h_source.html#l00072">KindOf.h:72</a></div></div>
<div class="ttc" id="a_kind_of_8h_html_a10872f4a2f419ad52b17492586d5a44ba6233ebfa55eca2ce51104aa269e7eeff"><div class="ttname"><a href="_kind_of_8h.html#a10872f4a2f419ad52b17492586d5a44ba6233ebfa55eca2ce51104aa269e7eeff">KINDOF_IMMOBILE</a></div><div class="ttdeci">@ KINDOF_IMMOBILE</div><div class="ttdoc">fixed in location</div><div class="ttdef"><b>Definition</b> <a href="_kind_of_8h_source.html#l00050">KindOf.h:50</a></div></div>
<div class="ttc" id="a_libraries_2_source_2_w_w_vegas_2_w_w_lib_2bool_8h_html_a011946b124a753ca9e73d13b435f839ba08f175a5505a10b9ed657defeb050e4b"><div class="ttname"><a href="_libraries_2_source_2_w_w_vegas_2_w_w_lib_2bool_8h.html#a011946b124a753ca9e73d13b435f839ba08f175a5505a10b9ed657defeb050e4b">true</a></div><div class="ttdeci">@ true</div><div class="ttdef"><b>Definition</b> <a href="_libraries_2_source_2_w_w_vegas_2_w_w_lib_2bool_8h_source.html#l00059">bool.h:59</a></div></div>
<div class="ttc" id="a_libraries_2_source_2_w_w_vegas_2_w_w_lib_2bool_8h_html_a011946b124a753ca9e73d13b435f839bae9de385ef6fe9bf3360d1038396b884c"><div class="ttname"><a href="_libraries_2_source_2_w_w_vegas_2_w_w_lib_2bool_8h.html#a011946b124a753ca9e73d13b435f839bae9de385ef6fe9bf3360d1038396b884c">false</a></div><div class="ttdeci">@ false</div><div class="ttdef"><b>Definition</b> <a href="_libraries_2_source_2_w_w_vegas_2_w_w_lib_2bool_8h_source.html#l00059">bool.h:59</a></div></div>
<div class="ttc" id="a_logic_random_value_8h_html_a08fef680b145104e4eba32092fe8809b"><div class="ttname"><a href="_logic_random_value_8h.html#a08fef680b145104e4eba32092fe8809b">GameLogicRandomValue</a></div><div class="ttdeci">#define GameLogicRandomValue(lo, hi)</div><div class="ttdef"><b>Definition</b> <a href="_logic_random_value_8h_source.html#l00042">LogicRandomValue.h:42</a></div></div>
<div class="ttc" id="a_logic_random_value_8h_html_a237de257a4f07273c0d3ea5f43fdc84b"><div class="ttname"><a href="_logic_random_value_8h.html#a237de257a4f07273c0d3ea5f43fdc84b">GameLogicRandomValueReal</a></div><div class="ttdeci">#define GameLogicRandomValueReal(lo, hi)</div><div class="ttdef"><b>Definition</b> <a href="_logic_random_value_8h_source.html#l00043">LogicRandomValue.h:43</a></div></div>
<div class="ttc" id="a_model_state_8h_html_a2c78cbe4d626a2139abc7dd87833d435a0a8a342d9c160c78993549dd9eff8579"><div class="ttname"><a href="_model_state_8h.html#a2c78cbe4d626a2139abc7dd87833d435a0a8a342d9c160c78993549dd9eff8579">MODELCONDITION_TURRET_ROTATE</a></div><div class="ttdeci">@ MODELCONDITION_TURRET_ROTATE</div><div class="ttdef"><b>Definition</b> <a href="_model_state_8h_source.html#l00150">ModelState.h:150</a></div></div>
<div class="ttc" id="a_object_8h_html"><div class="ttname"><a href="_object_8h.html">Object.h</a></div></div>
<div class="ttc" id="a_object_status_types_8h_html_a582a0a1fdc9ebd748af0895c66e3e137ae5ead45142ec58439897171f94a8b54b"><div class="ttname"><a href="_object_status_types_8h.html#a582a0a1fdc9ebd748af0895c66e3e137ae5ead45142ec58439897171f94a8b54b">OBJECT_STATUS_UNDER_CONSTRUCTION</a></div><div class="ttdeci">@ OBJECT_STATUS_UNDER_CONSTRUCTION</div><div class="ttdoc">object is being constructed and is not yet complete</div><div class="ttdef"><b>Definition</b> <a href="_object_status_types_8h_source.html#l00050">ObjectStatusTypes.h:50</a></div></div>
<div class="ttc" id="a_partition_manager_8h_html"><div class="ttname"><a href="_partition_manager_8h.html">PartitionManager.h</a></div></div>
<div class="ttc" id="a_partition_manager_8h_html_a2e6ec3d40f55e0e956ddef5d9896d822a0e8bedeb62225b97a8ee87e55ee941c4"><div class="ttname"><a href="_partition_manager_8h.html#a2e6ec3d40f55e0e956ddef5d9896d822a0e8bedeb62225b97a8ee87e55ee941c4">FROM_BOUNDINGSPHERE_3D</a></div><div class="ttdeci">@ FROM_BOUNDINGSPHERE_3D</div><div class="ttdoc">measure from Object bounding sphere in 3d.</div><div class="ttdef"><b>Definition</b> <a href="_partition_manager_8h_source.html#l00158">PartitionManager.h:158</a></div></div>
<div class="ttc" id="a_partition_manager_8h_html_a2e6ec3d40f55e0e956ddef5d9896d822a6af14b0a580af5465bc17920b8a65f89"><div class="ttname"><a href="_partition_manager_8h.html#a2e6ec3d40f55e0e956ddef5d9896d822a6af14b0a580af5465bc17920b8a65f89">FROM_CENTER_3D</a></div><div class="ttdeci">@ FROM_CENTER_3D</div><div class="ttdoc">measure from Object center in 3d.</div><div class="ttdef"><b>Definition</b> <a href="_partition_manager_8h_source.html#l00156">PartitionManager.h:156</a></div></div>
<div class="ttc" id="a_partition_manager_8h_html_a66c9e7cf318215602c669733b3c73a42"><div class="ttname"><a href="_partition_manager_8h.html#a66c9e7cf318215602c669733b3c73a42">ThePartitionManager</a></div><div class="ttdeci">PartitionManager * ThePartitionManager</div><div class="ttdoc">object manager singleton</div><div class="ttdef"><b>Definition</b> <a href="_partition_manager_8cpp_source.html#l00976">PartitionManager.cpp:976</a></div></div>
<div class="ttc" id="a_perf_timer_8h_html"><div class="ttname"><a href="_perf_timer_8h.html">PerfTimer.h</a></div></div>
<div class="ttc" id="a_perf_timer_8h_html_a7d02d33334b68a982bf218d69c748d08"><div class="ttname"><a href="_perf_timer_8h.html#a7d02d33334b68a982bf218d69c748d08">DECLARE_PERF_TIMER</a></div><div class="ttdeci">#define DECLARE_PERF_TIMER(id)</div><div class="ttdef"><b>Definition</b> <a href="_perf_timer_8h_source.html#l00325">PerfTimer.h:325</a></div></div>
<div class="ttc" id="a_perf_timer_8h_html_ad68ab3b473763dd774c368adee36e9a7"><div class="ttname"><a href="_perf_timer_8h.html#ad68ab3b473763dd774c368adee36e9a7">USE_PERF_TIMER</a></div><div class="ttdeci">#define USE_PERF_TIMER(id)</div><div class="ttdef"><b>Definition</b> <a href="_perf_timer_8h_source.html#l00327">PerfTimer.h:327</a></div></div>
<div class="ttc" id="a_pre_r_t_s_8h_html"><div class="ttname"><a href="_pre_r_t_s_8h.html">PreRTS.h</a></div></div>
<div class="ttc" id="a_random_value_8h_html"><div class="ttname"><a href="_random_value_8h.html">RandomValue.h</a></div></div>
<div class="ttc" id="a_state_machine_8h_html_a1dbbb7d81a8f9ec3f1c9bb1cd3a87ca8"><div class="ttname"><a href="_state_machine_8h.html#a1dbbb7d81a8f9ec3f1c9bb1cd3a87ca8">IS_STATE_SLEEP</a></div><div class="ttdeci">#define IS_STATE_SLEEP(ret)</div><div class="ttdef"><b>Definition</b> <a href="_state_machine_8h_source.html#l00077">StateMachine.h:77</a></div></div>
<div class="ttc" id="a_state_machine_8h_html_a20015a8b61ce0c2130e9a350ed51455c"><div class="ttname"><a href="_state_machine_8h.html#a20015a8b61ce0c2130e9a350ed51455c">GET_STATE_SLEEP_FRAMES</a></div><div class="ttdeci">#define GET_STATE_SLEEP_FRAMES(ret)</div><div class="ttdef"><b>Definition</b> <a href="_state_machine_8h_source.html#l00078">StateMachine.h:78</a></div></div>
<div class="ttc" id="a_state_machine_8h_html_a282ec4feb42cb509634f088011b687b5"><div class="ttname"><a href="_state_machine_8h.html#a282ec4feb42cb509634f088011b687b5">StateExitType</a></div><div class="ttdeci">StateExitType</div><div class="ttdef"><b>Definition</b> <a href="_state_machine_8h_source.html#l00123">StateMachine.h:124</a></div></div>
<div class="ttc" id="a_state_machine_8h_html_a37b00be2b3ee5a67ce99c481782c08c0"><div class="ttname"><a href="_state_machine_8h.html#a37b00be2b3ee5a67ce99c481782c08c0">STATE_SLEEP</a></div><div class="ttdeci">#define STATE_SLEEP(numFrames)</div><div class="ttdef"><b>Definition</b> <a href="_state_machine_8h_source.html#l00076">StateMachine.h:76</a></div></div>
<div class="ttc" id="a_state_machine_8h_html_a4bd6775b86fc5314e85adf86ec549b8d"><div class="ttname"><a href="_state_machine_8h.html#a4bd6775b86fc5314e85adf86ec549b8d">StateID</a></div><div class="ttdeci">UnsignedInt StateID</div><div class="ttdoc">used to denote individual states</div><div class="ttdef"><b>Definition</b> <a href="_state_machine_8h_source.html#l00061">StateMachine.h:61</a></div></div>
<div class="ttc" id="a_state_machine_8h_html_a85691a8a74800ef33464a702eb251d88"><div class="ttname"><a href="_state_machine_8h.html#a85691a8a74800ef33464a702eb251d88">StateReturnType</a></div><div class="ttdeci">StateReturnType</div><div class="ttdef"><b>Definition</b> <a href="_state_machine_8h_source.html#l00067">StateMachine.h:68</a></div></div>
<div class="ttc" id="a_state_machine_8h_html_a85691a8a74800ef33464a702eb251d88a95fdd6b02cbc698e4bd1a4eafe1661ff"><div class="ttname"><a href="_state_machine_8h.html#a85691a8a74800ef33464a702eb251d88a95fdd6b02cbc698e4bd1a4eafe1661ff">STATE_SUCCESS</a></div><div class="ttdeci">@ STATE_SUCCESS</div><div class="ttdoc">state finished successfully, go to next state</div><div class="ttdef"><b>Definition</b> <a href="_state_machine_8h_source.html#l00072">StateMachine.h:72</a></div></div>
<div class="ttc" id="a_state_machine_8h_html_a85691a8a74800ef33464a702eb251d88ad2792877a5254ceb07b53a001f8e9987"><div class="ttname"><a href="_state_machine_8h.html#a85691a8a74800ef33464a702eb251d88ad2792877a5254ceb07b53a001f8e9987">STATE_FAILURE</a></div><div class="ttdeci">@ STATE_FAILURE</div><div class="ttdoc">state finished abnormally, go to next state</div><div class="ttdef"><b>Definition</b> <a href="_state_machine_8h_source.html#l00073">StateMachine.h:73</a></div></div>
<div class="ttc" id="a_state_machine_8h_html_a85691a8a74800ef33464a702eb251d88aef9ef5d8f83fb758af6a2c17d558d503"><div class="ttname"><a href="_state_machine_8h.html#a85691a8a74800ef33464a702eb251d88aef9ef5d8f83fb758af6a2c17d558d503">STATE_CONTINUE</a></div><div class="ttdeci">@ STATE_CONTINUE</div><div class="ttdoc">stay in this state (only for update method)</div><div class="ttdef"><b>Definition</b> <a href="_state_machine_8h_source.html#l00071">StateMachine.h:71</a></div></div>
<div class="ttc" id="a_terrain_logic_8h_html"><div class="ttname"><a href="_terrain_logic_8h.html">TerrainLogic.h</a></div></div>
<div class="ttc" id="a_terrain_logic_8h_html_aa42359a5e8439f039f075e2bbfdbb8cf"><div class="ttname"><a href="_terrain_logic_8h.html#aa42359a5e8439f039f075e2bbfdbb8cf">TheTerrainLogic</a></div><div class="ttdeci">TerrainLogic * TheTerrainLogic</div><div class="ttdoc">singleton definition</div><div class="ttdef"><b>Definition</b> <a href="_terrain_logic_8cpp_source.html#l00069">TerrainLogic.cpp:69</a></div></div>
<div class="ttc" id="a_thing_template_8h_html"><div class="ttname"><a href="_thing_template_8h.html">ThingTemplate.h</a></div></div>
<div class="ttc" id="a_trig_8cpp_html_ae81be8cc4eb67a66a24a91da659d330e"><div class="ttname"><a href="_trig_8cpp.html#ae81be8cc4eb67a66a24a91da659d330e">ASin</a></div><div class="ttdeci">Real ASin(Real x)</div><div class="ttdef"><b>Definition</b> <a href="_trig_8cpp_source.html#l01676">Trig.cpp:1676</a></div></div>
<div class="ttc" id="a_turret_a_i_8cpp_html_a1dca90a55fc8696d5c02b886be43916f"><div class="ttname"><a href="_turret_a_i_8cpp.html#a1dca90a55fc8696d5c02b886be43916f">WAIT_INDEFINITELY</a></div><div class="ttdeci">const UnsignedInt WAIT_INDEFINITELY</div><div class="ttdef"><b>Definition</b> <a href="#l00048">TurretAI.cpp:48</a></div></div>
<div class="ttc" id="a_turret_a_i_8cpp_html_a49c015995649ec5bc4ca66a234a35238"><div class="ttname"><a href="_turret_a_i_8cpp.html#a49c015995649ec5bc4ca66a234a35238">UNPACK_AND_XFER</a></div><div class="ttdeci">#define UNPACK_AND_XFER(val)</div></div>
<div class="ttc" id="a_turret_a_i_8h_html"><div class="ttname"><a href="_turret_a_i_8h.html">TurretAI.h</a></div></div>
<div class="ttc" id="a_turret_a_i_8h_html_a40b721d5e81e4edbd05e47d66e8bc5b1"><div class="ttname"><a href="_turret_a_i_8h.html#a40b721d5e81e4edbd05e47d66e8bc5b1">DEFAULT_TURN_RATE</a></div><div class="ttdeci">const Real DEFAULT_TURN_RATE</div><div class="ttdef"><b>Definition</b> <a href="_turret_a_i_8h_source.html#l00037">TurretAI.h:37</a></div></div>
<div class="ttc" id="a_turret_a_i_8h_html_a4c101d812cb51a203b38e218a6c1a3b9"><div class="ttname"><a href="_turret_a_i_8h.html#a4c101d812cb51a203b38e218a6c1a3b9">TurretTargetType</a></div><div class="ttdeci">TurretTargetType</div><div class="ttdef"><b>Definition</b> <a href="_turret_a_i_8h_source.html#l00251">TurretAI.h:252</a></div></div>
<div class="ttc" id="a_turret_a_i_8h_html_a4c101d812cb51a203b38e218a6c1a3b9a16abf06e96a64fa495bb02437ce9e1e5"><div class="ttname"><a href="_turret_a_i_8h.html#a4c101d812cb51a203b38e218a6c1a3b9a16abf06e96a64fa495bb02437ce9e1e5">TARGET_NONE</a></div><div class="ttdeci">@ TARGET_NONE</div><div class="ttdef"><b>Definition</b> <a href="_turret_a_i_8h_source.html#l00253">TurretAI.h:253</a></div></div>
<div class="ttc" id="a_turret_a_i_8h_html_a4c101d812cb51a203b38e218a6c1a3b9a382119db3a33afd6da927d81ae7b399e"><div class="ttname"><a href="_turret_a_i_8h.html#a4c101d812cb51a203b38e218a6c1a3b9a382119db3a33afd6da927d81ae7b399e">TARGET_OBJECT</a></div><div class="ttdeci">@ TARGET_OBJECT</div><div class="ttdef"><b>Definition</b> <a href="_turret_a_i_8h_source.html#l00254">TurretAI.h:254</a></div></div>
<div class="ttc" id="a_turret_a_i_8h_html_a4c101d812cb51a203b38e218a6c1a3b9ae2dbc5f080c2a13e20cb3f196e93f52f"><div class="ttname"><a href="_turret_a_i_8h.html#a4c101d812cb51a203b38e218a6c1a3b9ae2dbc5f080c2a13e20cb3f196e93f52f">TARGET_POSITION</a></div><div class="ttdeci">@ TARGET_POSITION</div><div class="ttdef"><b>Definition</b> <a href="_turret_a_i_8h_source.html#l00255">TurretAI.h:255</a></div></div>
<div class="ttc" id="a_turret_a_i_8h_html_aa514092c909fc91c788696ee795d1e86"><div class="ttname"><a href="_turret_a_i_8h.html#aa514092c909fc91c788696ee795d1e86">DEFAULT_PITCH_RATE</a></div><div class="ttdeci">const Real DEFAULT_PITCH_RATE</div><div class="ttdef"><b>Definition</b> <a href="_turret_a_i_8h_source.html#l00038">TurretAI.h:38</a></div></div>
<div class="ttc" id="a_turret_a_i_8h_html_aefd7b2badcc8db3aed5cf9bf8bd06892a0e84301b7a327d2bad17dac27ea12e16"><div class="ttname"><a href="_turret_a_i_8h.html#aefd7b2badcc8db3aed5cf9bf8bd06892a0e84301b7a327d2bad17dac27ea12e16">TURRETAI_RECENTER</a></div><div class="ttdeci">@ TURRETAI_RECENTER</div><div class="ttdoc">rotate turret back to default position</div><div class="ttdef"><b>Definition</b> <a href="_turret_a_i_8h_source.html#l00051">TurretAI.h:51</a></div></div>
<div class="ttc" id="a_turret_a_i_8h_html_aefd7b2badcc8db3aed5cf9bf8bd06892a1fb98da8cc7a5d52056f3e76d1866da3"><div class="ttname"><a href="_turret_a_i_8h.html#aefd7b2badcc8db3aed5cf9bf8bd06892a1fb98da8cc7a5d52056f3e76d1866da3">TURRETAI_FIRE</a></div><div class="ttdeci">@ TURRETAI_FIRE</div><div class="ttdoc">fire turret at GoalObject</div><div class="ttdef"><b>Definition</b> <a href="_turret_a_i_8h_source.html#l00050">TurretAI.h:50</a></div></div>
<div class="ttc" id="a_turret_a_i_8h_html_aefd7b2badcc8db3aed5cf9bf8bd06892a4c03a48825b76639ec5c812b9e7c3b20"><div class="ttname"><a href="_turret_a_i_8h.html#aefd7b2badcc8db3aed5cf9bf8bd06892a4c03a48825b76639ec5c812b9e7c3b20">TURRETAI_IDLE</a></div><div class="ttdeci">@ TURRETAI_IDLE</div><div class="ttdef"><b>Definition</b> <a href="_turret_a_i_8h_source.html#l00047">TurretAI.h:47</a></div></div>
<div class="ttc" id="a_turret_a_i_8h_html_aefd7b2badcc8db3aed5cf9bf8bd06892aaf1c4be92653adffee85fe0742f2bbc1"><div class="ttname"><a href="_turret_a_i_8h.html#aefd7b2badcc8db3aed5cf9bf8bd06892aaf1c4be92653adffee85fe0742f2bbc1">TURRETAI_IDLESCAN</a></div><div class="ttdeci">@ TURRETAI_IDLESCAN</div><div class="ttdef"><b>Definition</b> <a href="_turret_a_i_8h_source.html#l00048">TurretAI.h:48</a></div></div>
<div class="ttc" id="a_turret_a_i_8h_html_aefd7b2badcc8db3aed5cf9bf8bd06892abcc82fbc0ceef28fdea20a316e63f30a"><div class="ttname"><a href="_turret_a_i_8h.html#aefd7b2badcc8db3aed5cf9bf8bd06892abcc82fbc0ceef28fdea20a316e63f30a">TURRETAI_HOLD</a></div><div class="ttdeci">@ TURRETAI_HOLD</div><div class="ttdoc">hold turret position for a bit before recenter</div><div class="ttdef"><b>Definition</b> <a href="_turret_a_i_8h_source.html#l00052">TurretAI.h:52</a></div></div>
<div class="ttc" id="a_turret_a_i_8h_html_aefd7b2badcc8db3aed5cf9bf8bd06892af08d24d67e6fe3ac3fdf22b17bd7c3d3"><div class="ttname"><a href="_turret_a_i_8h.html#aefd7b2badcc8db3aed5cf9bf8bd06892af08d24d67e6fe3ac3fdf22b17bd7c3d3">TURRETAI_AIM</a></div><div class="ttdeci">@ TURRETAI_AIM</div><div class="ttdoc">aim turret at GoalObject</div><div class="ttdef"><b>Definition</b> <a href="_turret_a_i_8h_source.html#l00049">TurretAI.h:49</a></div></div>
<div class="ttc" id="a_update_module_8h_html_ad3ba22c5173a5e8b7b5f01cff5346b50"><div class="ttname"><a href="_update_module_8h.html#ad3ba22c5173a5e8b7b5f01cff5346b50">UpdateSleepTime</a></div><div class="ttdeci">UpdateSleepTime</div><div class="ttdef"><b>Definition</b> <a href="_update_module_8h_source.html#l00068">UpdateModule.h:69</a></div></div>
<div class="ttc" id="a_update_module_8h_html_ad3ba22c5173a5e8b7b5f01cff5346b50a176f010d0fb8ce19cade76c4b1805363"><div class="ttname"><a href="_update_module_8h.html#ad3ba22c5173a5e8b7b5f01cff5346b50a176f010d0fb8ce19cade76c4b1805363">UPDATE_SLEEP_FOREVER</a></div><div class="ttdeci">@ UPDATE_SLEEP_FOREVER</div><div class="ttdef"><b>Definition</b> <a href="_update_module_8h_source.html#l00075">UpdateModule.h:75</a></div></div>
<div class="ttc" id="a_update_module_8h_html_ad3ba22c5173a5e8b7b5f01cff5346b50a935864379b04030d6fee8c1b0d6a0ee3"><div class="ttname"><a href="_update_module_8h.html#ad3ba22c5173a5e8b7b5f01cff5346b50a935864379b04030d6fee8c1b0d6a0ee3">UPDATE_SLEEP_NONE</a></div><div class="ttdeci">@ UPDATE_SLEEP_NONE</div><div class="ttdef"><b>Definition</b> <a href="_update_module_8h_source.html#l00071">UpdateModule.h:71</a></div></div>
<div class="ttc" id="a_update_module_8h_html_af022a19422843f565b9c22524140b746"><div class="ttname"><a href="_update_module_8h.html#af022a19422843f565b9c22524140b746">UPDATE_SLEEP</a></div><div class="ttdeci">#define UPDATE_SLEEP(numFrames)</div><div class="ttdef"><b>Definition</b> <a href="_update_module_8h_source.html#l00077">UpdateModule.h:77</a></div></div>
<div class="ttc" id="a_weapon_8h_html"><div class="ttname"><a href="_weapon_8h.html">Weapon.h</a></div></div>
<div class="ttc" id="a_weapon_set_8h_html"><div class="ttname"><a href="_weapon_set_8h.html">WeaponSet.h</a></div></div>
<div class="ttc" id="a_weapon_set_8h_html_ae8a6d240e809cb610d91b106f5c85ecf"><div class="ttname"><a href="_weapon_set_8h.html#ae8a6d240e809cb610d91b106f5c85ecf">CanAttackResult</a></div><div class="ttdeci">CanAttackResult</div><div class="ttdef"><b>Definition</b> <a href="_weapon_set_8h_source.html#l00188">WeaponSet.h:189</a></div></div>
<div class="ttc" id="a_weapon_set_8h_html_ae8a6d240e809cb610d91b106f5c85ecfa513c706574f2789b109ef0a0aa42189f"><div class="ttname"><a href="_weapon_set_8h.html#ae8a6d240e809cb610d91b106f5c85ecfa513c706574f2789b109ef0a0aa42189f">ATTACKRESULT_POSSIBLE</a></div><div class="ttdeci">@ ATTACKRESULT_POSSIBLE</div><div class="ttdef"><b>Definition</b> <a href="_weapon_set_8h_source.html#l00194">WeaponSet.h:194</a></div></div>
<div class="ttc" id="a_weapon_set_8h_html_ae8a6d240e809cb610d91b106f5c85ecfa5173a0ce4d3a2d961b9d5e6ebbbd6689"><div class="ttname"><a href="_weapon_set_8h.html#ae8a6d240e809cb610d91b106f5c85ecfa5173a0ce4d3a2d961b9d5e6ebbbd6689">ATTACKRESULT_POSSIBLE_AFTER_MOVING</a></div><div class="ttdeci">@ ATTACKRESULT_POSSIBLE_AFTER_MOVING</div><div class="ttdef"><b>Definition</b> <a href="_weapon_set_8h_source.html#l00193">WeaponSet.h:193</a></div></div>
<div class="ttc" id="a_weapon_set_8h_html_aef6dec8563ca28122883d9d8e8a9e257ad7c39cd4a9657d67843d7e6743001b30"><div class="ttname"><a href="_weapon_set_8h.html#aef6dec8563ca28122883d9d8e8a9e257ad7c39cd4a9657d67843d7e6743001b30">PREFER_MOST_DAMAGE</a></div><div class="ttdeci">@ PREFER_MOST_DAMAGE</div><div class="ttdoc">choose the weapon that will do the most damage</div><div class="ttdef"><b>Definition</b> <a href="_weapon_set_8h_source.html#l00175">WeaponSet.h:175</a></div></div>
<div class="ttc" id="a_weapon_status_8h_html_af8fe3730bef529c78f42296c565841fba1221f7904f5d15b5cdb00a0eec74f047"><div class="ttname"><a href="_weapon_status_8h.html#af8fe3730bef529c78f42296c565841fba1221f7904f5d15b5cdb00a0eec74f047">READY_TO_FIRE</a></div><div class="ttdeci">@ READY_TO_FIRE</div><div class="ttdef"><b>Definition</b> <a href="_weapon_status_8h_source.html#l00035">WeaponStatus.h:35</a></div></div>
<div class="ttc" id="a_weapon_status_8h_html_af8fe3730bef529c78f42296c565841fba9040202a066e35119477bee45d58d8b6"><div class="ttname"><a href="_weapon_status_8h.html#af8fe3730bef529c78f42296c565841fba9040202a066e35119477bee45d58d8b6">RELOADING_CLIP</a></div><div class="ttdeci">@ RELOADING_CLIP</div><div class="ttdef"><b>Definition</b> <a href="_weapon_status_8h_source.html#l00038">WeaponStatus.h:38</a></div></div>
<div class="ttc" id="a_xfer_8h_html"><div class="ttname"><a href="_xfer_8h.html">Xfer.h</a></div></div>
<div class="ttc" id="a_xfer_8h_html_a5290038bf1e80fe9b1a9e415814ddc13"><div class="ttname"><a href="_xfer_8h.html#a5290038bf1e80fe9b1a9e415814ddc13">XferVersion</a></div><div class="ttdeci">UnsignedByte XferVersion</div><div class="ttdef"><b>Definition</b> <a href="_xfer_8h_source.html#l00053">Xfer.h:53</a></div></div>
<div class="ttc" id="aclass_a_i_attack_fire_weapon_state_html"><div class="ttname"><a href="class_a_i_attack_fire_weapon_state.html">AIAttackFireWeaponState</a></div><div class="ttdef"><b>Definition</b> <a href="_a_i_state_machine_8h_source.html#l00953">AIStateMachine.h:954</a></div></div>
<div class="ttc" id="aclass_a_i_update_interface_html"><div class="ttname"><a href="class_a_i_update_interface.html">AIUpdateInterface</a></div><div class="ttdef"><b>Definition</b> <a href="_a_i_update_8h_source.html#l00234">AIUpdate.h:235</a></div></div>
<div class="ttc" id="aclass_a_i_update_interface_html_a082265a9db6050f165d908639109a62b"><div class="ttname"><a href="class_a_i_update_interface.html#a082265a9db6050f165d908639109a62b">AIUpdateInterface::resetNextMoodCheckTime</a></div><div class="ttdeci">void resetNextMoodCheckTime(void)</div><div class="ttdef"><b>Definition</b> <a href="_a_i_update_8cpp_source.html#l04467">AIUpdate.cpp:4467</a></div></div>
<div class="ttc" id="aclass_a_i_update_interface_html_a2506d0a021da9ee030f7fddbebea4be8"><div class="ttname"><a href="class_a_i_update_interface.html#a2506d0a021da9ee030f7fddbebea4be8">AIUpdateInterface::getNextMoodCheckTime</a></div><div class="ttdeci">UnsignedInt getNextMoodCheckTime() const</div><div class="ttdef"><b>Definition</b> <a href="_a_i_update_8h_source.html#l00557">AIUpdate.h:557</a></div></div>
<div class="ttc" id="aclass_a_i_update_interface_html_a434bf8fcc2bb15c3ccec02bf5b597cfd"><div class="ttname"><a href="class_a_i_update_interface.html#a434bf8fcc2bb15c3ccec02bf5b597cfd">AIUpdateInterface::isDoingGroundMovement</a></div><div class="ttdeci">virtual Bool isDoingGroundMovement(void) const</div><div class="ttdoc">True if moving along ground.</div><div class="ttdef"><b>Definition</b> <a href="_a_i_update_8cpp_source.html#l02363">AIUpdate.cpp:2363</a></div></div>
<div class="ttc" id="aclass_a_i_update_interface_html_a6cdad474104f939c244e04e37cb09003"><div class="ttname"><a href="class_a_i_update_interface.html#a6cdad474104f939c244e04e37cb09003">AIUpdateInterface::friend_setTurretSync</a></div><div class="ttdeci">void friend_setTurretSync(WhichTurretType t)</div><div class="ttdef"><b>Definition</b> <a href="_a_i_update_8h_source.html#l00659">AIUpdate.h:659</a></div></div>
<div class="ttc" id="aclass_a_i_update_interface_html_a754b3cac8ce6dcedde3fef8ff763fe51"><div class="ttname"><a href="class_a_i_update_interface.html#a754b3cac8ce6dcedde3fef8ff763fe51">AIUpdateInterface::addTargeter</a></div><div class="ttdeci">virtual void addTargeter(ObjectID id, Bool add)</div><div class="ttdef"><b>Definition</b> <a href="_a_i_update_8h_source.html#l00392">AIUpdate.h:392</a></div></div>
<div class="ttc" id="aclass_a_i_update_interface_html_a84b7d84ad027cc88db8d0bb38d578ccb"><div class="ttname"><a href="class_a_i_update_interface.html#a84b7d84ad027cc88db8d0bb38d578ccb">AIUpdateInterface::getGoalObject</a></div><div class="ttdeci">Object * getGoalObject()</div><div class="ttdoc">return the id of the current state of the machine</div><div class="ttdef"><b>Definition</b> <a href="_a_i_update_8h_source.html#l00655">AIUpdate.h:655</a></div></div>
<div class="ttc" id="aclass_a_i_update_interface_html_a9bb0179c26773cabb9bc7a6fa63fac27"><div class="ttname"><a href="class_a_i_update_interface.html#a9bb0179c26773cabb9bc7a6fa63fac27">AIUpdateInterface::isTemporarilyPreventingAimSuccess</a></div><div class="ttdeci">virtual Bool isTemporarilyPreventingAimSuccess() const</div><div class="ttdef"><b>Definition</b> <a href="_a_i_update_8h_source.html#l00393">AIUpdate.h:393</a></div></div>
<div class="ttc" id="aclass_a_i_update_interface_html_a9e06f68279ccc349a8b44fe06729d9d5"><div class="ttname"><a href="class_a_i_update_interface.html#a9e06f68279ccc349a8b44fe06729d9d5">AIUpdateInterface::getMoodMatrixActionAdjustment</a></div><div class="ttdeci">UnsignedInt getMoodMatrixActionAdjustment(MoodMatrixAction action) const</div><div class="ttdef"><b>Definition</b> <a href="_a_i_update_8cpp_source.html#l04371">AIUpdate.cpp:4371</a></div></div>
<div class="ttc" id="aclass_a_i_update_interface_html_ac9fab54c83edecfdb4bf5ef233c44c01"><div class="ttname"><a href="class_a_i_update_interface.html#ac9fab54c83edecfdb4bf5ef233c44c01">AIUpdateInterface::getNextMoodTarget</a></div><div class="ttdeci">Object * getNextMoodTarget(Bool calledByAI, Bool calledDuringIdle)</div><div class="ttdef"><b>Definition</b> <a href="_a_i_update_8cpp_source.html#l04495">AIUpdate.cpp:4495</a></div></div>
<div class="ttc" id="aclass_a_i_update_interface_html_ae1ba6f219bacdb670854ae4591c9facd"><div class="ttname"><a href="class_a_i_update_interface.html#ae1ba6f219bacdb670854ae4591c9facd">AIUpdateInterface::friend_getTurretSync</a></div><div class="ttdeci">WhichTurretType friend_getTurretSync() const</div><div class="ttdef"><b>Definition</b> <a href="_a_i_update_8h_source.html#l00658">AIUpdate.h:658</a></div></div>
<div class="ttc" id="aclass_a_i_update_interface_html_af0aa1d2df55cc98e7a4562a82eb4b9f7"><div class="ttname"><a href="class_a_i_update_interface.html#af0aa1d2df55cc98e7a4562a82eb4b9f7">AIUpdateInterface::getLastCommandSource</a></div><div class="ttdeci">virtual CommandSourceType getLastCommandSource() const</div><div class="ttdef"><b>Definition</b> <a href="_a_i_update_8h_source.html#l00511">AIUpdate.h:511</a></div></div>
<div class="ttc" id="aclass_ascii_string_html"><div class="ttname"><a href="class_ascii_string.html">AsciiString</a></div><div class="ttdef"><b>Definition</b> <a href="_ascii_string_8h_source.html#l00086">AsciiString.h:87</a></div></div>
<div class="ttc" id="aclass_audio_event_r_t_s_html_a684bec9c568ef6cc7dedf57791226cc2"><div class="ttname"><a href="class_audio_event_r_t_s.html#a684bec9c568ef6cc7dedf57791226cc2">AudioEventRTS::isCurrentlyPlaying</a></div><div class="ttdeci">Bool isCurrentlyPlaying(void) const</div><div class="ttdef"><b>Definition</b> <a href="_audio_event_r_t_s_8cpp_source.html#l00690">AudioEventRTS.cpp:690</a></div></div>
<div class="ttc" id="aclass_audio_event_r_t_s_html_a8c3a543ec242b1421bd1802acdf52252"><div class="ttname"><a href="class_audio_event_r_t_s.html#a8c3a543ec242b1421bd1802acdf52252">AudioEventRTS::setPlayingHandle</a></div><div class="ttdeci">void setPlayingHandle(AudioHandle handle)</div><div class="ttdef"><b>Definition</b> <a href="_audio_event_r_t_s_8cpp_source.html#l00541">AudioEventRTS.cpp:541</a></div></div>
<div class="ttc" id="aclass_audio_event_r_t_s_html_af8320eeb9c6924eb7abf531258b938c3"><div class="ttname"><a href="class_audio_event_r_t_s.html#af8320eeb9c6924eb7abf531258b938c3">AudioEventRTS::setObjectID</a></div><div class="ttdeci">void setObjectID(ObjectID objID)</div><div class="ttdef"><b>Definition</b> <a href="_audio_event_r_t_s_8cpp_source.html#l00579">AudioEventRTS.cpp:579</a></div></div>
<div class="ttc" id="aclass_audio_manager_html_a5b9bbd7145c019fcd8b0d0c122221c78"><div class="ttname"><a href="class_audio_manager.html#a5b9bbd7145c019fcd8b0d0c122221c78">AudioManager::removeAudioEvent</a></div><div class="ttdeci">virtual void removeAudioEvent(AudioHandle audioEvent)</div><div class="ttdoc">Remove an audio event, stop for instance.</div><div class="ttdef"><b>Definition</b> <a href="_game_audio_8cpp_source.html#l00581">GameAudio.cpp:581</a></div></div>
<div class="ttc" id="aclass_geometry_info_html_a6981640d27eec0ed9cd10b0bed1ac828"><div class="ttname"><a href="class_geometry_info.html#a6981640d27eec0ed9cd10b0bed1ac828">GeometryInfo::getMaxHeightAbovePosition</a></div><div class="ttdeci">Real getMaxHeightAbovePosition() const</div><div class="ttdef"><b>Definition</b> <a href="_geometry_8cpp_source.html#l00215">Geometry.cpp:215</a></div></div>
<div class="ttc" id="aclass_i_n_i_html"><div class="ttname"><a href="class_i_n_i.html">INI</a></div><div class="ttdef"><b>Definition</b> <a href="_game_engine_2_include_2_common_2_i_n_i_8h_source.html#l00168">INI.h:169</a></div></div>
<div class="ttc" id="aclass_i_n_i_html_a150b629f74420de9884bb61eec9a88ee"><div class="ttname"><a href="class_i_n_i.html#a150b629f74420de9884bb61eec9a88ee">INI::getNextToken</a></div><div class="ttdeci">const char * getNextToken(const char *seps=NULL)</div><div class="ttdef"><b>Definition</b> <a href="_game_engine_2_source_2_common_2_i_n_i_2_i_n_i_8cpp_source.html#l01559">INI.cpp:1559</a></div></div>
<div class="ttc" id="aclass_i_n_i_html_a36a51330b313effa8a2e47cc29ba2860"><div class="ttname"><a href="class_i_n_i.html#a36a51330b313effa8a2e47cc29ba2860">INI::parseBool</a></div><div class="ttdeci">static void parseBool(INI *ini, void *instance, void *store, const void *userData)</div><div class="ttdef"><b>Definition</b> <a href="_game_engine_2_source_2_common_2_i_n_i_2_i_n_i_8cpp_source.html#l00612">INI.cpp:612</a></div></div>
<div class="ttc" id="aclass_i_n_i_html_a489a459c56fec9b2cb7b1805391dac4a"><div class="ttname"><a href="class_i_n_i.html#a489a459c56fec9b2cb7b1805391dac4a">INI::parseDurationUnsignedInt</a></div><div class="ttdeci">static void parseDurationUnsignedInt(INI *ini, void *instance, void *store, const void *userData)</div><div class="ttdef"><b>Definition</b> <a href="_game_engine_2_source_2_common_2_i_n_i_2_i_n_i_8cpp_source.html#l01717">INI.cpp:1717</a></div></div>
<div class="ttc" id="aclass_i_n_i_html_a840cad4663905df78e74d662f9111520"><div class="ttname"><a href="class_i_n_i.html#a840cad4663905df78e74d662f9111520">INI::parseAngularVelocityReal</a></div><div class="ttdeci">static void parseAngularVelocityReal(INI *ini, void *instance, void *store, const void *userData)</div><div class="ttdef"><b>Definition</b> <a href="_game_engine_2_source_2_common_2_i_n_i_2_i_n_i_8cpp_source.html#l00598">INI.cpp:598</a></div></div>
<div class="ttc" id="aclass_i_n_i_html_aaa57fc4817d1f98c33257cc5698d642c"><div class="ttname"><a href="class_i_n_i.html#aaa57fc4817d1f98c33257cc5698d642c">INI::getNextTokenOrNull</a></div><div class="ttdeci">const char * getNextTokenOrNull(const char *seps=NULL)</div><div class="ttdef"><b>Definition</b> <a href="_game_engine_2_source_2_common_2_i_n_i_2_i_n_i_8cpp_source.html#l01569">INI.cpp:1569</a></div></div>
<div class="ttc" id="aclass_i_n_i_html_aac9808a7151b670625b8b07ba6680a1a"><div class="ttname"><a href="class_i_n_i.html#aac9808a7151b670625b8b07ba6680a1a">INI::parseAngleReal</a></div><div class="ttdeci">static void parseAngleReal(INI *ini, void *instance, void *store, const void *userData)</div><div class="ttdef"><b>Definition</b> <a href="_game_engine_2_source_2_common_2_i_n_i_2_i_n_i_8cpp_source.html#l00584">INI.cpp:584</a></div></div>
<div class="ttc" id="aclass_i_n_i_html_ac3eacd3c52000df0ed6ce783af671054"><div class="ttname"><a href="class_i_n_i.html#ac3eacd3c52000df0ed6ce783af671054">INI::parseReal</a></div><div class="ttdeci">static void parseReal(INI *ini, void *instance, void *store, const void *userData)</div><div class="ttdef"><b>Definition</b> <a href="_game_engine_2_source_2_common_2_i_n_i_2_i_n_i_8cpp_source.html#l00558">INI.cpp:558</a></div></div>
<div class="ttc" id="aclass_i_n_i_html_ae40bd75458b3a512301e533516af0930"><div class="ttname"><a href="class_i_n_i.html#ae40bd75458b3a512301e533516af0930">INI::scanIndexList</a></div><div class="ttdeci">static Int scanIndexList(const char *token, ConstCharPtrArray nameList)</div><div class="ttdef"><b>Definition</b> <a href="_game_engine_2_source_2_common_2_i_n_i_2_i_n_i_8cpp_source.html#l01619">INI.cpp:1619</a></div></div>
<div class="ttc" id="aclass_memory_pool_object_html_a39991eb8d6e0a3ef336a1551005753b1"><div class="ttname"><a href="class_memory_pool_object.html#a39991eb8d6e0a3ef336a1551005753b1">MemoryPoolObject::deleteInstance</a></div><div class="ttdeci">void deleteInstance()</div><div class="ttdef"><b>Definition</b> <a href="_game_memory_8h_source.html#l00730">GameMemory.h:730</a></div></div>
<div class="ttc" id="aclass_multi_ini_field_parse_html"><div class="ttname"><a href="class_multi_ini_field_parse.html">MultiIniFieldParse</a></div><div class="ttdef"><b>Definition</b> <a href="_game_engine_2_include_2_common_2_i_n_i_8h_source.html#l00132">INI.h:133</a></div></div>
<div class="ttc" id="aclass_multi_ini_field_parse_html_afa53d97cda347bc012c8d195c2b19955"><div class="ttname"><a href="class_multi_ini_field_parse.html#afa53d97cda347bc012c8d195c2b19955">MultiIniFieldParse::add</a></div><div class="ttdeci">void add(const FieldParse *f, UnsignedInt e=0)</div><div class="ttdef"><b>Definition</b> <a href="_game_engine_2_source_2_common_2_i_n_i_2_i_n_i_8cpp_source.html#l01443">INI.cpp:1443</a></div></div>
<div class="ttc" id="aclass_object_html"><div class="ttname"><a href="class_object.html">Object</a></div><div class="ttdef"><b>Definition</b> <a href="_object_8h_source.html#l00163">Object.h:164</a></div></div>
<div class="ttc" id="aclass_object_html_a4327aaa70aefe56fec07b1d347127640"><div class="ttname"><a href="class_object.html#a4327aaa70aefe56fec07b1d347127640">Object::isAbleToAttack</a></div><div class="ttdeci">Bool isAbleToAttack() const</div><div class="ttdoc">returns true if object currently has some kind of attack capability</div><div class="ttdef"><b>Definition</b> <a href="_object_8cpp_source.html#l03177">Object.cpp:3177</a></div></div>
<div class="ttc" id="aclass_object_html_a479266462a8ceb0be975d351f259bfa4"><div class="ttname"><a href="class_object.html#a479266462a8ceb0be975d351f259bfa4">Object::getGeometryInfo</a></div><div class="ttdeci">const GeometryInfo &amp; getGeometryInfo() const</div><div class="ttdef"><b>Definition</b> <a href="_object_8h_source.html#l00273">Object.h:273</a></div></div>
<div class="ttc" id="aclass_object_html_a6c17829820a29ded73578abd29906943"><div class="ttname"><a href="class_object.html#a6c17829820a29ded73578abd29906943">Object::getID</a></div><div class="ttdeci">ObjectID getID() const</div><div class="ttdoc">this object&#39;s unique ID</div><div class="ttdef"><b>Definition</b> <a href="_object_8h_source.html#l00185">Object.h:185</a></div></div>
<div class="ttc" id="aclass_object_html_a70881ecc63fb19b4349f3dade8b2b808"><div class="ttname"><a href="class_object.html#a70881ecc63fb19b4349f3dade8b2b808">Object::getCurrentWeapon</a></div><div class="ttdeci">Weapon * getCurrentWeapon(WeaponSlotType *wslot=NULL)</div><div class="ttdef"><b>Definition</b> <a href="_object_8cpp_source.html#l01397">Object.cpp:1397</a></div></div>
<div class="ttc" id="aclass_object_html_a799ec79787269765b50ee160096eb620"><div class="ttname"><a href="class_object.html#a799ec79787269765b50ee160096eb620">Object::getAbleToAttackSpecificObject</a></div><div class="ttdeci">CanAttackResult getAbleToAttackSpecificObject(AbleToAttackType t, const Object *target, CommandSourceType commandSource, WeaponSlotType specificSlot=(WeaponSlotType) -1) const</div><div class="ttdef"><b>Definition</b> <a href="_object_8cpp_source.html#l01448">Object.cpp:1448</a></div></div>
<div class="ttc" id="aclass_object_html_a7bb38331366877b2590b90384c818368"><div class="ttname"><a href="class_object.html#a7bb38331366877b2590b90384c818368">Object::isEffectivelyDead</a></div><div class="ttdeci">Bool isEffectivelyDead() const</div><div class="ttdef"><b>Definition</b> <a href="_object_8h_source.html#l00379">Object.h:379</a></div></div>
<div class="ttc" id="aclass_object_html_a8132222b4baf5c4a796ac5427716794f"><div class="ttname"><a href="class_object.html#a8132222b4baf5c4a796ac5427716794f">Object::chooseBestWeaponForTarget</a></div><div class="ttdeci">Bool chooseBestWeaponForTarget(const Object *target, WeaponChoiceCriteria criteria, CommandSourceType cmdSource)</div><div class="ttdef"><b>Definition</b> <a href="_object_8cpp_source.html#l01468">Object.cpp:1468</a></div></div>
<div class="ttc" id="aclass_object_html_abf8c24bb73bb87af6c0d2b249ad44429"><div class="ttname"><a href="class_object.html#abf8c24bb73bb87af6c0d2b249ad44429">Object::clearModelConditionState</a></div><div class="ttdeci">void clearModelConditionState(ModelConditionFlagType a)</div><div class="ttdef"><b>Definition</b> <a href="_object_8cpp_source.html#l01308">Object.cpp:1308</a></div></div>
<div class="ttc" id="aclass_object_html_ac50efcf2ad2e22d1f83125ac238c6f45"><div class="ttname"><a href="class_object.html#ac50efcf2ad2e22d1f83125ac238c6f45">Object::getAI</a></div><div class="ttdeci">AIUpdateInterface * getAI()</div><div class="ttdef"><b>Definition</b> <a href="_object_8h_source.html#l00301">Object.h:301</a></div></div>
<div class="ttc" id="aclass_object_html_ad4450efb805ee889329ab33eb87020f7"><div class="ttname"><a href="class_object.html#ad4450efb805ee889329ab33eb87020f7">Object::reactToTurretChange</a></div><div class="ttdeci">virtual void reactToTurretChange(WhichTurretType turret, Real oldRotation, Real oldPitch)</div><div class="ttdef"><b>Definition</b> <a href="_object_8cpp_source.html#l01744">Object.cpp:1744</a></div></div>
<div class="ttc" id="aclass_object_html_ad67789da3db49c3827e5a2abf8fe68a0"><div class="ttname"><a href="class_object.html#ad67789da3db49c3827e5a2abf8fe68a0">Object::getAIUpdateInterface</a></div><div class="ttdeci">AIUpdateInterface * getAIUpdateInterface()</div><div class="ttdef"><b>Definition</b> <a href="_object_8h_source.html#l00298">Object.h:298</a></div></div>
<div class="ttc" id="aclass_object_html_ad6cb0a7c09836e0ad9762187a960fbe2"><div class="ttname"><a href="class_object.html#ad6cb0a7c09836e0ad9762187a960fbe2">Object::getWeaponInWeaponSlot</a></div><div class="ttdeci">Weapon * getWeaponInWeaponSlot(WeaponSlotType wslot) const</div><div class="ttdef"><b>Definition</b> <a href="_object_8h_source.html#l00482">Object.h:482</a></div></div>
<div class="ttc" id="aclass_object_html_aedb8567d3a3f2d3466aff2e4bb8ddf5d"><div class="ttname"><a href="class_object.html#aedb8567d3a3f2d3466aff2e4bb8ddf5d">Object::setModelConditionState</a></div><div class="ttdeci">void setModelConditionState(ModelConditionFlagType a)</div><div class="ttdef"><b>Definition</b> <a href="_object_8cpp_source.html#l01299">Object.cpp:1299</a></div></div>
<div class="ttc" id="aclass_object_html_af4a784b792c59f2365032397c328cd85"><div class="ttname"><a href="class_object.html#af4a784b792c59f2365032397c328cd85">Object::getTeam</a></div><div class="ttdeci">Team * getTeam()</div><div class="ttdef"><b>Definition</b> <a href="_object_8h_source.html#l00245">Object.h:245</a></div></div>
<div class="ttc" id="aclass_state_html_abd7940ecb1e1df8d9218e2e03d204fc0"><div class="ttname"><a href="class_state.html#abd7940ecb1e1df8d9218e2e03d204fc0">State::getMachineOwner</a></div><div class="ttdeci">Object * getMachineOwner()</div><div class="ttdef"><b>Definition</b> <a href="_state_machine_8h_source.html#l00390">StateMachine.h:390</a></div></div>
<div class="ttc" id="aclass_state_machine_html_a6b5addc7bcd3d4211e8a26c281a236b3"><div class="ttname"><a href="class_state_machine.html#a6b5addc7bcd3d4211e8a26c281a236b3">StateMachine::defineState</a></div><div class="ttdeci">void defineState(StateID id, State *state, StateID successID, StateID failureID, const StateConditionInfo *conditions=NULL)</div><div class="ttdef"><b>Definition</b> <a href="_state_machine_8cpp_source.html#l00484">StateMachine.cpp:484</a></div></div>
<div class="ttc" id="aclass_state_machine_html_a7070346397ecee7fe576cfc348901ad6"><div class="ttname"><a href="class_state_machine.html#a7070346397ecee7fe576cfc348901ad6">StateMachine::getCurrentStateID</a></div><div class="ttdeci">StateID getCurrentStateID() const</div><div class="ttdoc">return the id of the current state of the machine</div><div class="ttdef"><b>Definition</b> <a href="_state_machine_8h_source.html#l00266">StateMachine.h:266</a></div></div>
<div class="ttc" id="aclass_state_machine_html_a7dd6892f57bea6708ba390f5136b05df"><div class="ttname"><a href="class_state_machine.html#a7dd6892f57bea6708ba390f5136b05df">StateMachine::getGoalObject</a></div><div class="ttdeci">Object * getGoalObject()</div><div class="ttdef"><b>Definition</b> <a href="_state_machine_8cpp_source.html#l00780">StateMachine.cpp:780</a></div></div>
<div class="ttc" id="aclass_state_machine_html_a99e26e653303e0347ecd8aa44aa8132f"><div class="ttname"><a href="class_state_machine.html#a99e26e653303e0347ecd8aa44aa8132f">StateMachine::resetToDefaultState</a></div><div class="ttdeci">virtual StateReturnType resetToDefaultState()</div><div class="ttdoc">clear the machine&#39;s internals and set to the default state</div><div class="ttdef"><b>Definition</b> <a href="_state_machine_8cpp_source.html#l00376">StateMachine.cpp:376</a></div></div>
<div class="ttc" id="aclass_state_machine_html_accc9c73cc08154778a8c0aa7a191761c"><div class="ttname"><a href="class_state_machine.html#accc9c73cc08154778a8c0aa7a191761c">StateMachine::setState</a></div><div class="ttdeci">virtual StateReturnType setState(StateID newStateID)</div><div class="ttdoc">change the current state of the machine (which may cause further state changes, due to onEnter)</div><div class="ttdef"><b>Definition</b> <a href="_state_machine_8cpp_source.html#l00542">StateMachine.cpp:542</a></div></div>
<div class="ttc" id="aclass_state_machine_html_ae8ca52bb0f4cd3b484c403b39a6a78d3"><div class="ttname"><a href="class_state_machine.html#ae8ca52bb0f4cd3b484c403b39a6a78d3">StateMachine::StateMachine</a></div><div class="ttdeci">StateMachine(Object *owner, AsciiString name)</div><div class="ttdef"><b>Definition</b> <a href="_state_machine_8cpp_source.html#l00267">StateMachine.cpp:267</a></div></div>
<div class="ttc" id="aclass_state_machine_html_af61915a5462f9b9e81d76d751e59dcf8"><div class="ttname"><a href="class_state_machine.html#af61915a5462f9b9e81d76d751e59dcf8">StateMachine::clear</a></div><div class="ttdeci">virtual void clear()</div><div class="ttdoc">clear the machine&#39;s internals to a known, initialized state</div><div class="ttdef"><b>Definition</b> <a href="_state_machine_8cpp_source.html#l00351">StateMachine.cpp:351</a></div></div>
<div class="ttc" id="aclass_thing_html_a7978985fe2e1e1b1b91bb822f62df5e9"><div class="ttname"><a href="class_thing.html#a7978985fe2e1e1b1b91bb822f62df5e9">Thing::isKindOf</a></div><div class="ttdeci">Bool isKindOf(KindOfType t) const</div><div class="ttdef"><b>Definition</b> <a href="_thing_8cpp_source.html#l00269">Thing.cpp:269</a></div></div>
<div class="ttc" id="aclass_turret_a_i_aim_turret_state_html"><div class="ttname"><a href="class_turret_a_i_aim_turret_state.html">TurretAIAimTurretState</a></div><div class="ttdef"><b>Definition</b> <a href="_turret_a_i_8h_source.html#l00147">TurretAI.h:148</a></div></div>
<div class="ttc" id="aclass_turret_a_i_aim_turret_state_html_a2f04b9dca6bbf080188885275b77f3df"><div class="ttname"><a href="class_turret_a_i_aim_turret_state.html#a2f04b9dca6bbf080188885275b77f3df">TurretAIAimTurretState::onExit</a></div><div class="ttdeci">virtual void onExit(StateExitType status)</div><div class="ttdoc">executed once when leaving state</div><div class="ttdef"><b>Definition</b> <a href="#l01207">TurretAI.cpp:1207</a></div></div>
<div class="ttc" id="aclass_turret_a_i_aim_turret_state_html_ab5f8a45651691c9528a8277888178f37"><div class="ttname"><a href="class_turret_a_i_aim_turret_state.html#ab5f8a45651691c9528a8277888178f37">TurretAIAimTurretState::onEnter</a></div><div class="ttdeci">virtual StateReturnType onEnter()</div><div class="ttdoc">executed once when entering state</div><div class="ttdef"><b>Definition</b> <a href="#l00955">TurretAI.cpp:955</a></div></div>
<div class="ttc" id="aclass_turret_a_i_aim_turret_state_html_aba04e8a61b792a7ecf0e095803c09a97"><div class="ttname"><a href="class_turret_a_i_aim_turret_state.html#aba04e8a61b792a7ecf0e095803c09a97">TurretAIAimTurretState::update</a></div><div class="ttdeci">virtual StateReturnType update()</div><div class="ttdef"><b>Definition</b> <a href="#l00968">TurretAI.cpp:968</a></div></div>
<div class="ttc" id="aclass_turret_a_i_data_html"><div class="ttname"><a href="class_turret_a_i_data.html">TurretAIData</a></div><div class="ttdef"><b>Definition</b> <a href="_turret_a_i_8h_source.html#l00216">TurretAI.h:217</a></div></div>
<div class="ttc" id="aclass_turret_a_i_data_html_a1248022efde9820b8adec7bceebe2821"><div class="ttname"><a href="class_turret_a_i_data.html#a1248022efde9820b8adec7bceebe2821">TurretAIData::m_turretFireAngleSweep</a></div><div class="ttdeci">Real m_turretFireAngleSweep[WEAPONSLOT_COUNT]</div><div class="ttdoc">if nonzero, sweep within +/- this angle range while firing</div><div class="ttdef"><b>Definition</b> <a href="_turret_a_i_8h_source.html#l00224">TurretAI.h:224</a></div></div>
<div class="ttc" id="aclass_turret_a_i_data_html_a1d15133d717fe2a7602f26b09f6d4441"><div class="ttname"><a href="class_turret_a_i_data.html#a1d15133d717fe2a7602f26b09f6d4441">TurretAIData::m_maxIdleScanInterval</a></div><div class="ttdeci">UnsignedInt m_maxIdleScanInterval</div><div class="ttdoc">max interval between idle scans</div><div class="ttdef"><b>Definition</b> <a href="_turret_a_i_8h_source.html#l00236">TurretAI.h:236</a></div></div>
<div class="ttc" id="aclass_turret_a_i_data_html_a1ecdc37f77bdf62ac31dba477e841c78"><div class="ttname"><a href="class_turret_a_i_data.html#a1ecdc37f77bdf62ac31dba477e841c78">TurretAIData::m_minIdleScanInterval</a></div><div class="ttdeci">UnsignedInt m_minIdleScanInterval</div><div class="ttdoc">min interval between idle scans</div><div class="ttdef"><b>Definition</b> <a href="_turret_a_i_8h_source.html#l00235">TurretAI.h:235</a></div></div>
<div class="ttc" id="aclass_turret_a_i_data_html_a21be708609a9c4424ff8f9fb7e35c223"><div class="ttname"><a href="class_turret_a_i_data.html#a21be708609a9c4424ff8f9fb7e35c223">TurretAIData::m_firePitch</a></div><div class="ttdeci">Real m_firePitch</div><div class="ttdoc">if nonzero, I am on target at this fixed pitch, not when pointing at target</div><div class="ttdef"><b>Definition</b> <a href="_turret_a_i_8h_source.html#l00226">TurretAI.h:226</a></div></div>
<div class="ttc" id="aclass_turret_a_i_data_html_a265556860391948f726fc2ac4aa8a7fd"><div class="ttname"><a href="class_turret_a_i_data.html#a265556860391948f726fc2ac4aa8a7fd">TurretAIData::m_naturalTurretPitch</a></div><div class="ttdeci">Real m_naturalTurretPitch</div><div class="ttdef"><b>Definition</b> <a href="_turret_a_i_8h_source.html#l00223">TurretAI.h:223</a></div></div>
<div class="ttc" id="aclass_turret_a_i_data_html_a48dd925dd08b43681cd5f1c5bb921d23"><div class="ttname"><a href="class_turret_a_i_data.html#a48dd925dd08b43681cd5f1c5bb921d23">TurretAIData::m_isAllowsPitch</a></div><div class="ttdeci">Bool m_isAllowsPitch</div><div class="ttdoc">This type of turret can pitch up and down as well as spin.</div><div class="ttdef"><b>Definition</b> <a href="_turret_a_i_8h_source.html#l00240">TurretAI.h:240</a></div></div>
<div class="ttc" id="aclass_turret_a_i_data_html_a578ac57efc812ce536724fdc1015a604"><div class="ttname"><a href="class_turret_a_i_data.html#a578ac57efc812ce536724fdc1015a604">TurretAIData::m_turnRate</a></div><div class="ttdeci">Real m_turnRate</div><div class="ttdef"><b>Definition</b> <a href="_turret_a_i_8h_source.html#l00220">TurretAI.h:220</a></div></div>
<div class="ttc" id="aclass_turret_a_i_data_html_a6039fc2c31eb6bc06858a8ab73fb0f97"><div class="ttname"><a href="class_turret_a_i_data.html#a6039fc2c31eb6bc06858a8ab73fb0f97">TurretAIData::m_recenterTime</a></div><div class="ttdeci">UnsignedInt m_recenterTime</div><div class="ttdoc">time to wait before recentering turret</div><div class="ttdef"><b>Definition</b> <a href="_turret_a_i_8h_source.html#l00237">TurretAI.h:237</a></div></div>
<div class="ttc" id="aclass_turret_a_i_data_html_a64bd9d9be60f28f6cf7d4ca57356ba19"><div class="ttname"><a href="class_turret_a_i_data.html#a64bd9d9be60f28f6cf7d4ca57356ba19">TurretAIData::m_initiallyDisabled</a></div><div class="ttdeci">Bool m_initiallyDisabled</div><div class="ttdoc">manually controlled and disabled.</div><div class="ttdef"><b>Definition</b> <a href="_turret_a_i_8h_source.html#l00238">TurretAI.h:238</a></div></div>
<div class="ttc" id="aclass_turret_a_i_data_html_a684b6aa57ed58b4b94e656e0c0df040a"><div class="ttname"><a href="class_turret_a_i_data.html#a684b6aa57ed58b4b94e656e0c0df040a">TurretAIData::m_firesWhileTurning</a></div><div class="ttdeci">Bool m_firesWhileTurning</div><div class="ttdoc">so the firing state does not instantly expire the turning state</div><div class="ttdef"><b>Definition</b> <a href="_turret_a_i_8h_source.html#l00239">TurretAI.h:239</a></div></div>
<div class="ttc" id="aclass_turret_a_i_data_html_a71aa3a413778a243b92b5153005e141e"><div class="ttname"><a href="class_turret_a_i_data.html#a71aa3a413778a243b92b5153005e141e">TurretAIData::m_groundUnitPitch</a></div><div class="ttdeci">Real m_groundUnitPitch</div><div class="ttdoc">dependent on allowspitch. defaults to 0 (horizontal). The lowest pitch allowed when firing at ground ...</div><div class="ttdef"><b>Definition</b> <a href="_turret_a_i_8h_source.html#l00228">TurretAI.h:228</a></div></div>
<div class="ttc" id="aclass_turret_a_i_data_html_a7a62e31f8e20eb3a4bb017fc3ce28bf1"><div class="ttname"><a href="class_turret_a_i_data.html#a7a62e31f8e20eb3a4bb017fc3ce28bf1">TurretAIData::TurretAIData</a></div><div class="ttdeci">TurretAIData()</div><div class="ttdef"><b>Definition</b> <a href="#l00176">TurretAI.cpp:176</a></div></div>
<div class="ttc" id="aclass_turret_a_i_data_html_a813d6ef4536496416843e653ec118764"><div class="ttname"><a href="class_turret_a_i_data.html#a813d6ef4536496416843e653ec118764">TurretAIData::m_minIdleScanAngle</a></div><div class="ttdeci">Real m_minIdleScanAngle</div><div class="ttdoc">max angle the turret can turn while idling</div><div class="ttdef"><b>Definition</b> <a href="_turret_a_i_8h_source.html#l00233">TurretAI.h:233</a></div></div>
<div class="ttc" id="aclass_turret_a_i_data_html_a81ea88786570eb0612283d747ddf7770"><div class="ttname"><a href="class_turret_a_i_data.html#a81ea88786570eb0612283d747ddf7770">TurretAIData::parseTurretSweepSpeed</a></div><div class="ttdeci">static void parseTurretSweepSpeed(INI *ini, void *instance, void *store, const void *userData)</div><div class="ttdef"><b>Definition</b> <a href="#l00228">TurretAI.cpp:228</a></div></div>
<div class="ttc" id="aclass_turret_a_i_data_html_aa82708539378f1a6a6560a49933ca9c7"><div class="ttname"><a href="class_turret_a_i_data.html#aa82708539378f1a6a6560a49933ca9c7">TurretAIData::m_maxIdleScanAngle</a></div><div class="ttdeci">Real m_maxIdleScanAngle</div><div class="ttdoc">max angle the turret can turn while idling</div><div class="ttdef"><b>Definition</b> <a href="_turret_a_i_8h_source.html#l00234">TurretAI.h:234</a></div></div>
<div class="ttc" id="aclass_turret_a_i_data_html_aace913fcb76a107bc362700409cc5b2d"><div class="ttname"><a href="class_turret_a_i_data.html#aace913fcb76a107bc362700409cc5b2d">TurretAIData::m_minPitch</a></div><div class="ttdeci">Real m_minPitch</div><div class="ttdoc">dependent on allowspitch. defaults to 0 (horizontal). The lowest pitch allowed (negative to allow poi...</div><div class="ttdef"><b>Definition</b> <a href="_turret_a_i_8h_source.html#l00227">TurretAI.h:227</a></div></div>
<div class="ttc" id="aclass_turret_a_i_data_html_aba04aee4ea9974a72cef012123e5813f"><div class="ttname"><a href="class_turret_a_i_data.html#aba04aee4ea9974a72cef012123e5813f">TurretAIData::parseTurretSweep</a></div><div class="ttdeci">static void parseTurretSweep(INI *ini, void *instance, void *store, const void *userData)</div><div class="ttdef"><b>Definition</b> <a href="#l00220">TurretAI.cpp:220</a></div></div>
<div class="ttc" id="aclass_turret_a_i_data_html_ae15bd58355932dccc909547342d0cbfc"><div class="ttname"><a href="class_turret_a_i_data.html#ae15bd58355932dccc909547342d0cbfc">TurretAIData::buildFieldParse</a></div><div class="ttdeci">static void buildFieldParse(MultiIniFieldParse &amp;p)</div><div class="ttdef"><b>Definition</b> <a href="#l00236">TurretAI.cpp:236</a></div></div>
<div class="ttc" id="aclass_turret_a_i_data_html_ae3bded94233a2f99b44ea680afa2c8d5"><div class="ttname"><a href="class_turret_a_i_data.html#ae3bded94233a2f99b44ea680afa2c8d5">TurretAIData::m_naturalTurretAngle</a></div><div class="ttdeci">Real m_naturalTurretAngle</div><div class="ttdef"><b>Definition</b> <a href="_turret_a_i_8h_source.html#l00222">TurretAI.h:222</a></div></div>
<div class="ttc" id="aclass_turret_a_i_data_html_aeb463d726802da892c80dd2d6f0984f7"><div class="ttname"><a href="class_turret_a_i_data.html#aeb463d726802da892c80dd2d6f0984f7">TurretAIData::m_pitchRate</a></div><div class="ttdeci">Real m_pitchRate</div><div class="ttdef"><b>Definition</b> <a href="_turret_a_i_8h_source.html#l00221">TurretAI.h:221</a></div></div>
<div class="ttc" id="aclass_turret_a_i_data_html_af587d70ec0b5a512fe4c35b87c779824"><div class="ttname"><a href="class_turret_a_i_data.html#af587d70ec0b5a512fe4c35b87c779824">TurretAIData::m_turretWeaponSlots</a></div><div class="ttdeci">UnsignedInt m_turretWeaponSlots</div><div class="ttdoc">which WeaponSlots are controlled by this turret</div><div class="ttdef"><b>Definition</b> <a href="_turret_a_i_8h_source.html#l00229">TurretAI.h:229</a></div></div>
<div class="ttc" id="aclass_turret_a_i_data_html_af89bc214c8eb32dee85d86ceee63af3d"><div class="ttname"><a href="class_turret_a_i_data.html#af89bc214c8eb32dee85d86ceee63af3d">TurretAIData::m_turretSweepSpeedModifier</a></div><div class="ttdeci">Real m_turretSweepSpeedModifier[WEAPONSLOT_COUNT]</div><div class="ttdoc">While sweeping, change your speed by this.</div><div class="ttdef"><b>Definition</b> <a href="_turret_a_i_8h_source.html#l00225">TurretAI.h:225</a></div></div>
<div class="ttc" id="aclass_turret_a_i_hold_turret_state_html"><div class="ttname"><a href="class_turret_a_i_hold_turret_state.html">TurretAIHoldTurretState</a></div><div class="ttdef"><b>Definition</b> <a href="_turret_a_i_8h_source.html#l00194">TurretAI.h:195</a></div></div>
<div class="ttc" id="aclass_turret_a_i_hold_turret_state_html_a385e75ecd1ce6e5d4429ffbc7ac5d79e"><div class="ttname"><a href="class_turret_a_i_hold_turret_state.html#a385e75ecd1ce6e5d4429ffbc7ac5d79e">TurretAIHoldTurretState::loadPostProcess</a></div><div class="ttdeci">virtual void loadPostProcess()</div><div class="ttdef"><b>Definition</b> <a href="#l01432">TurretAI.cpp:1432</a></div></div>
<div class="ttc" id="aclass_turret_a_i_hold_turret_state_html_a5871041ad14ed36bf3bdc1532de41cb2"><div class="ttname"><a href="class_turret_a_i_hold_turret_state.html#a5871041ad14ed36bf3bdc1532de41cb2">TurretAIHoldTurretState::update</a></div><div class="ttdeci">virtual StateReturnType update()</div><div class="ttdef"><b>Definition</b> <a href="#l01455">TurretAI.cpp:1455</a></div></div>
<div class="ttc" id="aclass_turret_a_i_hold_turret_state_html_a59042109d129b63e771a798bc61b6bd6"><div class="ttname"><a href="class_turret_a_i_hold_turret_state.html#a59042109d129b63e771a798bc61b6bd6">TurretAIHoldTurretState::xfer</a></div><div class="ttdeci">virtual void xfer(Xfer *xfer)</div><div class="ttdef"><b>Definition</b> <a href="#l01419">TurretAI.cpp:1419</a></div></div>
<div class="ttc" id="aclass_turret_a_i_hold_turret_state_html_a8655a85fdf4bda31afac071dd54b8cb3"><div class="ttname"><a href="class_turret_a_i_hold_turret_state.html#a8655a85fdf4bda31afac071dd54b8cb3">TurretAIHoldTurretState::onEnter</a></div><div class="ttdeci">virtual StateReturnType onEnter()</div><div class="ttdoc">executed once when entering state</div><div class="ttdef"><b>Definition</b> <a href="#l01437">TurretAI.cpp:1437</a></div></div>
<div class="ttc" id="aclass_turret_a_i_hold_turret_state_html_ad09f081124f5d7a09aa3fa9a7fc75815"><div class="ttname"><a href="class_turret_a_i_hold_turret_state.html#ad09f081124f5d7a09aa3fa9a7fc75815">TurretAIHoldTurretState::crc</a></div><div class="ttdeci">virtual void crc(Xfer *xfer)</div><div class="ttdef"><b>Definition</b> <a href="#l01412">TurretAI.cpp:1412</a></div></div>
<div class="ttc" id="aclass_turret_a_i_hold_turret_state_html_af378c76249921586439f585524d175b4"><div class="ttname"><a href="class_turret_a_i_hold_turret_state.html#af378c76249921586439f585524d175b4">TurretAIHoldTurretState::onExit</a></div><div class="ttdeci">virtual void onExit(StateExitType status)</div><div class="ttdoc">executed once when leaving state</div><div class="ttdef"><b>Definition</b> <a href="#l01446">TurretAI.cpp:1446</a></div></div>
<div class="ttc" id="aclass_turret_a_i_html"><div class="ttname"><a href="class_turret_a_i.html">TurretAI</a></div><div class="ttdef"><b>Definition</b> <a href="_turret_a_i_8h_source.html#l00262">TurretAI.h:263</a></div></div>
<div class="ttc" id="aclass_turret_a_i_html_a0039a41b0c42eca38b383582bd5195eb"><div class="ttname"><a href="class_turret_a_i.html#a0039a41b0c42eca38b383582bd5195eb">TurretAI::getMinPitch</a></div><div class="ttdeci">Real getMinPitch() const</div><div class="ttdef"><b>Definition</b> <a href="_turret_a_i_8h_source.html#l00272">TurretAI.h:272</a></div></div>
<div class="ttc" id="aclass_turret_a_i_html_a004548fae149ae50db3cb5b4ff4f47cc"><div class="ttname"><a href="class_turret_a_i.html#a004548fae149ae50db3cb5b4ff4f47cc">TurretAI::friend_notifyStateMachineChanged</a></div><div class="ttdeci">void friend_notifyStateMachineChanged()</div><div class="ttdef"><b>Definition</b> <a href="#l00676">TurretAI.cpp:676</a></div></div>
<div class="ttc" id="aclass_turret_a_i_html_a02f93bfdd7b56bc36789d1f9f3f808e1"><div class="ttname"><a href="class_turret_a_i.html#a02f93bfdd7b56bc36789d1f9f3f808e1">TurretAI::getTurretFireAngleSweepForWeaponSlot</a></div><div class="ttdeci">Real getTurretFireAngleSweepForWeaponSlot(WeaponSlotType slot) const</div><div class="ttdef"><b>Definition</b> <a href="#l00474">TurretAI.cpp:474</a></div></div>
<div class="ttc" id="aclass_turret_a_i_html_a161b8452f3f987194abb2c8b1c95e1a7"><div class="ttname"><a href="class_turret_a_i.html#a161b8452f3f987194abb2c8b1c95e1a7">TurretAI::updateTurretAI</a></div><div class="ttdeci">UpdateSleepTime updateTurretAI()</div><div class="ttdoc">implement this module&#39;s behavior</div><div class="ttdef"><b>Definition</b> <a href="#l00688">TurretAI.cpp:688</a></div></div>
<div class="ttc" id="aclass_turret_a_i_html_a1b5c663dc277d8d6c3ac157ddd5c98cf"><div class="ttname"><a href="class_turret_a_i.html#a1b5c663dc277d8d6c3ac157ddd5c98cf">TurretAI::friend_turnTowardsAngle</a></div><div class="ttdeci">Bool friend_turnTowardsAngle(Real desiredAngle, Real rateModifier, Real relThresh)</div><div class="ttdef"><b>Definition</b> <a href="#l00392">TurretAI.cpp:392</a></div></div>
<div class="ttc" id="aclass_turret_a_i_html_a2637509860e97383d3eb903b9fc994dd"><div class="ttname"><a href="class_turret_a_i.html#a2637509860e97383d3eb903b9fc994dd">TurretAI::isWeaponSlotOkToFire</a></div><div class="ttdeci">virtual Bool isWeaponSlotOkToFire(WeaponSlotType wslot) const</div><div class="ttdef"><b>Definition</b> <a href="#l00464">TurretAI.cpp:464</a></div></div>
<div class="ttc" id="aclass_turret_a_i_html_a2ce85cd5c550878b49d940c7ade39553"><div class="ttname"><a href="class_turret_a_i.html#a2ce85cd5c550878b49d940c7ade39553">TurretAI::notifyNewVictimChosen</a></div><div class="ttdeci">virtual void notifyNewVictimChosen(Object *victim)</div><div class="ttdef"><b>Definition</b> <a href="#l00492">TurretAI.cpp:492</a></div></div>
<div class="ttc" id="aclass_turret_a_i_html_a2dddf3ad658ca836a59adbc7c6c637aa"><div class="ttname"><a href="class_turret_a_i.html#a2dddf3ad658ca836a59adbc7c6c637aa">TurretAI::friend_getTargetWasSetByIdleMood</a></div><div class="ttdeci">Bool friend_getTargetWasSetByIdleMood() const</div><div class="ttdef"><b>Definition</b> <a href="_turret_a_i_8h_source.html#l00330">TurretAI.h:330</a></div></div>
<div class="ttc" id="aclass_turret_a_i_html_a2ed4dedce5f8f03dece4f8a06db3a37f"><div class="ttname"><a href="class_turret_a_i.html#a2ed4dedce5f8f03dece4f8a06db3a37f">TurretAI::getTurretAngle</a></div><div class="ttdeci">Real getTurretAngle() const</div><div class="ttdef"><b>Definition</b> <a href="_turret_a_i_8h_source.html#l00270">TurretAI.h:270</a></div></div>
<div class="ttc" id="aclass_turret_a_i_html_a32542db353d40f7e138c225a13b12da5"><div class="ttname"><a href="class_turret_a_i.html#a32542db353d40f7e138c225a13b12da5">TurretAI::friend_getNextIdleMoodTargetFrame</a></div><div class="ttdeci">UnsignedInt friend_getNextIdleMoodTargetFrame() const</div><div class="ttdef"><b>Definition</b> <a href="#l00870">TurretAI.cpp:870</a></div></div>
<div class="ttc" id="aclass_turret_a_i_html_a419a9b1f86a076eb81b5c43c443647d1"><div class="ttname"><a href="class_turret_a_i.html#a419a9b1f86a076eb81b5c43c443647d1">TurretAI::getTurretSweepSpeedModifierForWeaponSlot</a></div><div class="ttdeci">Real getTurretSweepSpeedModifierForWeaponSlot(WeaponSlotType slot) const</div><div class="ttdef"><b>Definition</b> <a href="#l00480">TurretAI.cpp:480</a></div></div>
<div class="ttc" id="aclass_turret_a_i_html_a535929abd9f24f52db15e5ab79a017c9"><div class="ttname"><a href="class_turret_a_i.html#a535929abd9f24f52db15e5ab79a017c9">TurretAI::getMinIdleScanAngle</a></div><div class="ttdeci">Real getMinIdleScanAngle() const</div><div class="ttdef"><b>Definition</b> <a href="_turret_a_i_8h_source.html#l00282">TurretAI.h:282</a></div></div>
<div class="ttc" id="aclass_turret_a_i_html_a598f7c625d5f90ce7cc70dac64f3860b"><div class="ttname"><a href="class_turret_a_i.html#a598f7c625d5f90ce7cc70dac64f3860b">TurretAI::friend_getPositiveSweep</a></div><div class="ttdeci">Bool friend_getPositiveSweep() const</div><div class="ttdef"><b>Definition</b> <a href="_turret_a_i_8h_source.html#l00321">TurretAI.h:321</a></div></div>
<div class="ttc" id="aclass_turret_a_i_html_a5b391c89ae91bd0a788a8870cd908646"><div class="ttname"><a href="class_turret_a_i.html#a5b391c89ae91bd0a788a8870cd908646">TurretAI::friend_getVictimInitialTeam</a></div><div class="ttdeci">const Team * friend_getVictimInitialTeam() const</div><div class="ttdef"><b>Definition</b> <a href="_turret_a_i_8h_source.html#l00331">TurretAI.h:331</a></div></div>
<div class="ttc" id="aclass_turret_a_i_html_a6429bbfd9ddf750f27c469c0f5dfb18c"><div class="ttname"><a href="class_turret_a_i.html#a6429bbfd9ddf750f27c469c0f5dfb18c">TurretAI::recenterTurret</a></div><div class="ttdeci">void recenterTurret()</div><div class="ttdef"><b>Definition</b> <a href="#l00653">TurretAI.cpp:653</a></div></div>
<div class="ttc" id="aclass_turret_a_i_html_a66dc48b94b2410f67a70756a02c86529"><div class="ttname"><a href="class_turret_a_i.html#a66dc48b94b2410f67a70756a02c86529">TurretAI::setTurretTargetObject</a></div><div class="ttdeci">void setTurretTargetObject(Object *o, Bool forceAttacking)</div><div class="ttdef"><b>Definition</b> <a href="#l00571">TurretAI.cpp:571</a></div></div>
<div class="ttc" id="aclass_turret_a_i_html_a6b5b763ee5c957bf91881162a5f17735"><div class="ttname"><a href="class_turret_a_i.html#a6b5b763ee5c957bf91881162a5f17735">TurretAI::isWeaponSlotOnTurret</a></div><div class="ttdeci">Bool isWeaponSlotOnTurret(WeaponSlotType wslot) const</div><div class="ttdef"><b>Definition</b> <a href="#l00516">TurretAI.cpp:516</a></div></div>
<div class="ttc" id="aclass_turret_a_i_html_a6e0b4fdb66cb26910e8403fa86a128f5"><div class="ttname"><a href="class_turret_a_i.html#a6e0b4fdb66cb26910e8403fa86a128f5">TurretAI::getNaturalTurretPitch</a></div><div class="ttdeci">Real getNaturalTurretPitch() const</div><div class="ttdef"><b>Definition</b> <a href="_turret_a_i_8h_source.html#l00279">TurretAI.h:279</a></div></div>
<div class="ttc" id="aclass_turret_a_i_html_a7153a4eb1c78aeb6001c00e647984179"><div class="ttname"><a href="class_turret_a_i.html#a7153a4eb1c78aeb6001c00e647984179">TurretAI::TurretAI</a></div><div class="ttdeci">TurretAI(Object *owner, const TurretAIData *data, WhichTurretType tur)</div><div class="ttdef"><b>Definition</b> <a href="#l00272">TurretAI.cpp:272</a></div></div>
<div class="ttc" id="aclass_turret_a_i_html_a7321dfbcbdf1c29116b7d0e0c8c645ce"><div class="ttname"><a href="class_turret_a_i.html#a7321dfbcbdf1c29116b7d0e0c8c645ce">TurretAI::setTurretTargetPosition</a></div><div class="ttdeci">void setTurretTargetPosition(const Coord3D *pos)</div><div class="ttdef"><b>Definition</b> <a href="#l00613">TurretAI.cpp:613</a></div></div>
<div class="ttc" id="aclass_turret_a_i_html_a787a9243413b9ad690519934a43f97aa"><div class="ttname"><a href="class_turret_a_i.html#a787a9243413b9ad690519934a43f97aa">TurretAI::isAllowsPitch</a></div><div class="ttdeci">Bool isAllowsPitch() const</div><div class="ttdef"><b>Definition</b> <a href="_turret_a_i_8h_source.html#l00273">TurretAI.h:273</a></div></div>
<div class="ttc" id="aclass_turret_a_i_html_a88a75fe1f82c4d88661e279ea476b49b"><div class="ttname"><a href="class_turret_a_i.html#a88a75fe1f82c4d88661e279ea476b49b">TurretAI::getMaxIdleScanAngle</a></div><div class="ttdeci">Real getMaxIdleScanAngle() const</div><div class="ttdef"><b>Definition</b> <a href="_turret_a_i_8h_source.html#l00283">TurretAI.h:283</a></div></div>
<div class="ttc" id="aclass_turret_a_i_html_a89e17794a9b3581b114a34c0d7013dc8"><div class="ttname"><a href="class_turret_a_i.html#a89e17794a9b3581b114a34c0d7013dc8">TurretAI::notifyFired</a></div><div class="ttdeci">virtual void notifyFired()</div><div class="ttdef"><b>Definition</b> <a href="#l00486">TurretAI.cpp:486</a></div></div>
<div class="ttc" id="aclass_turret_a_i_html_a916864a91cfbeccadf50f4d76979e23d"><div class="ttname"><a href="class_turret_a_i.html#a916864a91cfbeccadf50f4d76979e23d">TurretAI::friend_setPositiveSweep</a></div><div class="ttdeci">void friend_setPositiveSweep(Bool b)</div><div class="ttdef"><b>Definition</b> <a href="_turret_a_i_8h_source.html#l00322">TurretAI.h:322</a></div></div>
<div class="ttc" id="aclass_turret_a_i_html_a957aa9e08679051a856f61dd5faddb02"><div class="ttname"><a href="class_turret_a_i.html#a957aa9e08679051a856f61dd5faddb02">TurretAI::friend_isSweepEnabled</a></div><div class="ttdeci">Bool friend_isSweepEnabled() const</div><div class="ttdef"><b>Definition</b> <a href="#l00861">TurretAI.cpp:861</a></div></div>
<div class="ttc" id="aclass_turret_a_i_html_a9809a63b511b17bad9e6a893f7c06e3c"><div class="ttname"><a href="class_turret_a_i.html#a9809a63b511b17bad9e6a893f7c06e3c">TurretAI::loadPostProcess</a></div><div class="ttdeci">virtual void loadPostProcess()</div><div class="ttdef"><b>Definition</b> <a href="#l00383">TurretAI.cpp:383</a></div></div>
<div class="ttc" id="aclass_turret_a_i_html_a9a861100c7018332e431533908c57f3d"><div class="ttname"><a href="class_turret_a_i.html#a9a861100c7018332e431533908c57f3d">TurretAI::isForceAttacking</a></div><div class="ttdeci">Bool isForceAttacking() const</div><div class="ttdef"><b>Definition</b> <a href="_turret_a_i_8h_source.html#l00293">TurretAI.h:293</a></div></div>
<div class="ttc" id="aclass_turret_a_i_html_aa0c4709722d94b8c7cdd61b12a80c85b"><div class="ttname"><a href="class_turret_a_i.html#aa0c4709722d94b8c7cdd61b12a80c85b">TurretAI::getFirePitch</a></div><div class="ttdeci">Real getFirePitch() const</div><div class="ttdef"><b>Definition</b> <a href="_turret_a_i_8h_source.html#l00277">TurretAI.h:277</a></div></div>
<div class="ttc" id="aclass_turret_a_i_html_aa7c2a1cee790931324fc30f7ca0a75aa"><div class="ttname"><a href="class_turret_a_i.html#aa7c2a1cee790931324fc30f7ca0a75aa">TurretAI::friend_checkForIdleMoodTarget</a></div><div class="ttdeci">void friend_checkForIdleMoodTarget()</div><div class="ttdef"><b>Definition</b> <a href="#l00879">TurretAI.cpp:879</a></div></div>
<div class="ttc" id="aclass_turret_a_i_html_aac58bf7824a1b81ed912418dfeddeb02"><div class="ttname"><a href="class_turret_a_i.html#aac58bf7824a1b81ed912418dfeddeb02">TurretAI::isOwnersCurWeaponOnTurret</a></div><div class="ttdeci">Bool isOwnersCurWeaponOnTurret() const</div><div class="ttdef"><b>Definition</b> <a href="#l00508">TurretAI.cpp:508</a></div></div>
<div class="ttc" id="aclass_turret_a_i_html_aafc5da8acfef48bb04e0c2a2cc8d0c10"><div class="ttname"><a href="class_turret_a_i.html#aafc5da8acfef48bb04e0c2a2cc8d0c10">TurretAI::getTurnRate</a></div><div class="ttdeci">Real getTurnRate() const</div><div class="ttdef"><b>Definition</b> <a href="_turret_a_i_8h_source.html#l00274">TurretAI.h:274</a></div></div>
<div class="ttc" id="aclass_turret_a_i_html_ab07bf95f1e024cfa289f329fb0d61059"><div class="ttname"><a href="class_turret_a_i.html#ab07bf95f1e024cfa289f329fb0d61059">TurretAI::getRecenterTime</a></div><div class="ttdeci">UnsignedInt getRecenterTime() const</div><div class="ttdef"><b>Definition</b> <a href="_turret_a_i_8h_source.html#l00286">TurretAI.h:286</a></div></div>
<div class="ttc" id="aclass_turret_a_i_html_abf799c851a82533efc156fea27f43c04"><div class="ttname"><a href="class_turret_a_i.html#abf799c851a82533efc156fea27f43c04">TurretAI::getNaturalTurretAngle</a></div><div class="ttdeci">Real getNaturalTurretAngle() const</div><div class="ttdef"><b>Definition</b> <a href="_turret_a_i_8h_source.html#l00275">TurretAI.h:275</a></div></div>
<div class="ttc" id="aclass_turret_a_i_html_ac73d99bf848187d90b329a6fdba86462"><div class="ttname"><a href="class_turret_a_i.html#ac73d99bf848187d90b329a6fdba86462">TurretAI::getPitchRate</a></div><div class="ttdeci">Real getPitchRate() const</div><div class="ttdef"><b>Definition</b> <a href="_turret_a_i_8h_source.html#l00276">TurretAI.h:276</a></div></div>
<div class="ttc" id="aclass_turret_a_i_html_acc8d60d1e29873412393c194cc070b2b"><div class="ttname"><a href="class_turret_a_i.html#acc8d60d1e29873412393c194cc070b2b">TurretAI::friend_isAnyWeaponInRangeOf</a></div><div class="ttdeci">Bool friend_isAnyWeaponInRangeOf(const Object *o) const</div><div class="ttdef"><b>Definition</b> <a href="#l00836">TurretAI.cpp:836</a></div></div>
<div class="ttc" id="aclass_turret_a_i_html_ad0f2ba7bf5772e33736df5061671fac6"><div class="ttname"><a href="class_turret_a_i.html#ad0f2ba7bf5772e33736df5061671fac6">TurretAI::isTurretInNaturalPosition</a></div><div class="ttdeci">Bool isTurretInNaturalPosition() const</div><div class="ttdef"><b>Definition</b> <a href="#l00659">TurretAI.cpp:659</a></div></div>
<div class="ttc" id="aclass_turret_a_i_html_ad2dc7b50ab30bc2d414a3474cdce71db"><div class="ttname"><a href="class_turret_a_i.html#ad2dc7b50ab30bc2d414a3474cdce71db">TurretAI::crc</a></div><div class="ttdeci">virtual void crc(Xfer *xfer)</div><div class="ttdef"><b>Definition</b> <a href="#l00336">TurretAI.cpp:336</a></div></div>
<div class="ttc" id="aclass_turret_a_i_html_ad4989f065015a595d8a973982e7db420"><div class="ttname"><a href="class_turret_a_i.html#ad4989f065015a595d8a973982e7db420">TurretAI::friend_getTurretTarget</a></div><div class="ttdeci">TurretTargetType friend_getTurretTarget(Object *&amp;obj, Coord3D &amp;pos, Bool clearDeadTargets=TRUE) const</div><div class="ttdef"><b>Definition</b> <a href="#l00522">TurretAI.cpp:522</a></div></div>
<div class="ttc" id="aclass_turret_a_i_html_adaf2759b8b8b164f85947dec65cfd396"><div class="ttname"><a href="class_turret_a_i.html#adaf2759b8b8b164f85947dec65cfd396">TurretAI::xfer</a></div><div class="ttdeci">virtual void xfer(Xfer *xfer)</div><div class="ttdef"><b>Definition</b> <a href="#l00343">TurretAI.cpp:343</a></div></div>
<div class="ttc" id="aclass_turret_a_i_html_adb0c48853562697c940fab99627ecadb"><div class="ttname"><a href="class_turret_a_i.html#adb0c48853562697c940fab99627ecadb">TurretAI::getGroundUnitPitch</a></div><div class="ttdeci">Real getGroundUnitPitch() const</div><div class="ttdef"><b>Definition</b> <a href="_turret_a_i_8h_source.html#l00278">TurretAI.h:278</a></div></div>
<div class="ttc" id="aclass_turret_a_i_html_adccdfd3cc5aa2c271ec9605f93f7b010"><div class="ttname"><a href="class_turret_a_i.html#adccdfd3cc5aa2c271ec9605f93f7b010">TurretAI::getOwner</a></div><div class="ttdeci">Object * getOwner()</div><div class="ttdef"><b>Definition</b> <a href="_turret_a_i_8h_source.html#l00287">TurretAI.h:287</a></div></div>
<div class="ttc" id="aclass_turret_a_i_html_ae9db9e792e1b0e0a52ddc9cf16a95001"><div class="ttname"><a href="class_turret_a_i.html#ae9db9e792e1b0e0a52ddc9cf16a95001">TurretAI::friend_turnTowardsPitch</a></div><div class="ttdeci">Bool friend_turnTowardsPitch(Real pitch, Real rateModifier)</div><div class="ttdef"><b>Definition</b> <a href="#l00432">TurretAI.cpp:432</a></div></div>
<div class="ttc" id="aclass_turret_a_i_html_aea2cab2226f6f9a7e846da7110c1ca64"><div class="ttname"><a href="class_turret_a_i.html#aea2cab2226f6f9a7e846da7110c1ca64">TurretAI::isTryingToAimAtTarget</a></div><div class="ttdeci">Bool isTryingToAimAtTarget(const Object *victim) const</div><div class="ttdef"><b>Definition</b> <a href="#l00498">TurretAI.cpp:498</a></div></div>
<div class="ttc" id="aclass_turret_a_i_html_aec789919058e5d75ea4867c5c52d8f6f"><div class="ttname"><a href="class_turret_a_i.html#aec789919058e5d75ea4867c5c52d8f6f">TurretAI::setTurretEnabled</a></div><div class="ttdeci">void setTurretEnabled(Bool enabled)</div><div class="ttdef"><b>Definition</b> <a href="#l00761">TurretAI.cpp:761</a></div></div>
<div class="ttc" id="aclass_turret_a_i_html_aecf3658d4b525881cecae0335e1a34c8"><div class="ttname"><a href="class_turret_a_i.html#aecf3658d4b525881cecae0335e1a34c8">TurretAI::getTurretPitch</a></div><div class="ttdeci">Real getTurretPitch() const</div><div class="ttdef"><b>Definition</b> <a href="_turret_a_i_8h_source.html#l00271">TurretAI.h:271</a></div></div>
<div class="ttc" id="aclass_turret_a_i_idle_scan_state_html"><div class="ttname"><a href="class_turret_a_i_idle_scan_state.html">TurretAIIdleScanState</a></div><div class="ttdef"><b>Definition</b> <a href="_turret_a_i_8h_source.html#l00124">TurretAI.h:125</a></div></div>
<div class="ttc" id="aclass_turret_a_i_idle_scan_state_html_a2b317055ad47b0c9b602fdbc908e5c54"><div class="ttname"><a href="class_turret_a_i_idle_scan_state.html#a2b317055ad47b0c9b602fdbc908e5c54">TurretAIIdleScanState::update</a></div><div class="ttdeci">virtual StateReturnType update()</div><div class="ttdef"><b>Definition</b> <a href="#l01381">TurretAI.cpp:1381</a></div></div>
<div class="ttc" id="aclass_turret_a_i_idle_scan_state_html_a67eb97b2dab28cd5e7aa76016da42670"><div class="ttname"><a href="class_turret_a_i_idle_scan_state.html#a67eb97b2dab28cd5e7aa76016da42670">TurretAIIdleScanState::crc</a></div><div class="ttdeci">virtual void crc(Xfer *xfer)</div><div class="ttdef"><b>Definition</b> <a href="#l01337">TurretAI.cpp:1337</a></div></div>
<div class="ttc" id="aclass_turret_a_i_idle_scan_state_html_a773c2dd88770e3a5df446e82f56ab1a6"><div class="ttname"><a href="class_turret_a_i_idle_scan_state.html#a773c2dd88770e3a5df446e82f56ab1a6">TurretAIIdleScanState::xfer</a></div><div class="ttdeci">virtual void xfer(Xfer *xfer)</div><div class="ttdef"><b>Definition</b> <a href="#l01344">TurretAI.cpp:1344</a></div></div>
<div class="ttc" id="aclass_turret_a_i_idle_scan_state_html_a906db64d9921b0ba49d6501fe6706bdf"><div class="ttname"><a href="class_turret_a_i_idle_scan_state.html#a906db64d9921b0ba49d6501fe6706bdf">TurretAIIdleScanState::onEnter</a></div><div class="ttdeci">virtual StateReturnType onEnter()</div><div class="ttdoc">executed once when entering state</div><div class="ttdef"><b>Definition</b> <a href="#l01362">TurretAI.cpp:1362</a></div></div>
<div class="ttc" id="aclass_turret_a_i_idle_scan_state_html_ae78e96385fb0dee09320eac1d8e04a2c"><div class="ttname"><a href="class_turret_a_i_idle_scan_state.html#ae78e96385fb0dee09320eac1d8e04a2c">TurretAIIdleScanState::onExit</a></div><div class="ttdeci">virtual void onExit(StateExitType status)</div><div class="ttdef"><b>Definition</b> <a href="#l01401">TurretAI.cpp:1401</a></div></div>
<div class="ttc" id="aclass_turret_a_i_idle_scan_state_html_af0c64d41b776d475851654049a08b75c"><div class="ttname"><a href="class_turret_a_i_idle_scan_state.html#af0c64d41b776d475851654049a08b75c">TurretAIIdleScanState::loadPostProcess</a></div><div class="ttdeci">virtual void loadPostProcess()</div><div class="ttdef"><b>Definition</b> <a href="#l01357">TurretAI.cpp:1357</a></div></div>
<div class="ttc" id="aclass_turret_a_i_idle_state_html"><div class="ttname"><a href="class_turret_a_i_idle_state.html">TurretAIIdleState</a></div><div class="ttdef"><b>Definition</b> <a href="_turret_a_i_8h_source.html#l00104">TurretAI.h:105</a></div></div>
<div class="ttc" id="aclass_turret_a_i_idle_state_html_a152aedf8bc3c1faa8e070024331b74d2"><div class="ttname"><a href="class_turret_a_i_idle_state.html#a152aedf8bc3c1faa8e070024331b74d2">TurretAIIdleState::loadPostProcess</a></div><div class="ttdeci">virtual void loadPostProcess()</div><div class="ttdef"><b>Definition</b> <a href="#l01280">TurretAI.cpp:1280</a></div></div>
<div class="ttc" id="aclass_turret_a_i_idle_state_html_a34408862e0952269f5ae1e50fbf169e6"><div class="ttname"><a href="class_turret_a_i_idle_state.html#a34408862e0952269f5ae1e50fbf169e6">TurretAIIdleState::xfer</a></div><div class="ttdeci">virtual void xfer(Xfer *xfer)</div><div class="ttdef"><b>Definition</b> <a href="#l01267">TurretAI.cpp:1267</a></div></div>
<div class="ttc" id="aclass_turret_a_i_idle_state_html_a73c8e6a452f723a543fcca80ba4e5054"><div class="ttname"><a href="class_turret_a_i_idle_state.html#a73c8e6a452f723a543fcca80ba4e5054">TurretAIIdleState::crc</a></div><div class="ttdeci">virtual void crc(Xfer *xfer)</div><div class="ttdef"><b>Definition</b> <a href="#l01260">TurretAI.cpp:1260</a></div></div>
<div class="ttc" id="aclass_turret_a_i_idle_state_html_a97a0ecbe1adca77e08944c94c8ee2ad9"><div class="ttname"><a href="class_turret_a_i_idle_state.html#a97a0ecbe1adca77e08944c94c8ee2ad9">TurretAIIdleState::onEnter</a></div><div class="ttdeci">virtual StateReturnType onEnter()</div><div class="ttdoc">executed once when entering state</div><div class="ttdef"><b>Definition</b> <a href="#l01293">TurretAI.cpp:1293</a></div></div>
<div class="ttc" id="aclass_turret_a_i_idle_state_html_ac9fb0f89599e632019729c9c0114543a"><div class="ttname"><a href="class_turret_a_i_idle_state.html#ac9fb0f89599e632019729c9c0114543a">TurretAIIdleState::update</a></div><div class="ttdeci">virtual StateReturnType update()</div><div class="ttdoc">implements this state&#39;s behavior, decides when to change state</div><div class="ttdef"><b>Definition</b> <a href="#l01310">TurretAI.cpp:1310</a></div></div>
<div class="ttc" id="aclass_turret_a_i_recenter_turret_state_html"><div class="ttname"><a href="class_turret_a_i_recenter_turret_state.html">TurretAIRecenterTurretState</a></div><div class="ttdef"><b>Definition</b> <a href="_turret_a_i_8h_source.html#l00174">TurretAI.h:175</a></div></div>
<div class="ttc" id="aclass_turret_a_i_recenter_turret_state_html_a109939f80d952659355adf3fed833092"><div class="ttname"><a href="class_turret_a_i_recenter_turret_state.html#a109939f80d952659355adf3fed833092">TurretAIRecenterTurretState::onEnter</a></div><div class="ttdeci">virtual StateReturnType onEnter()</div><div class="ttdoc">executed once when entering state</div><div class="ttdef"><b>Definition</b> <a href="#l01216">TurretAI.cpp:1216</a></div></div>
<div class="ttc" id="aclass_turret_a_i_recenter_turret_state_html_a32c25d7ea0fd0856cf6b7f24870c5a5b"><div class="ttname"><a href="class_turret_a_i_recenter_turret_state.html#a32c25d7ea0fd0856cf6b7f24870c5a5b">TurretAIRecenterTurretState::update</a></div><div class="ttdeci">virtual StateReturnType update()</div><div class="ttdef"><b>Definition</b> <a href="#l01226">TurretAI.cpp:1226</a></div></div>
<div class="ttc" id="aclass_turret_a_i_recenter_turret_state_html_ade85b8da9b0022e59f54eb988a3e2377"><div class="ttname"><a href="class_turret_a_i_recenter_turret_state.html#ade85b8da9b0022e59f54eb988a3e2377">TurretAIRecenterTurretState::onExit</a></div><div class="ttdeci">virtual void onExit(StateExitType status)</div><div class="ttdef"><b>Definition</b> <a href="#l01249">TurretAI.cpp:1249</a></div></div>
<div class="ttc" id="aclass_turret_state_html_a97dd4a49c7bd787b784061142a7db8b6"><div class="ttname"><a href="class_turret_state.html#a97dd4a49c7bd787b784061142a7db8b6">TurretState::getTurretAI</a></div><div class="ttdeci">TurretAI * getTurretAI()</div><div class="ttdef"><b>Definition</b> <a href="_turret_a_i_8h_source.html#l00099">TurretAI.h:99</a></div></div>
<div class="ttc" id="aclass_turret_state_machine_html"><div class="ttname"><a href="class_turret_state_machine.html">TurretStateMachine</a></div><div class="ttdef"><b>Definition</b> <a href="_turret_a_i_8h_source.html#l00066">TurretAI.h:67</a></div></div>
<div class="ttc" id="aclass_turret_state_machine_html_a0fe7d1e2d5d9227322bc07edf830a839"><div class="ttname"><a href="class_turret_state_machine.html#a0fe7d1e2d5d9227322bc07edf830a839">TurretStateMachine::loadPostProcess</a></div><div class="ttdeci">virtual void loadPostProcess()</div><div class="ttdef"><b>Definition</b> <a href="#l00167">TurretAI.cpp:167</a></div></div>
<div class="ttc" id="aclass_turret_state_machine_html_a15b43fbd37c71a65436f36665315874f"><div class="ttname"><a href="class_turret_state_machine.html#a15b43fbd37c71a65436f36665315874f">TurretStateMachine::xfer</a></div><div class="ttdeci">virtual void xfer(Xfer *xfer)</div><div class="ttdef"><b>Definition</b> <a href="#l00156">TurretAI.cpp:156</a></div></div>
<div class="ttc" id="aclass_turret_state_machine_html_a90f9a2f47a1c738897a3e93528520ec1"><div class="ttname"><a href="class_turret_state_machine.html#a90f9a2f47a1c738897a3e93528520ec1">TurretStateMachine::setState</a></div><div class="ttdeci">virtual StateReturnType setState(StateID newStateID)</div><div class="ttdoc">change the current state of the machine (which may cause further state changes, due to onEnter)</div><div class="ttdef"><b>Definition</b> <a href="#l00134">TurretAI.cpp:134</a></div></div>
<div class="ttc" id="aclass_turret_state_machine_html_ac1f6058ddf53c2413e828b036f27e6ac"><div class="ttname"><a href="class_turret_state_machine.html#ac1f6058ddf53c2413e828b036f27e6ac">TurretStateMachine::crc</a></div><div class="ttdeci">virtual void crc(Xfer *xfer)</div><div class="ttdef"><b>Definition</b> <a href="#l00149">TurretAI.cpp:149</a></div></div>
<div class="ttc" id="aclass_turret_state_machine_html_ad33c522bcf043913a2c61e8d6f14db1d"><div class="ttname"><a href="class_turret_state_machine.html#ad33c522bcf043913a2c61e8d6f14db1d">TurretStateMachine::clear</a></div><div class="ttdeci">virtual void clear()</div><div class="ttdoc">clear the machine&#39;s internals to a known, initialized state</div><div class="ttdef"><b>Definition</b> <a href="#l00112">TurretAI.cpp:112</a></div></div>
<div class="ttc" id="aclass_turret_state_machine_html_aeee631adfb79296d9e6ba17c087e6143"><div class="ttname"><a href="class_turret_state_machine.html#aeee631adfb79296d9e6ba17c087e6143">TurretStateMachine::TurretStateMachine</a></div><div class="ttdeci">TurretStateMachine(TurretAI *tai, Object *owner, AsciiString name)</div><div class="ttdef"><b>Definition</b> <a href="#l00089">TurretAI.cpp:89</a></div></div>
<div class="ttc" id="aclass_turret_state_machine_html_af280e5da8fc0f19f4dfa9d6cac1bd689"><div class="ttname"><a href="class_turret_state_machine.html#af280e5da8fc0f19f4dfa9d6cac1bd689">TurretStateMachine::getTurretAI</a></div><div class="ttdeci">TurretAI * getTurretAI() const</div><div class="ttdef"><b>Definition</b> <a href="_turret_a_i_8h_source.html#l00077">TurretAI.h:77</a></div></div>
<div class="ttc" id="aclass_turret_state_machine_html_af7d189926a1c3c51b4695116b96c14e6"><div class="ttname"><a href="class_turret_state_machine.html#af7d189926a1c3c51b4695116b96c14e6">TurretStateMachine::resetToDefaultState</a></div><div class="ttdeci">virtual StateReturnType resetToDefaultState()</div><div class="ttdoc">clear the machine&#39;s internals and set to the default state</div><div class="ttdef"><b>Definition</b> <a href="#l00122">TurretAI.cpp:122</a></div></div>
<div class="ttc" id="aclass_weapon_html"><div class="ttname"><a href="class_weapon.html">Weapon</a></div><div class="ttdef"><b>Definition</b> <a href="_weapon_8h_source.html#l00564">Weapon.h:566</a></div></div>
<div class="ttc" id="aclass_weapon_html_a6da7f6ad978fdfbc78f9d475e029c10f"><div class="ttname"><a href="class_weapon.html#a6da7f6ad978fdfbc78f9d475e029c10f">Weapon::isWithinAttackRange</a></div><div class="ttdeci">Bool isWithinAttackRange(const Object *source, const Object *target) const</div><div class="ttdef"><b>Definition</b> <a href="_weapon_8cpp_source.html#l02176">Weapon.cpp:2176</a></div></div>
<div class="ttc" id="aclass_weapon_html_a6e60fdd7d4cdd28a6d03149190d64457"><div class="ttname"><a href="class_weapon.html#a6e60fdd7d4cdd28a6d03149190d64457">Weapon::getAttackRange</a></div><div class="ttdeci">Real getAttackRange(const Object *source) const</div><div class="ttdef"><b>Definition</b> <a href="_weapon_8cpp_source.html#l02360">Weapon.cpp:2360</a></div></div>
<div class="ttc" id="aclass_weapon_html_af21b89522d9ac16d4a7268975b14121f"><div class="ttname"><a href="class_weapon.html#af21b89522d9ac16d4a7268975b14121f">Weapon::getStatus</a></div><div class="ttdeci">WeaponStatus getStatus() const</div><div class="ttdef"><b>Definition</b> <a href="_weapon_8cpp_source.html#l02760">Weapon.cpp:2760</a></div></div>
<div class="ttc" id="aclass_xfer_html"><div class="ttname"><a href="class_xfer.html">Xfer</a></div><div class="ttdef"><b>Definition</b> <a href="_xfer_8h_source.html#l00111">Xfer.h:112</a></div></div>
<div class="ttc" id="astruct_coord3_d_html"><div class="ttname"><a href="struct_coord3_d.html">Coord3D</a></div><div class="ttdef"><b>Definition</b> <a href="_base_type_8h_source.html#l00331">BaseType.h:332</a></div></div>
<div class="ttc" id="astruct_coord3_d_html_a795c89b1014410c81a1463f4e1a974af"><div class="ttname"><a href="struct_coord3_d.html#a795c89b1014410c81a1463f4e1a974af">Coord3D::length</a></div><div class="ttdeci">Real length(void) const</div><div class="ttdef"><b>Definition</b> <a href="_base_type_8h_source.html#l00335">BaseType.h:335</a></div></div>
<div class="ttc" id="astruct_coord3_d_html_a8553013d0fabd891803924a4df2c0a8d"><div class="ttname"><a href="struct_coord3_d.html#a8553013d0fabd891803924a4df2c0a8d">Coord3D::z</a></div><div class="ttdeci">Real z</div><div class="ttdef"><b>Definition</b> <a href="_base_type_8h_source.html#l00333">BaseType.h:333</a></div></div>
<div class="ttc" id="astruct_coord3_d_html_ab908b7d10aa7cc8fb535d38963ae620e"><div class="ttname"><a href="struct_coord3_d.html#ab908b7d10aa7cc8fb535d38963ae620e">Coord3D::zero</a></div><div class="ttdeci">void zero(void)</div><div class="ttdef"><b>Definition</b> <a href="_base_type_8h_source.html#l00357">BaseType.h:357</a></div></div>
<div class="ttc" id="astruct_field_parse_html"><div class="ttname"><a href="struct_field_parse.html">FieldParse</a></div><div class="ttdef"><b>Definition</b> <a href="_game_engine_2_include_2_common_2_i_n_i_8h_source.html#l00115">INI.h:116</a></div></div>
<div class="ttc" id="astruct_state_condition_info_html"><div class="ttname"><a href="struct_state_condition_info.html">StateConditionInfo</a></div><div class="ttdef"><b>Definition</b> <a href="_state_machine_8h_source.html#l00129">StateMachine.h:130</a></div></div>
<div class="ttc" id="astruct_t_bridge_attack_info_html"><div class="ttname"><a href="struct_t_bridge_attack_info.html">TBridgeAttackInfo</a></div><div class="ttdef"><b>Definition</b> <a href="_terrain_logic_8h_source.html#l00154">TerrainLogic.h:155</a></div></div>
<div class="ttc" id="astruct_t_bridge_attack_info_html_a2783ee593952c2c0043ee5055bf7a800"><div class="ttname"><a href="struct_t_bridge_attack_info.html#a2783ee593952c2c0043ee5055bf7a800">TBridgeAttackInfo::attackPoint2</a></div><div class="ttdeci">Coord3D attackPoint2</div><div class="ttdef"><b>Definition</b> <a href="_terrain_logic_8h_source.html#l00157">TerrainLogic.h:157</a></div></div>
<div class="ttc" id="astruct_t_bridge_attack_info_html_a401c4d2fc8e8f36e720a6398a79d8965"><div class="ttname"><a href="struct_t_bridge_attack_info.html#a401c4d2fc8e8f36e720a6398a79d8965">TBridgeAttackInfo::attackPoint1</a></div><div class="ttdeci">Coord3D attackPoint1</div><div class="ttdef"><b>Definition</b> <a href="_terrain_logic_8h_source.html#l00157">TerrainLogic.h:157</a></div></div>
<div class="ttc" id="aunion_int_html"><div class="ttname"><a href="union_int.html">Int</a></div><div class="ttdef"><b>Definition</b> <a href="blowfish_8cpp_source.html#l00055">blowfish.cpp:55</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_23fdee2f6995db16c755697cdf620cf4.html">Code</a></li><li class="navelem"><a class="el" href="dir_2afaf83f7f326cb9149ef5259e9dd5d1.html">GameEngine</a></li><li class="navelem"><a class="el" href="dir_f892522411a591b84ce68f5d7c1c43fe.html">Source</a></li><li class="navelem"><a class="el" href="dir_3e81504a01ebb246e57ea329aea022ed.html">GameLogic</a></li><li class="navelem"><a class="el" href="dir_f8d911a844bbaf921c53819864b7e371.html">AI</a></li><li class="navelem"><a class="el" href="_turret_a_i_8cpp.html">TurretAI.cpp</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
